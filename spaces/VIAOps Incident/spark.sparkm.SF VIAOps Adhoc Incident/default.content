<DataPipeModel description="Provide subflow for reading Anomaly from Anomaly Table" name="SF VIAOps Adhoc Incident" editBy="flow" is_init="false" useStreaming="auto" durableStreaming="false" streamingAutoStart="false" useHive="auto" batchDuration="P1M" runAsService="false" checkpoint="" batchSampling="true" sparkMasterHost="">
  <HiveConfig>
    <Properties>
      <Property name="hive.warehouse.hdfs.source" value=""/>
      <Property name="hive.metastore.data.source" value=""/>
      <Property name="hive.server2.thrift.port" value=""/>
      <Property name="hive.db.schema" value=""/>
    </Properties>
  </HiveConfig>
  <ModelInfo validated="true">
    <Pipes>
      <Pipe index="1000" uuid="" name="(main)">
      </Pipe>
    </Pipes>
    <Flows>
      <Flow index="1000" uuid="Main" isNested="false" revision="4" name="Main" showFooter="true">
      <Codes>
      </Codes>
      <Libraries>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[]</Properties>
      </Flow>
      <Flow index="2000" uuid="Adhoc Incident Source" isNested="true" revision="156" acceptedSourceTypes="DStream" registered="true" subflowPath="viaops.incident.adhoc" name="Adhoc Incident Source" showFooter="true">
        <Node index="2001" uuid="d257afbb-376e-4b9f-8ffd-9155f820f901" type="outPort" label="Anomaly" x="460" y="100" width="76.6875" height="40">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_anomaly_source">
              <DataSource category="#OUTPUT" id="undefined" name="Anomaly" nodeId="9d87e6c3-b064-4b1d-8c9a-ce6265384d93">
                <Field name="adm_name" label="adm_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="algorithm_name" label="algorithm_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window_size" label="window_size" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="window_step" label="window_step" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dow" label="dow" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="aggr_metric" label="aggr_metric" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="last_interval_metric" label="last_interval_metric" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_median" label="baseline_median" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stdev" label="baseline_stdev" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_mad" label="baseline_mad" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stdev_hly" label="baseline_stdev_hly" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_mad_hly" label="baseline_mad_hly" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stdev_wkl" label="baseline_stdev_wkl" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_mad_wkl" label="baseline_mad_wkl" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stdev_wkh" label="baseline_stdev_wkh" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_mad_wkh" label="baseline_mad_wkh" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_avg" label="baseline_avg" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="median_baseline" label="median_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mean_baseline" label="mean_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stats" label="baseline_stats" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score_method" label="score_method" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="zscore" label="zscore" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mzscore" label="mzscore" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cscore" label="cscore" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="deviation" label="deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="upper_score" label="upper_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="lower_score" label="lower_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="lower_threshold" label="lower_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="upper_threshold" label="upper_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="conf_id" label="conf_id" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="trigger" label="trigger" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="new_metric" label="new_metric" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="is_anomaly" label="is_anomaly" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="date_key" label="date_key" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="base_metric_id" label="base_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Model>
<Properties>
{"type":{"name":"viaops.incident_anomaly_source","kind":"caseclass"}}
</Properties>
            </Model>
        </Node>
        <Node index="2002" uuid="9d87e6c3-b064-4b1d-8c9a-ce6265384d93" type="Adhoc" label="Load Anoamly" x="260" y="80" width="130" height="75">
            <Output name="Anomaly" uid="0" outputType="DStream" dataType="class:viaops.incident_anomaly_source" referenceType="viaops.incident_anomaly_source">
              <Field name="adm_name" label="adm_name" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="algorithm_name" label="algorithm_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window_size" label="window_size" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="window_step" label="window_step" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dow" label="dow" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="aggr_metric" label="aggr_metric" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="last_interval_metric" label="last_interval_metric" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_median" label="baseline_median" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_stdev" label="baseline_stdev" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_mad" label="baseline_mad" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_stdev_hly" label="baseline_stdev_hly" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_mad_hly" label="baseline_mad_hly" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_stdev_wkl" label="baseline_stdev_wkl" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_mad_wkl" label="baseline_mad_wkl" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_stdev_wkh" label="baseline_stdev_wkh" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_mad_wkh" label="baseline_mad_wkh" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_avg" label="baseline_avg" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="median_baseline" label="median_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="mean_baseline" label="mean_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_stats" label="baseline_stats" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score_method" label="score_method" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="zscore" label="zscore" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="mzscore" label="mzscore" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="cscore" label="cscore" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="deviation" label="deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="upper_score" label="upper_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="lower_score" label="lower_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="lower_threshold" label="lower_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="upper_threshold" label="upper_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="conf_id" label="conf_id" type="integer" clazz="" isArray="false" isOptional="true"/>
              <Field name="trigger" label="trigger" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="new_metric" label="new_metric" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="is_anomaly" label="is_anomaly" type="boolean" clazz="" isArray="false" isOptional="false"/>
              <Field name="date_key" label="date_key" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="base_metric_id" label="base_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
              <Script><![CDATA[

  import java.text.SimpleDateFormat
  import java.util.{ Date, TimeZone }
  import org.apache.spark.sql.types._
  import viaops.incident_anomaly_source

  val tableName = "${anomaly_table}"
  var retval: DStream[incident_anomaly_source] = null
  val source = new org.apache.spark.streaming.dstream.VTDummyDStream(ssc)

  //UI setting
  val growCol = "start_tm"
  val timezone = "${timezone}"
  val localZone = java.util.TimeZone.getDefault.toZoneId.toString()
  val enableDST = true
  val parser = if (timezone != null && !timezone.isEmpty) {
new Parser(timezone, enableDST)
  } else {
new Parser()
  }

  def getMillis(v: String) = if ("$now".equals(v)) {
System.currentTimeMillis()
  } else {
parser.parseDateTime(v, "yyyy-MM-dd").getTime
  }

  val start_ms = getMillis("${from}")
  val end_ms = getMillis("${to}")
  //range to millisecond
  var from = start_ms
  val to = end_ms

  //step to millisecond
  var timeStep: Long = "${interval}".toLong * 1000 * 3600

  val spark = hiveContext.sparkSession
  val processedDays = scala.collection.mutable.Set[Long]()
  // drop old partitions
  val step = timeStep

  //adjust range start
  val offset = 0
  from = from + offset

  //growing field to millisecond
  val filterCol: String = growCol

  //prepare to loop for batches
  var currentVal: Long = from
  import spark.implicits._
  var loopEnd = false
  
  com.vitria.viaops.StreamingControllerUtil.initStopBatchTime(ssc)
  
  retval = source.transform((rdd, time) => {
if (currentVal < to) {
  val start = currentVal
  var end = currentVal + step
  if (end > to) end = to
  val sql = s"""
                   | select * from (
                   |       select * from ${tableName}
                   |       where date_key >= cast(date_format(to_utc_timestamp(from_unixtime($$_start$$L/1000), '$localZone'), 'yyyyMMdd') as int)
                   |       and date_key <= cast(date_format(to_utc_timestamp(from_unixtime($$_end$$L/1000), '$localZone'), 'yyyyMMdd') as int)
                   | )
                   | where
                   |       $filterCol >= $start * 1L/1000 and
                   |       $filterCol < $end * 1L/1000
""".replace("$_start$", start.toString).replace("$_end$", end.toString).stripMargin

  currentVal = currentVal + step
  val r_rdd = hiveContext.sql(sql).as[incident_anomaly_source].rdd

  val sdf = new java.text.SimpleDateFormat("yyyyMMddHHmmss")
  val ts = sdf.format(new java.util.Date(time.milliseconds))
  logger.info("stream time:" + ts + ", sql:" + sql)

  r_rdd
} else {
  if (true && loopEnd) {
logger.info("Reset the model stop at streaming time:" + time )
com.vitria.viaops.StreamingControllerUtil.updateMaxTimestamp(time)
  }
  loopEnd =
true
  logger.info(s"Loop query end $currentVal")
  rdd.map(x => x.asInstanceOf[incident_anomaly_source])
}
  })
  ]]></Script>
            </Model>
        </Node>
        <Link srcId="9d87e6c3-b064-4b1d-8c9a-ce6265384d93" srcPort="dout:0" tgtId="d257afbb-376e-4b9f-8ffd-9155f820f901" tgtPort="in:0"/>
      <Codes>
      </Codes>
      <Libraries>
          <Lib scope="system" systemPath="${VTBA_HOME}/VIAOps/libs/AnomalyDetection-1.0.jar"/>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"anomaly_table","label":"Anomaly Table Name","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_metric_history","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"from","label":"Compensation Start Date","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"2020-06-01","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"to","label":"Compensation End Date","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"2020-06-07","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"timezone","label":"Timezone","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"GMT","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"interval","label":"Incremental Interval In Hours","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"1","enumSource":"","runtimeControl":false}]</Properties>
      </Flow>
      <Flow index="3000" uuid="Incident Output For IG" isNested="true" revision="167" acceptedSourceTypes="DStream" registered="true" subflowPath="viaops.incident.adhoc" name="Incident Output For IG" showFooter="true">
        <Node index="3001" uuid="10e219af-379a-466f-8a2f-a2fabf27dfa5" type="inPort" label="In" x="120" y="130" width="70" height="40">
            <Output name="Out" uid="0" outputType="*" dataType="class:DA_result" referenceType="DA_result">
              <Field name="data" label="data" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
<Properties>
{"portType":"*","type":{"name":"DA_result","kind":"caseclass"}}
</Properties>
            </Model>
        </Node>
        <Node index="3002" uuid="a1cc44f2-eaba-4938-8df7-e24d77a641e1" type="Compute" label="Map Date_key" x="260" y="120" width="130" height="75">
            <Source name="source" uid="0" outputType="*" dataType="class:DA_result">
              <DataSource category="#OUTPUT" id="undefined" name="Out" nodeId="10e219af-379a-466f-8a2f-a2fabf27dfa5">
                <Field name="data" label="data" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="*" dataType="class:datekey_incident_plus_da_Class">
              <Field name="date_key" label="date_key" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="data" label="data" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model _caseClass="datekey_incident_plus_da_Class" isClassRef="false">
              <Computes>
                <Compute op="sleText" field="" arg="" value="substring(data,locate(&quot;date_key&quot;,data,1)+10,8)" outputType="string" alias="date_key" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="data" outputType="string" alias="data" wordWarp="true"/>
              </Computes>
              <CheckboxStatus isChecked="true"/>
            </Model>
        </Node>
        <Node index="3003" uuid="d492f684-80b7-4dc7-87c1-9747f8fbcd1f" type="StreamTarget" label="Save to Hive" x="465" y="114" width="130" height="75">
            <Source name="source" uid="0" dataType="class:datekey_incident_plus_da_Class">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="a1cc44f2-eaba-4938-8df7-e24d77a641e1">
                <Field name="date_key" label="date_key" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="data" label="data" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" dataType="class:datekey_incident_plus_da_Class">
              <Field name="date_key" label="date_key" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="data" label="data" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model type="hiveTable" tableName="${incident_plus_da_result}" partitionType="eventField" partitionSize="" partitionColumn="date_key" partitionIndex="0" timeColumn="" overwrite="false" partitionNum="1" dataSpeed="" dataVolume="">
            </Model>
        </Node>
        <Link srcId="10e219af-379a-466f-8a2f-a2fabf27dfa5" srcPort="out:0" tgtId="a1cc44f2-eaba-4938-8df7-e24d77a641e1" tgtPort="in:0"/>
        <Link srcId="a1cc44f2-eaba-4938-8df7-e24d77a641e1" srcPort="out:0" tgtId="d492f684-80b7-4dc7-87c1-9747f8fbcd1f" tgtPort="in:0"/>
      <Codes>
      </Codes>
      <Libraries>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"incident_plus_da_result","label":"Incident Adhoc da Result","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"","enumSource":"","runtimeControl":false}]</Properties>
      <Types>[{"name":"DA_result","namespace":"","schema":[{"name":"data","type":"string","_isOptional":false,"_isArray":false}]}]</Types>
      </Flow>
      <Flow index="4000" uuid="Incident Output" isNested="true" revision="162" acceptedSourceTypes="DStream" registered="true" subflowPath="viaops.incident.adhoc" name="Incident Output" showFooter="true">
        <Node index="4001" uuid="ab621554-0fb1-4331-835f-988fe3a2d61e" type="inPort" label="incident" x="90" y="40" width="72.703125" height="40">
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_out" referenceType="viaops.incident_out">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
<Properties>
{"portType":"DStream","type":{"name":"viaops.incident_out","kind":"caseclass"}}
</Properties>
            </Model>
        </Node>
        <Node index="4002" uuid="44c68688-36db-4d23-8a55-7350664b0915" type="outPort" label="incidnet_plus_da" x="780" y="126" width="70" height="40">
            <Source name="source" uid="0" outputType="DStream" dataType="String">
              <DataSource category="#OUTPUT" id="undefined" name="Out" nodeId="64cdcce8-9f7b-43c6-8609-5b5b69d16f41">
                <Field name="data" label="data" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream">
            </Output>
            <Model>
<Properties>
{"portType":"*"}
</Properties>
            </Model>
        </Node>
        <Node index="4003" uuid="5e671a68-7040-486e-8e36-3dbd9713b6c6" type="Compute" label="Normalize Incident History" x="260" y="20" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="ab621554-0fb1-4331-835f-988fe3a2d61e">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_store">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model _caseClass="viaops.incident_store" isClassRef="true">
              <Computes>
                <Compute op="sleText" field="*" arg="" value="algorithm" outputType="string" alias="algorithm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="start_tm" outputType="long" alias="start_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="end_tm" outputType="long" alias="end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="event_tm" outputType="long" alias="event_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_id" outputType="string" alias="metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="id" outputType="string" alias="id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="state" outputType="string" alias="state" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="operation" outputType="string" alias="operation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="window" outputType="string" alias="window" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="score" outputType="double" alias="score" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="peak_score" outputType="double" alias="peak_score" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="severity" outputType="string" alias="severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="derived_severity" outputType="string" alias="derived_severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="max_severity" outputType="string" alias="max_severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_measure" outputType="double" alias="metric_measure" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_baseline" outputType="double" alias="metric_baseline" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="factor" outputType="double" alias="factor" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_deviation" outputType="double" alias="metric_deviation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_id" outputType="string" alias="contextual_metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_start_tm" outputType="long" alias="contextual_metric_start_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_end_tm" outputType="long" alias="contextual_metric_end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_aggr" outputType="double" alias="contextual_metric_aggr" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_baseline" outputType="double" alias="contextual_metric_baseline" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_deviation" outputType="double" alias="contextual_metric_deviation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="expire_tm" outputType="long" alias="expire_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="generated_tm" outputType="long" alias="generated_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="date_key" outputType="long" alias="date_key" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="active_duration" outputType="long" alias="active_duration" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_policy" outputType="string" alias="threshold_policy" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_low" outputType="double" alias="threshold_low" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_med" outputType="double" alias="threshold_med" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_high" outputType="double" alias="threshold_high" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="reason" outputType="string" alias="reason" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="action" outputType="string" alias="action" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="warmup_threshold" outputType="double" alias="warmup_threshold" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="warmup_duration" outputType="long" alias="warmup_duration" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="cooldown_duration" outputType="long" alias="cooldown_duration" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_keys" outputType="string" alias="dim_keys" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_values" outputType="string" alias="dim_values" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="config_metric_id" outputType="string" alias="config_metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_pattern" outputType="string" alias="dim_pattern" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="service_name" outputType="string" alias="service_name" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="sub_service_name" outputType="string" alias="sub_service_name" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="correlation_end_tm" outputType="long" alias="correlation_end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="alternate_id" outputType="string" alias="alternate_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="mode" outputType="string" alias="mode" wordWarp="true"/>
              </Computes>
              <CheckboxStatus isChecked="false"/>
            </Model>
        </Node>
        <Node index="4004" uuid="0805067f-70d5-49bc-8004-53520e41aeaf" type="StreamTarget" label="Capture Incident History" x="440" y="20" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_store">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="5e671a68-7040-486e-8e36-3dbd9713b6c6">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_store">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model type="hiveTable" tableName="${p_incident_table}" partitionType="eventField" partitionSize="" partitionColumn="date_key" partitionIndex="26" timeColumn="" overwrite="false" partitionNum="1" dataSpeed="" dataVolume="">
              <__binding__><![CDATA[{"snapshotTableName":"","memoryTable":"","tableName":"snapshotTableName"}]]></__binding__>
            </Model>
        </Node>
        <Node index="4005" uuid="c394cdf3-5037-4d16-857e-755c9e537e65" type="Compute" label="Prepare for Grouping" x="433" y="109" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="bedc6a7c-35fc-49bb-87ed-43d4264fc1fe">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_for_grouping">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="target" label="target" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model _caseClass="viaops.incident_for_grouping" isClassRef="true">
              <Computes>
                <Compute op="sleText" field="*" arg="" value="algorithm" outputType="string" alias="algorithm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="start_tm" outputType="long" alias="start_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="end_tm" outputType="long" alias="end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="event_tm" outputType="long" alias="event_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_id" outputType="string" alias="metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="id" outputType="string" alias="id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="state" outputType="string" alias="state" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="operation" outputType="string" alias="operation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="window" outputType="string" alias="window" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="score" outputType="double" alias="score" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="peak_score" outputType="double" alias="peak_score" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="severity" outputType="string" alias="severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="derived_severity" outputType="string" alias="derived_severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="max_severity" outputType="string" alias="max_severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_measure" outputType="double" alias="metric_measure" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_baseline" outputType="double" alias="metric_baseline" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="factor" outputType="double" alias="factor" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_deviation" outputType="double" alias="metric_deviation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_id" outputType="string" alias="contextual_metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_start_tm" outputType="long" alias="contextual_metric_start_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_end_tm" outputType="long" alias="contextual_metric_end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_aggr" outputType="double" alias="contextual_metric_aggr" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_baseline" outputType="double" alias="contextual_metric_baseline" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="contextual_metric_deviation" outputType="double" alias="contextual_metric_deviation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="causation_measure" outputType="string" alias="causation_measure" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="causation_top_count" outputType="integer" alias="causation_top_count" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="causation_min_measure" outputType="double" alias="causation_min_measure" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="causation_rule_name" outputType="string" alias="causation_rule_name" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="causation_suppl_measure" outputType="string" alias="causation_suppl_measure" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="expire_tm" outputType="long" alias="expire_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="generated_tm" outputType="long" alias="generated_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="date_key" outputType="long" alias="date_key" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_policy" outputType="string" alias="threshold_policy" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_low" outputType="double" alias="threshold_low" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_med" outputType="double" alias="threshold_med" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_high" outputType="double" alias="threshold_high" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="&quot;&quot;" outputType="string" alias="target" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="service_name" outputType="string" alias="service_name" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="sub_service_name" outputType="string" alias="sub_service_name" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="correlation_end_tm" outputType="long" alias="correlation_end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="active_duration" outputType="long" alias="active_duration" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="config_metric_id" outputType="string" alias="config_metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_keys" outputType="string" alias="dim_keys" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_pattern" outputType="string" alias="dim_pattern" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_values" outputType="string" alias="dim_values" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="alternate_id" outputType="string" alias="alternate_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="cooldown_duration" outputType="long" alias="cooldown_duration" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="mode" outputType="string" alias="mode" wordWarp="true"/>
              </Computes>
              <CheckboxStatus isChecked="false"/>
            </Model>
        </Node>
        <Node index="4006" uuid="bedc6a7c-35fc-49bb-87ed-43d4264fc1fe" type="Filter" label="Filter Groupable Incident" x="260" y="112" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="ab621554-0fb1-4331-835f-988fe3a2d61e">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model filterModel="form">
              <Filters>
                <Filter field="" op="sleText" arg="" value="" sleText="groupable=&apos;y&apos; and state != &apos;Warmup&apos;"/>
              </Filters>
            </Model>
        </Node>
        <Node index="4007" uuid="bd3908ca-511d-4162-85e9-5dd38b6b65bf" type="subflow" label="Incident Summary" x="260" y="193" width="140" height="75">
            <Source name="Incident" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="ab621554-0fb1-4331-835f-988fe3a2d61e">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="summary" uid="0" outputType="DStream" dataType="class:viaops.incident_summary">
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="system_tm" label="system_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="exp_tm" label="exp_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="score_max" label="score_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_measure_sum" label="metric_measure_sum" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_measure_max" label="metric_measure_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_baseline_max" label="metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_deviation_max" label="metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="incident_duration" label="incident_duration" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="anomalies" label="anomalies" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
<Properties>
{"subFlow":"remote:///viaops.incident/Incident Summary","p_summary_table":""}
</Properties>
              <__subflow__>
              <Flow index="4007" uuid="Incident Summary" isNested="true" revision="357" acceptedSourceTypes="RDD,DStream,DataFrame" referenceURI="remote:///viaops.incident/Incident Summary" name="Incident Summary" showFooter="true">
                <Node index="4007_1" uuid="b6a56df4-821d-4bb1-8b19-2a1f1af75d47" type="stateMachine" label="Incident Roll Up" x="440" y="109" width="140" height="75">
                    <Source name="source1" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
                      <DataSource category="#OUTPUT" id="undefined" name="Out" nodeId="259ad008-b191-431d-8ad7-d03d2c1a442e">
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Output name="isp" uid="0" outputType="DStream" dataType="class:viaops.incident_summary" referenceType="viaops.incident_summary">
                      <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="system_tm" label="system_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="exp_tm" label="exp_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="score_max" label="score_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_measure_sum" label="metric_measure_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_measure_max" label="metric_measure_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_baseline_max" label="metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_deviation_max" label="metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="incident_duration" label="incident_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="anomalies" label="anomalies" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model>
<Properties>
{"isEventTime":"true","source":[{"_deletable":false,"source":"source1","correlation":["id"],"timestamp":"event_tm","drop":true,"_id":"af1c482e-3d28-4ca8-8242-ce60b6166452"}],"states":[{"name":"Start","label":"Start","_id":"Start","type":"Start","x":"50","y":"130","onEntryAction":{"statements":[]},"onStayAction":{"statements":[]},"onExitAction":{"statements":[]}},{"name":"State For Each Incident","label":"State For Each Incident","_id":"State","type":"State","x":"210","y":"110","onEntryAction":{"statements":[{"id":"d0a573a1-bec8-4288-8456-1a54b2475291","internalID":"ad870ab7-da56-438b-80ef-292ea4f41d3c","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"incident_start"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"incident_start = 0 and  (source1.state = \"Active\" or (source1.start_tm != 0 and source1.algorithm=&apos;declared&apos;))","type":"boolean","option":true}}]},{"id":"b5c5ac42-d379-43de-8f66-cb53e95d95ea","internalID":"536c36e1-2fe0-43cd-8725-3377e9409603","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"incident_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"99278be8-4825-44f9-8fdd-9e1d273f1f61","internalID":"f438e819-4728-4928-8cce-8f7f8c490b8f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"score_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.score","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.score &gt; score_max","type":"boolean","option":true}}]},{"id":"3ce65406-4cbe-4731-8dc6-00bb335354a4","internalID":"cf796fa3-0942-47ea-8bf1-be3b7c6ccf5d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_measure_sum + source1.metric_measure","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"404ad488-650c-4873-8901-01b8b87c3a48","internalID":"6b5c7654-f634-4e4a-85d2-8c514a23d213","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_measure_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state!=\"Cooldown\"","type":"boolean","option":true}}]},{"id":"e6e22233-bace-4fc9-84e7-0b114661c250","internalID":"78f5c5d4-347a-4015-88d3-8a689959d1ab","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_measure","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_measure &gt; metric_measure_max","type":"boolean","option":true}}]},{"id":"88057d18-d8bb-4b6b-8fb5-d55eafa4c511","internalID":"5d9c381b-2b90-4bb3-8488-f7255ff63d21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_baseline_sum + source1.metric_baseline","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"875fffac-5b54-451d-80be-b37997ae0158","internalID":"2c07a7b6-06f3-477a-8492-60fcf60c1348","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_baseline_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"1302023d-a7e5-42ce-8f15-66f7ab987986","internalID":"0f8670d6-99ab-467b-8342-6cca50d59074","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_baseline &gt; metric_baseline_max","type":"boolean","option":true}}]},{"id":"e6d3681c-0897-4e64-81d0-62dfc11b7090","internalID":"9a9e71b4-a7f5-49f8-886c-c76a2c41ca07","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_deviation &gt; metric_deviation_max","type":"boolean","option":true}}]},{"id":"c6c2c479-6ad7-4888-8629-4614b8808ee8","internalID":"900ecd1d-bdfb-472a-8e7f-14a7d34a0c21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_aggr_sum + source1.contextual_metric_aggr","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"03870298-528c-4951-80a7-9bf630550a3e","internalID":"d1cc7242-3ad8-41b6-87e3-0899521f479e","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_aggr_sum","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"2b7b02aa-90f7-41cf-8150-3635a3c6c724","internalID":"5c35b4bd-1b5c-4bc9-8f35-31506019d928","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; contextual_metric_aggr_max","type":"boolean","option":true}}]},{"id":"2eac7b21-f035-4625-8e33-fd815e5a5b60","internalID":"da9c0535-d321-48af-8079-b733c4c7e70f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_baseline_sum + source1.contextual_metric_baseline","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"e2749845-300e-485d-894f-3896cc8820cb","internalID":"2b1490fd-3842-4bbf-8b8f-cc71ef4449f9","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_baseline_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"65a7ca76-c324-456a-8175-e6cfd43195ac","internalID":"efe5fbf5-33c6-47da-8358-1ca7e772f90f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline &gt; contextual_metric_baseline_max","type":"boolean","option":true}}]},{"id":"dcd1735f-0c41-4264-8798-d6ce08c21d66","internalID":"58c94dcf-60dc-4261-8157-0bf2377da32d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation &gt; contextual_metric_deviation_max","type":"boolean","option":true}}]},{"id":"175b1959-47da-4fa5-8257-7e456afe70f4","internalID":"8a09abb1-7876-4931-8503-ce2eed4e40e0","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_start"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0 and contextual_metric_detect_start = 0","type":"boolean","option":true}}]},{"id":"309732a0-23cb-4f83-835b-f3e07670e76d","internalID":"5316bf8c-4e5b-46d6-8ad6-11eff3a07cae","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0","type":"boolean","option":true}}]},{"id":"8eb16e11-a57d-4bdf-8a73-5983022ec89a","internalID":"6e3f650c-e683-4b15-82ca-12349c9731d1","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"anomalies"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"anomalies + 1","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Warmup\"","type":"boolean","option":true}}]},{"id":"0f5bf502-7745-4767-8222-f9d454dc9563","internalID":"ab9004da-2f47-41a0-85d8-9502d5f015fe","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"evt"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1","type":"viaops.incident_out","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"c6aceb6e-c9ea-4f4e-8826-678ead25c559","internalID":"054c5ec0-f572-4cba-823c-e84424297006","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"mode"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.mode","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"e94371b6-f09f-4e2f-8a63-10c7a4daf65c","internalID":"b81422cd-2839-4e69-86ac-5ced76606f71","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"changed"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]},"onStayAction":{"statements":[{"id":"f5f14d35-826a-479e-8840-579f26cea839","internalID":"ad870ab7-da56-438b-80ef-292ea4f41d3c","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"incident_start"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"incident_start = 0 and  source1.state = \"Active\"","type":"boolean","option":true}}]},{"id":"96851c10-a970-4c32-845e-f03746be2d97","internalID":"536c36e1-2fe0-43cd-8725-3377e9409603","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"incident_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"8a71f1d1-b652-4ef5-8c98-5121652f4aff","internalID":"f438e819-4728-4928-8cce-8f7f8c490b8f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"score_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.score","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.score &gt; score_max","type":"boolean","option":true}}]},{"id":"4f0fb90d-d94f-43e6-8930-95fec58492eb","internalID":"cf796fa3-0942-47ea-8bf1-be3b7c6ccf5d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_measure_sum + source1.metric_measure","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9c5ae461-9832-4f83-8bfe-6adf76fcdf0a","internalID":"6b5c7654-f634-4e4a-85d2-8c514a23d213","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_measure_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state!=\"Cooldown\"","type":"boolean","option":true}}]},{"id":"3e2bb246-a9cd-4fc2-8640-1703d1c062dc","internalID":"78f5c5d4-347a-4015-88d3-8a689959d1ab","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_measure","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_measure &gt; metric_measure_max","type":"boolean","option":true}}]},{"id":"ca76541b-e4e2-4dfe-843a-1455939166e6","internalID":"5d9c381b-2b90-4bb3-8488-f7255ff63d21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_baseline_sum + source1.metric_baseline","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"fffe90d0-e388-4b1f-8993-012b6bd16603","internalID":"2c07a7b6-06f3-477a-8492-60fcf60c1348","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_baseline_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"000473c4-97d4-49f8-8beb-54fd54dc796f","internalID":"0f8670d6-99ab-467b-8342-6cca50d59074","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_baseline &gt; metric_baseline_max","type":"boolean","option":true}}]},{"id":"d38ebbd9-a9fb-4c5d-820b-10909ad1fa02","internalID":"9a9e71b4-a7f5-49f8-886c-c76a2c41ca07","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_deviation &gt; metric_deviation_max","type":"boolean","option":true}}]},{"id":"9e274176-0259-4374-86bb-7535af4d9357","internalID":"900ecd1d-bdfb-472a-8e7f-14a7d34a0c21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_aggr_sum + source1.contextual_metric_aggr","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"b90e7221-d104-4d8e-82a5-12d591138885","internalID":"d1cc7242-3ad8-41b6-87e3-0899521f479e","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_aggr_sum","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"8c556e3f-7498-48d3-80f3-b3103b04fc7e","internalID":"5c35b4bd-1b5c-4bc9-8f35-31506019d928","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; contextual_metric_aggr_max","type":"boolean","option":true}}]},{"id":"b2adfff2-3e11-456f-818e-b61aa2e3a43a","internalID":"da9c0535-d321-48af-8079-b733c4c7e70f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_baseline_sum + source1.contextual_metric_baseline","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"50275ae6-315e-4787-8925-d4103a43f0c4","internalID":"2b1490fd-3842-4bbf-8b8f-cc71ef4449f9","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_baseline_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"9ab31f93-3f2e-433f-8f95-779402322ca5","internalID":"efe5fbf5-33c6-47da-8358-1ca7e772f90f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline &gt; contextual_metric_baseline_max","type":"boolean","option":true}}]},{"id":"c938d949-6687-495b-8a7b-704b87ca6cd6","internalID":"58c94dcf-60dc-4261-8157-0bf2377da32d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation &gt; contextual_metric_deviation_max","type":"boolean","option":true}}]},{"id":"7102fced-e79d-49b0-8729-eba3431bcfc7","internalID":"8a09abb1-7876-4931-8503-ce2eed4e40e0","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_start"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0 and contextual_metric_detect_start = 0","type":"boolean","option":true}}]},{"id":"79f32cfb-811c-4977-82ff-45b49685e06a","internalID":"5316bf8c-4e5b-46d6-8ad6-11eff3a07cae","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0","type":"boolean","option":true}}]},{"id":"da75a55b-43db-4900-8810-23a3cb3e8581","internalID":"6e3f650c-e683-4b15-82ca-12349c9731d1","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"anomalies"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"anomalies + 1","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Warmup\"","type":"boolean","option":true}}]},{"id":"840a2a72-1779-45f9-8700-c6c86dfdf11b","internalID":"7fd34bca-d698-4f89-87cb-fcdd93808705","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"evt"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1","type":"viaops.incident_out","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"3c2afd00-7650-4f1f-8317-1f320ca38753","internalID":"b81422cd-2839-4e69-86ac-5ced76606f71","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"changed"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]},"onExitAction":{"statements":[{"id":"f8cf2fe3-d31f-4bcd-8562-a6fdf6939ee1","internalID":"536c36e1-2fe0-43cd-8725-3377e9409603","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"incident_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"43cb816b-a8d7-4b77-8720-e7189904a87b","internalID":"cf796fa3-0942-47ea-8bf1-be3b7c6ccf5d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_measure_sum_nocool","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"5107e3a5-5dce-4a8b-8683-eb14c125f834","internalID":"78f5c5d4-347a-4015-88d3-8a689959d1ab","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_measure","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_measure &gt; metric_measure_max","type":"boolean","option":true}}]},{"id":"f56a4f65-da2b-4ddc-8dcf-fc655aabd73a","internalID":"5d9c381b-2b90-4bb3-8488-f7255ff63d21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_baseline_sum_nocool","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"117f0f4f-b689-4df9-8bf1-0158e85ae0aa","internalID":"0f8670d6-99ab-467b-8342-6cca50d59074","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_baseline &gt; metric_baseline_max","type":"boolean","option":true}}]},{"id":"13ba69e0-40c8-4d76-8dfd-837d514c35f8","internalID":"9a9e71b4-a7f5-49f8-886c-c76a2c41ca07","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_deviation &gt; metric_deviation_max","type":"boolean","option":true}}]},{"id":"26d57f34-717d-460d-8389-32886a73ea11","internalID":"900ecd1d-bdfb-472a-8e7f-14a7d34a0c21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_aggr_sum_nocool","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"99244d6f-5871-4132-8e88-85bfaac529d8","internalID":"5c35b4bd-1b5c-4bc9-8f35-31506019d928","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; contextual_metric_aggr_max","type":"boolean","option":true}}]},{"id":"d57baec2-aadc-47aa-8ac8-9deac3acb7c7","internalID":"da9c0535-d321-48af-8079-b733c4c7e70f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_baseline_sum_nocool","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"6657e2d8-cdd2-4d4f-8723-22b93e383809","internalID":"efe5fbf5-33c6-47da-8358-1ca7e772f90f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline &gt; contextual_metric_baseline_max","type":"boolean","option":true}}]},{"id":"3fc7e7ed-c133-4581-82d8-bb58d84af297","internalID":"58c94dcf-60dc-4261-8157-0bf2377da32d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation &gt; contextual_metric_deviation_max","type":"boolean","option":true}}]},{"id":"12ef1d30-4e06-4109-85a1-e3b27fc79368","internalID":"8a09abb1-7876-4931-8503-ce2eed4e40e0","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_start"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0 and contextual_metric_detect_start = 0","type":"boolean","option":true}}]},{"id":"05af87ff-8542-4ffe-8cef-a878c22ad7f7","internalID":"5316bf8c-4e5b-46d6-8ad6-11eff3a07cae","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0","type":"boolean","option":true}}]},{"id":"587a8ebf-b4ce-4d08-8f56-df0715c4af9c","internalID":"cc12976d-f61f-465f-8650-a4789fe124df","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"evt"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1","type":"viaops.incident_out","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"842e293a-a116-4665-8b33-897c23ce8033","internalID":"6e3f650c-e683-4b15-82ca-12349c9731d1","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"anomalies"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"anomalies + 1","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Warmup\"","type":"boolean","option":true}}]},{"id":"adc43bb5-7c87-4338-8178-44601ed10706","internalID":"b81422cd-2839-4e69-86ac-5ced76606f71","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"changed"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]}},{"name":"End","label":"End","_id":"End","type":"End","x":"423","y":"125","onEntryAction":{"statements":[{"ref":"EndInstance","desc":"End instance on condition {condition}","bindings":[{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"},"defaultValue":{"text":"true","option":"false","type":"boolean"}}]}]},"onStayAction":{"statements":[]},"onExitAction":{"statements":[]}}],"transitions":[{"_id":"tran_1","label":"all in","fromState":"Start","toState":"State For Each Incident","event":"","condition":{"text":"","type":null,"option":false},"action":{"statements":[]},"priority":0,"srcId":"Start","tgtId":"State","labelLoc":0.4126984126984127},{"_id":"tran_2","label":"closed","fromState":"State For Each Incident","toState":"End","event":"","condition":{"text":"source1.operation=\"Close\"","type":"boolean","option":true},"action":{"statements":[]},"priority":0,"srcId":"State","tgtId":"End"},{"srcId":"State","tgtId":"State","label":"stay","event":"","condition":{"text":"source1.operation!=\"Close\"","type":"boolean","option":true},"action":{"statements":[]},"priority":0,"fromState":"State For Each Incident","toState":"State For Each Incident","_id":"tran_3"}],"events":[],"variables":[{"name":"_modelStartTime","type":"long","defaultValue":{"text":"","type":"string","option":false},"_deletable":false,"_disabled":true,"_id":"ef2804be-9f82-4dce-831d-a8676fede966"},{"name":"_latestEventTime","type":"long","defaultValue":{"text":"","type":"string","option":false},"_deletable":false,"_disabled":true,"_id":"fc370de0-1a0e-485b-81a6-3c0f4b24d961"},{"name":"_startEventTime","type":"long","defaultValue":{"text":"","type":"string","option":false},"_deletable":false,"_disabled":true,"_id":"af7f3e0b-5bb8-477f-814c-038b82eea3d0"},{"_id":"658df005-bab8-43aa-83a0-ea3969165020","name":"incident_start","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"92e60070-ab4f-44a1-8e95-654e6e748ab7","name":"incident_end","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"a54eeeab-aa5f-4ec2-8604-8cb20e6febe4","name":"score_max","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"331352d6-dcc8-43c3-8083-3a9e72a89c1d","name":"metric_measure_sum","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"1fad799b-a204-419e-852b-ac114df186b5","name":"metric_measure_sum_nocool","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"d892e0af-c989-4e6d-857d-d3e8df9f69e6","name":"metric_measure_max","type":"double","defaultValue":{"text":"-9999999999","type":"int","option":false}},{"_id":"cfd94fea-299c-4a73-8788-0963c42ad574","name":"metric_baseline_sum","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"9f4f2419-3f3c-4ec8-8d0e-fd3ad50ce1ae","name":"metric_baseline_sum_nocool","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"f762883e-4d90-4cdf-88e0-6c044a09957e","name":"metric_baseline_max","type":"double","defaultValue":{"text":"-9999999999","type":"int","option":false}},{"_id":"67c8cf2a-37cf-4e34-8dd2-d57b80802cb5","name":"metric_deviation_max","type":"double","defaultValue":{"text":"-9999999999","type":"int","option":false}},{"_id":"ad5ebd80-2fc2-4404-8cc8-7d1c7945a6b4","name":"contextual_metric_aggr_sum","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"4fe18274-7205-4289-8a17-708feb272fc6","name":"contextual_metric_aggr_sum_nocool","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"54faff8b-8772-4c71-899f-63f4c01630dd","name":"contextual_metric_aggr_max","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"4485e75a-afa5-4656-8f46-c48844308889","name":"contextual_metric_baseline_sum","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"c01f5856-920f-4c2c-83bc-6463c6b5686e","name":"contextual_metric_baseline_sum_nocool","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"9f98fc75-9f4d-478c-8e3b-ab9d198e3891","name":"contextual_metric_baseline_max","type":"double","defaultValue":{"text":"-9999999999","type":"int","option":false}},{"_id":"302c27cf-66e6-4c9e-8885-d2fc126d80b8","name":"contextual_metric_deviation_max","type":"double","defaultValue":{"text":"-9999999999","type":"int","option":false}},{"_id":"b4a6591c-2809-451d-8cd0-3e00f7978086","name":"contextual_metric_detect_start","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"21767094-0972-45bf-8fcd-0e0fd580b1e6","name":"contextual_metric_detect_end","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"c7802c7b-cbe5-4db3-8ff1-bd4e8ccdff00","name":"anomalies","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"18d53371-edcf-4bdd-8f8a-d515b2c34641","name":"evt","type":"viaops.incident_out","defaultValue":{"text":"","type":"string","option":false}},{"_id":"5935b28c-afe0-46ba-83ce-1baa80f3c019","name":"mode","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"0172db31-9d3f-4ccd-806b-c0d89f930be5","name":"changed","type":"boolean","defaultValue":{"text":"false","type":"boolean","option":false}}],"aggregates":[],"globalTimers":[],"output":[{"_deletable":false,"uid":"0","output":"isp","type":{"name":"viaops.incident_summary","kind":"caseclass"},"_id":"2a32d1b6-aa9c-44e3-8e52-281d36902a24","field":"output"}],"audit":{"value":"false"},"outputLatest":{"enable":false,"uid":"","output":"Snapshots","type":{"name":"","kind":"caseclass"},"interval":{"number":"1","unit":"SECONDS"}},"persistState":{"enabled":false},"postBatchAction":{"statements":[{"id":"0709afb0-3e0a-41c4-8fcb-43edfc831a1a","internalID":"dd86a9dd-f827-43b2-8d16-65d1d4281fc2","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"    val evt = ctx.getGlobalVar[viaops.incident_out](\"evt\").get\r\n    val changed = ctx.getGlobalVar[Boolean](\"changed\").get\r\n    val isIncident = (ctx.getGlobalVar[Long](\"incident_start\").get &gt; 0)\r\n    ctx.setGlobalVar(\"changed\", false)\r\n    if (evt != null &amp;&amp; changed &amp;&amp; isIncident) {\r\n      ctx.emitOutput(\r\n        \"isp\",\r\n        viaops.incident_summary(\r\n            evt.id.getOrElse(\"\"),\r\n            evt.service_name.getOrElse(\"\"),\r\n            evt.sub_service_name.getOrElse(\"\"),\r\n            evt.date_key,\r\n            evt.metric_id.getOrElse(\"\"),\r\n            evt.algorithm.getOrElse(\"\"),\r\n            evt.threshold_policy.getOrElse(\"\"),\r\n            evt.operation.getOrElse(\"\"),\r\n            evt.state.getOrElse(\"\"),\r\n            evt.severity.getOrElse(\"\"),\r\n            evt.derived_severity.getOrElse(\"\"),\r\n            evt.max_severity.getOrElse(\"\"),\r\n            evt.factor.getOrElse(0),\r\n            evt.contextual_metric_id.getOrElse(\"\"),\r\n            evt.contextual_metric_start_tm.getOrElse(0),\r\n            evt.generated_tm.getOrElse(0),\r\n            evt.expire_tm.getOrElse(0),\r\n            evt.warmup_threshold.getOrElse(0),\r\n            evt.warmup_duration.getOrElse(0),\r\n            evt.dim_keys.getOrElse(\"\"),\r\n            evt.dim_values.getOrElse(\"\"),\r\n            evt.dim_pattern.getOrElse(\"\"),\r\n            evt.config_metric_id.getOrElse(\"\"),\r\n            ctx.getGlobalVar[Long](\"incident_start\").get,\r\n            evt.start_tm.getOrElse(0),\r\n            ctx.getGlobalVar[Long](\"incident_end\").get,\r\n            ctx.getGlobalVar[Double](\"score_max\").get,\r\n            evt.active_duration.getOrElse(0),\r\n            evt.peak_score.getOrElse(0),\r\n            ctx.getGlobalVar[Double](\"metric_measure_sum\").getOrElse(0), //from metric_measure\r\n            ctx.getGlobalVar[Double](\"metric_measure_max\").getOrElse(0), //from metric_measure\r\n            ctx.getGlobalVar[Double](\"metric_baseline_sum\").getOrElse(0),//from metric_baseline\r\n            ctx.getGlobalVar[Double](\"metric_baseline_max\").getOrElse(0),//from metric_baseline\r\n            ctx.getGlobalVar[Double](\"metric_deviation_max\").getOrElse(0),//from metric_deviation\r\n            ctx.getGlobalVar[Double](\"contextual_metric_aggr_sum\").getOrElse(0),//from contextual_metric_aggr\r\n            ctx.getGlobalVar[Double](\"contextual_metric_aggr_max\").getOrElse(0),//from contextual_metric_aggr\r\n            ctx.getGlobalVar[Double](\"contextual_metric_baseline_sum\").getOrElse(0),//from contextual_metric_aggr\r\n            ctx.getGlobalVar[Double](\"contextual_metric_baseline_max\").getOrElse(0),//from contextual_metric_aggr\r\n            ctx.getGlobalVar[Double](\"contextual_metric_deviation_max\").getOrElse(0),//from contextual_metric_deviation\r\n            evt.cooldown_duration.getOrElse(0),\r\n            ctx.getGlobalVar[Long](\"contextual_metric_detect_start\").getOrElse(0),// start_tm contextual_metric volume at least &gt; 20 and contextual_metric deviation &gt; 100%\r\n            ctx.getGlobalVar[Long](\"contextual_metric_detect_end\").getOrElse(0),  // end_tm last bin where contextual_metric volume at least &gt; 20 and contextual_metric deviation &gt; 100% during incident\r\n            (evt.warmup_duration.getOrElse(0L)) + (evt.active_duration.getOrElse(0L)) + (evt.cooldown_duration.getOrElse(0L)),\r\n            (ctx.getGlobalVar[Long](\"contextual_metric_detect_end\").getOrElse(0L)) - (ctx.getGlobalVar[Long](\"contextual_metric_detect_start\").getOrElse(0L)),\r\n            ctx.getGlobalVar[Long](\"anomalies\").getOrElse(0L),\r\n            ctx.getGlobalVar[String](\"mode\").getOrElse(\"\")\r\n        )\r\n      )\r\n    }"}]}]}}
</Properties>
                    </Model>
                </Node>
                <Node index="4007_2" uuid="259ad008-b191-431d-8ad7-d03d2c1a442e" type="inPort" label="Incident" x="220" y="129" width="70" height="40">
                    <Output name="Out" uid="0" outputType="DStream" dataType="class:viaops.incident_out" referenceType="viaops.incident_out">
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model>
<Properties>
{"portType":"*","type":{"name":"viaops.incident_out","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="4007_3" uuid="c907b735-af2f-4ceb-8c18-3334f563154c" type="outPort" label="summary" x="848" y="129" width="70" height="40">
                    <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_summary">
                      <DataSource category="#OUTPUT" id="undefined" name="summary" nodeId="b6a56df4-821d-4bb1-8b19-2a1f1af75d47">
                        <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="system_tm" label="system_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="exp_tm" label="exp_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="score_max" label="score_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_measure_sum" label="metric_measure_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_measure_max" label="metric_measure_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_baseline_max" label="metric_baseline_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_deviation_max" label="metric_deviation_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="incident_duration" label="incident_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="anomalies" label="anomalies" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Model>
<Properties>
{"type":{"name":"viaops.incident_summary","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="4007_4" uuid="13d5eab4-ba7d-4ec0-89c5-e78044be9d2e" type="JDBCTarget" label="Store to DB table" x="649" y="48" width="130" height="75">
                    <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_summary">
                      <DataSource category="#OUTPUT" id="undefined" name="isp" nodeId="b6a56df4-821d-4bb1-8b19-2a1f1af75d47">
                        <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="system_tm" label="system_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="exp_tm" label="exp_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="score_max" label="score_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_measure_sum" label="metric_measure_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_measure_max" label="metric_measure_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_baseline_max" label="metric_baseline_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_deviation_max" label="metric_deviation_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="incident_duration" label="incident_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="anomalies" label="anomalies" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_summary">
                      <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="system_tm" label="system_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="exp_tm" label="exp_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="score_max" label="score_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_measure_sum" label="metric_measure_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_measure_max" label="metric_measure_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_baseline_max" label="metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_deviation_max" label="metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="incident_duration" label="incident_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="anomalies" label="anomalies" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model type="table" sourceType="jdbc" dataSpeed="" dataVolume="" dataSource="/vitria/m3o/datasource/DefaultDomain/viaops_runtime_db" tableSchema="viaops_runtime_db" autoGenerate="true" tableInfo="{}" mode="overwrite" purge="none" tableName="${p_summary_table}">
                      <__binding__><![CDATA[{"editTable":""}]]></__binding__>
                      <datasource name="/vitria/m3o/datasource/DefaultDomain/viaops_runtime_db">
                      </datasource>
                      <uniqueColumns>
                                            <column>id</column>
                                            <column>date_key</column>
                      </uniqueColumns>
                      <updateColumns>
                        <column>operation</column>
                        <column>state</column>
                        <column>severity</column>
                        <column>derived_severity</column>
                        <column>max_severity</column>
                        <column>contextual_metric_start_tm</column>
                        <column>system_tm</column>
                        <column>exp_tm</column>
                        <column>warmup_duration</column>
                        <column>event_tm</column>
                        <column>end_tm</column>
                        <column>score_max</column>
                        <column>active_duration</column>
                        <column>peak_score</column>
                        <column>metric_measure_sum</column>
                        <column>metric_measure_max</column>
                        <column>metric_baseline_sum</column>
                        <column>metric_baseline_max</column>
                        <column>metric_deviation_max</column>
                        <column>contextual_metric_aggr_sum</column>
                        <column>contextual_metric_aggr_max</column>
                        <column>contextual_metric_baseline_sum</column>
                        <column>contextual_metric_baseline_max</column>
                        <column>contextual_metric_deviation_max</column>
                        <column>cooldown_duration</column>
                        <column>contextual_metric_detect_start_tm</column>
                        <column>contextual_metric_detect_end_tm</column>
                        <column>incident_duration</column>
                        <column>contextual_metric_duration</column>
                        <column>anomalies</column>
                      </updateColumns>
                      <advancedProperties>
                      </advancedProperties>
                      <mapping>
                        <column name="id" type="VARCHAR" size="255" field="id" label="id" mtype="string" nillable="false" isArray="false" isPrimary="true"/>
                        <column name="service_name" type="VARCHAR" size="255" field="service_name" label="service_name" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="sub_service_name" type="VARCHAR" size="255" field="sub_service_name" label="sub_service_name" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="date_key" type="BIGINT" size="" field="date_key" label="date_key" mtype="long" nillable="false" isArray="false" isPrimary="true"/>
                        <column name="metric_id" type="VARCHAR" size="255" field="metric_id" label="metric_id" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="algorithm" type="VARCHAR" size="255" field="algorithm" label="algorithm" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="threshold_policy" type="VARCHAR" size="255" field="threshold_policy" label="threshold_policy" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="operation" type="VARCHAR" size="255" field="operation" label="operation" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="state" type="VARCHAR" size="255" field="state" label="state" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="severity" type="VARCHAR" size="255" field="severity" label="severity" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="derived_severity" type="VARCHAR" size="255" field="derived_severity" label="derived_severity" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="max_severity" type="VARCHAR" size="255" field="max_severity" label="max_severity" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="factor" type="DOUBLE" size="" field="factor" label="factor" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_id" type="VARCHAR" size="255" field="contextual_metric_id" label="contextual_metric_id" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_start_tm" type="BIGINT" size="" field="contextual_metric_start_tm" label="contextual_metric_start_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="system_tm" type="BIGINT" size="" field="system_tm" label="system_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="exp_tm" type="BIGINT" size="" field="exp_tm" label="exp_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="warmup_threshold" type="DOUBLE" size="" field="warmup_threshold" label="warmup_threshold" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="warmup_duration" type="BIGINT" size="" field="warmup_duration" label="warmup_duration" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="dim_keys" type="VARCHAR" size="255" field="dim_keys" label="dim_keys" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="dim_values" type="VARCHAR" size="255" field="dim_values" label="dim_values" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="dim_pattern" type="VARCHAR" size="255" field="dim_pattern" label="dim_pattern" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="config_metric_id" type="VARCHAR" size="255" field="config_metric_id" label="config_metric_id" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="start_tm" type="BIGINT" size="" field="start_tm" label="start_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="event_tm" type="BIGINT" size="" field="event_tm" label="event_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="end_tm" type="BIGINT" size="" field="end_tm" label="end_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="score_max" type="DOUBLE" size="" field="score_max" label="score_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="active_duration" type="BIGINT" size="" field="active_duration" label="active_duration" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="peak_score" type="DOUBLE" size="" field="peak_score" label="peak_score" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="metric_measure_sum" type="DOUBLE" size="" field="metric_measure_sum" label="metric_measure_sum" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="metric_measure_max" type="DOUBLE" size="" field="metric_measure_max" label="metric_measure_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="metric_baseline_sum" type="DOUBLE" size="" field="metric_baseline_sum" label="metric_baseline_sum" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="metric_baseline_max" type="DOUBLE" size="" field="metric_baseline_max" label="metric_baseline_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="metric_deviation_max" type="DOUBLE" size="" field="metric_deviation_max" label="metric_deviation_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_aggr_sum" type="BIGINT" size="" field="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_aggr_max" type="BIGINT" size="" field="contextual_metric_aggr_max" label="contextual_metric_aggr_max" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_baseline_sum" type="DOUBLE" size="" field="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_baseline_max" type="DOUBLE" size="" field="contextual_metric_baseline_max" label="contextual_metric_baseline_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_deviation_max" type="DOUBLE" size="" field="contextual_metric_deviation_max" label="contextual_metric_deviation_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="cooldown_duration" type="BIGINT" size="" field="cooldown_duration" label="cooldown_duration" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_detect_start_tm" type="BIGINT" size="" field="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_detect_end_tm" type="BIGINT" size="" field="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="incident_duration" type="BIGINT" size="" field="incident_duration" label="incident_duration" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_duration" type="BIGINT" size="" field="contextual_metric_duration" label="contextual_metric_duration" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="anomalies" type="BIGINT" size="" field="anomalies" label="anomalies" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="mode" type="VARCHAR" size="255" field="mode" label="mode" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                      </mapping>
                    </Model>
                </Node>
                <Link srcId="259ad008-b191-431d-8ad7-d03d2c1a442e" srcPort="out:0" tgtId="b6a56df4-821d-4bb1-8b19-2a1f1af75d47" tgtPort="din:0"/>
                <Link srcId="b6a56df4-821d-4bb1-8b19-2a1f1af75d47" srcPort="dout:0" tgtId="c907b735-af2f-4ceb-8c18-3334f563154c" tgtPort="in:0"/>
                <Link srcId="b6a56df4-821d-4bb1-8b19-2a1f1af75d47" srcPort="dout:0" tgtId="13d5eab4-ba7d-4ec0-89c5-e78044be9d2e" tgtPort="in:0"/>
      <Codes>
      </Codes>
      <Libraries>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[{"editorType":"textInput","*":{"label":"label","desc":"desc"},"name":"p_summary_table","label":"Incident Summary Table","type":"string","optional":"false","hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_incident_summary","enumSource":"","runtimeControl":false}]</Properties>
      <Types>[{"name":"incident_summary","namespace":"viaops","schema":[{"name":"id","type":"string","_isOptional":false,"_isArray":false},{"name":"service_name","type":"string","_isOptional":false,"_isArray":false},{"name":"sub_service_name","type":"string","_isOptional":false,"_isArray":false},{"name":"date_key","type":"long","_isOptional":false,"_isArray":false},{"name":"metric_id","type":"string","_isOptional":false,"_isArray":false},{"name":"algorithm","type":"string","_isOptional":false,"_isArray":false},{"name":"threshold_policy","type":"string","_isOptional":false,"_isArray":false},{"name":"operation","type":"string","_isOptional":false,"_isArray":false},{"name":"state","type":"string","_isOptional":false,"_isArray":false},{"name":"severity","type":"string","_isOptional":false,"_isArray":false},{"name":"derived_severity","type":"string","_isOptional":false,"_isArray":false},{"name":"max_severity","type":"string","_isOptional":false,"_isArray":false},{"name":"factor","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_id","type":"string","_isOptional":false,"_isArray":false},{"name":"contextual_metric_start_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"system_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"exp_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"warmup_threshold","type":"double","_isOptional":false,"_isArray":false},{"name":"warmup_duration","type":"long","_isOptional":false,"_isArray":false},{"name":"dim_keys","type":"string","_isOptional":false,"_isArray":false},{"name":"dim_values","type":"string","_isOptional":false,"_isArray":false},{"name":"dim_pattern","type":"string","_isOptional":false,"_isArray":false},{"name":"config_metric_id","type":"string","_isOptional":false,"_isArray":false},{"name":"start_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"event_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"end_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"score_max","type":"double","_isOptional":false,"_isArray":false},{"name":"active_duration","type":"long","_isOptional":false,"_isArray":false},{"name":"peak_score","type":"double","_isOptional":false,"_isArray":false},{"name":"metric_measure_sum","type":"double","_isOptional":false,"_isArray":false},{"name":"metric_measure_max","type":"double","_isOptional":false,"_isArray":false},{"name":"metric_baseline_sum","type":"double","_isOptional":false,"_isArray":false},{"name":"metric_baseline_max","type":"double","_isOptional":false,"_isArray":false},{"name":"metric_deviation_max","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_aggr_sum","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_aggr_max","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_baseline_sum","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_baseline_max","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_deviation_max","type":"double","_isOptional":false,"_isArray":false},{"name":"cooldown_duration","type":"long","_isOptional":false,"_isArray":false},{"name":"contextual_metric_detect_start_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"contextual_metric_detect_end_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"incident_duration","type":"long","_isOptional":false,"_isArray":false},{"name":"contextual_metric_duration","type":"long","_isOptional":false,"_isArray":false},{"name":"anomalies","type":"long","_isOptional":false,"_isArray":false},{"name":"mode","type":"string","_isOptional":false,"_isArray":false}]}]</Types>
              </Flow>
</__subflow__>
              <__binding__><![CDATA[{"p_summary_table":"p_summary_table"}]]></__binding__>
            </Model>
        </Node>
        <Node index="4008" uuid="64cdcce8-9f7b-43c6-8609-5b5b69d16f41" type="subflow" label="Dimension Analysis" x="609" y="106" width="130" height="75">
            <Source name="In" uid="0" outputType="DStream" dataType="class:viaops.incident_for_grouping">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="c394cdf3-5037-4d16-857e-755c9e537e65">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="target" label="target" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="Out" uid="0" outputType="DStream" dataType="String">
              <Field name="data" label="data" type="string" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
<Properties>
{"subFlow":"remote:///viaops.incident/Dimension Analysis","p_rest_uri":"https://via1/vitria-oi/rest","p_svc_uri":"/app/dbp/user/do_admin/dbpm/DO - Manifest/AnalyticServiceManifest","p_username":"do_admin","p_password":"&lt;KdTqEVMKNES7a0K7idKu7BB&gt;","retry_times":"3","p_keyDimensionsOnly":"false"}
</Properties>
              <__subflow__>
              <Flow index="4008" uuid="Dimension Analysis" isNested="true" revision="861" acceptedSourceTypes="DStream" referenceURI="remote:///viaops.incident/Dimension Analysis" name="Dimension Analysis" showFooter="true">
                <Node index="4008_2" uuid="c66f3e18-0529-47a2-8808-a1360292c0bf" type="inPort" label="In" x="220" y="80" width="70" height="40">
                    <Output name="Out" uid="0" outputType="DStream" dataType="class:viaops.incident_for_grouping" referenceType="viaops.incident_for_grouping">
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="target" label="target" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model>
<Properties>
{"portType":"DStream","type":{"name":"viaops.incident_for_grouping","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="4008_5" uuid="ebe91bf8-cd6e-48dd-88b7-3bfc6a3078ff" type="outPort" label="Out" x="600" y="80" width="70" height="40">
                    <Source name="source" uid="0" outputType="DStream" dataType="String">
                      <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="5f4b8393-cdaf-4e2a-8afb-f1102fe2ebf1">
                        <Field name="data" label="data" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Model>
<Properties>
{"type":{"name":"viaops.DA_out","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="4008_4" uuid="5f4b8393-cdaf-4e2a-8afb-f1102fe2ebf1" type="Adhoc" label="Dimension Analysis" x="400" y="60" width="130" height="75">
                    <Source name="source1" uid="0" outputType="DStream" dataType="class:viaops.incident_for_grouping">
                      <DataSource category="#OUTPUT" id="undefined" name="Out" nodeId="c66f3e18-0529-47a2-8808-a1360292c0bf">
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="target" label="target" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Output name="out" uid="0" outputType="DStream" dataType="String" referenceType="string">
                      <Field name="data" label="data" type="string" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model isDynamicSchema="false">
                      <Script><![CDATA[val retval = source1.vtMap(
x => {
	if(System.getProperty("disableCertificateValidatio_done")==null) {
	    disableCertificateValidation
		System.setProperty("disableCertificateValidatio_done","true")
	}
	val token = getToken("${p_rest_uri}/login")
	val svcManifest = getSvcManifest("${p_rest_uri}"+"${p_svc_uri}".replaceAll(" ", "%20"),token)
	var incident_da : org.json4s.JObject = JObject.apply()
	var cntx_da : org.json4s.JObject = JObject.apply()
	var dimResultIsOk : Boolean = false
	implicit val formats = DefaultFormats   
	if (svcManifest != null) {
		import scala.util.parsing.json._
		val svcJson:Option[Any] = JSON.parseFull(svcManifest);
		val svcMap:Map[String,Map[String,String]] = svcJson.get.asInstanceOf[Map[String, Map[String,String]]]
		val da_uri = svcMap.get("EnhancedDimensionAnalysis").get("url")
		      
		val interval = Integer.parseInt(x.window.get.split("/")(1))*60
		val start_tm = x.start_tm.get
		val end_tm =  (if (x.end_tm.get != 0) x.end_tm.get else x.event_tm.get) + interval
		val cacheType = if (x.state =="Close") "persistent" else "transient"
		val dimFilters = JArray(List(
		                          (("name","$.metricID")~("value",x.metric_id)),
		                          (("name","$.cacheConfig")~("value",("key1"->x.id)~("key2"->"DA:#")~("type"->cacheType)~("force"->"true"))),
		                          (("name","data.timeRange")~("value","absolute:"+start_tm+"/"+ end_tm)),
		                          (("name","$.rankLimit")~("value",0)),
		                          (("name","$.excludeEventFilters")~("value",true)),
		                          (("name","$.dimensionList")~("value",("compound-dimensions", JArray(List())))),
		                          (("name","$.compatibilityMode")~("value",false)),
		                          (("name","$.keyDimensionsOnly")~("value",${p_keyDimensionsOnly}))
		                  ))
		val dimResult = invokeRest("${p_rest_uri}" + da_uri.replaceAll(" ", "%20"), 
		                          token,
		                          Map(
		                              "filters" -> compact(dimFilters), 
		                              "dimInclExcl" -> "{}"
		                          ))          
		val dimResultJson : org.json4s.JObject = 
		    if (!dimResult.isEmpty) {
		        parse(dimResult).asInstanceOf[org.json4s.JObject].transformField {
		            case ("_eventFilters", _) => ("_eventFilters", "")
		          }.asInstanceOf[org.json4s.JObject]
		        } else {
		        	logger.warn("+=+= Cannot get dimResult: dimFilters["+dimFilters+"], da_uri["+da_uri+"]")
		        	JObject.apply()
		        }
		dimResultIsOk = (dimResultJson \ "status").toOption.nonEmpty && (dimResultJson \ "status").extract[String].toLowerCase  == "ok"
		if (dimResultIsOk) {
		    incident_da = ("incident_da" ->  (("pfilters" -> org.apache.commons.codec.binary.Base64.encodeBase64String(compact(dimFilters).getBytes())) ~ (dimResultJson \ "value").asInstanceOf[org.json4s.JObject]))      
		    if (!(x.`contextual_metric_id`.getOrElse("").isEmpty())) {
		        val cFilters =
		            JArray(List(
		              (("name","$.metricID")~("value",x.`contextual_metric_id`)),
		              (("name","$.cacheConfig")~("value",("key1"->x.id)~("key2"->("DA:"+x.`contextual_metric_id`))~("type"->cacheType)~("force"->"true"))),
		              (("name","data.timeRange")~("value","absolute:"+start_tm+"/" + end_tm)),
		              (("name","$.excludeEventFilters")~("value",true)),
		              (("name","$.dimensionList")~("value",("compound-dimensions", JArray(List()))))
		            ))
		        val cntxResult = invokeRest("${p_rest_uri}"+da_uri.replaceAll(" ", "%20"),
		            token,
		            Map(
		              "filters" -> compact(cFilters),
		              "dimInclExcl" -> "{}"
		            ))
		        val cntxRJson = 
		            if (!cntxResult.isEmpty) {
		               parse(cntxResult).asInstanceOf[org.json4s.JObject].transformField {
		                case ("_eventFilters", _) => ("_eventFilters", "")
		              }.asInstanceOf[org.json4s.JObject]
		            } else {
		          	  logger.warn("+=+= Cannot get cntxResult: cFilters["+cFilters+"], da_uri["+da_uri+"]")
		          	  JObject.apply()
		            }
		          
		        val cntxResultIsOk = (cntxRJson \ "status").toOption.nonEmpty && (cntxRJson \ "status").extract[String].toLowerCase  == "ok"
		        if (cntxResultIsOk)
		            cntx_da = ("contextual_metric_da" ->  (("pfilters" -> org.apache.commons.codec.binary.Base64.encodeBase64String(compact(cFilters).getBytes())) ~~ (cntxRJson \ "value").asInstanceOf[org.json4s.JObject]))
		    }
		} else {
		    logger.warn("+=+=DA REST DA Failed!:"+dimResult)
		}
	}
	logout("${p_rest_uri}/logout", token)
	val mapper = new ObjectMapper() with ScalaObjectMapper
	mapper.registerModule(DefaultScalaModule)
	if (dimResultIsOk) {
	    compact(incident_da ~ cntx_da ~ ("incident" -> Extraction.decompose(x)) ~ ("status" -> "ok"))
	} else {
		compact(("incident" -> Extraction.decompose(x)) ~ ("status" -> "fail")) //cntx_da must be null
	}
}).cache()]]></Script>
                      <shellScript><![CDATA[{"global":"","custom_func":"    val retval = source1.vtMap(    x =>\n        \n        \"\"\r\n    )\r"}]]></shellScript>
                    </Model>
                </Node>
                <Link srcId="5f4b8393-cdaf-4e2a-8afb-f1102fe2ebf1" srcPort="dout:0" tgtId="ebe91bf8-cd6e-48dd-88b7-3bfc6a3078ff" tgtPort="in:0"/>
                <Link srcId="c66f3e18-0529-47a2-8808-a1360292c0bf" srcPort="out:0" tgtId="5f4b8393-cdaf-4e2a-8afb-f1102fe2ebf1" tgtPort="din:0"/>
      <Codes>
          <Imports><![CDATA[import java.io._
import com.vitria.spark.api.scala.StringUtils._
import java.net.{HttpURLConnection, URL, URLEncoder}
import java.security.SecureRandom
import javax.net.ssl.HttpsURLConnection
import javax.net.ssl.SSLSocketFactory
import javax.net.ssl.HostnameVerifier
import javax.net.ssl.SSLContext
import javax.net.ssl.TrustManager
import java.security.cert.X509Certificate
import javax.net.ssl.X509TrustManager
import javax.net.ssl.SSLSession
import org.json4s.jackson.JsonMethods._
import org.json4s.JsonDSL._
import org.json4s._
import com.fasterxml.jackson.databind.ObjectMapper
import com.fasterxml.jackson.module.scala.DefaultScalaModule
import com.fasterxml.jackson.module.scala.experimental.ScalaObjectMapper
]]></Imports>
          <Variables><![CDATA[def toJson[T: Manifest](mapper: ScalaObjectMapper, value: T): String = {
  mapper.writerFor[T].writeValueAsString(value)
}

def disableCertificateValidation : Unit ={
  var hv = new HostnameVerifier {
  def verify(hostname:String, session:SSLSession): Boolean = true 
  }
  var trustAllCerts:Array[TrustManager] = new Array[TrustManager](1)
  trustAllCerts(0)=  new X509TrustManager {
  def getAcceptedIssuers(): Array[X509Certificate] = new Array[X509Certificate](0)
  def checkClientTrusted(certs:Array[X509Certificate], authType:String): Unit = {}
  def checkServerTrusted(certs:Array[X509Certificate], authType:String): Unit = {} 
  }
  var sc = SSLContext.getInstance("SSL");
  sc.init(null, trustAllCerts, new SecureRandom());
  HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());
  HttpsURLConnection.setDefaultHostnameVerifier(hv);
}

def stream2Msg(iStream: InputStream): String = {
	try {
	  var str : String = null
	  val outputBuilder = new StringBuilder()
    if (iStream != null) {
	  	val reader = new BufferedReader(new InputStreamReader(iStream))
	  		str = reader.readLine()
	  		while (null != str) {
	  			outputBuilder.append(str)//.append('\n')
	  			str = reader.readLine()
	  		}
	  	  reader.close()
	  	  iStream.close()
	  	}
	  outputBuilder.toString()
  } catch {
    case ex: Exception => {""}
  }
}

def getToken(loginUrl : String) : String = {
  try {
    val connection = (new URL(loginUrl)).openConnection().asInstanceOf[HttpURLConnection]
    connection.setRequestMethod("POST")
    connection.setDoInput(true)
    connection.setDoOutput(true)
    //send username and password
    val os = connection.getOutputStream()
    val writer = new BufferedWriter(new OutputStreamWriter(os, "UTF-8"))
    writer.write(URLEncoder.encode("username", "UTF-8") + "=" + URLEncoder.encode("${p_username}", "UTF-8"))
    writer.write("&")
    writer.write(URLEncoder.encode("password", "UTF-8") + "=" + URLEncoder.encode(com.vitria.fc.data.Encrypt.unencrypt("${p_password}"), "UTF-8"))
    writer.flush()
    writer.close()
    os.close()
    
    val responseCode = connection.getResponseCode()
    // println("+=+=Login Response Code["+responseCode+"]")
    var inputStream : InputStream = null
    if (responseCode == HttpURLConnection.HTTP_OK) {
    	inputStream = connection.getInputStream()
    } else {
      logger.warn("+=+=Cannot getToken, Login URL["+loginUrl+"] usename[${p_username}]/password[${p_password}], responseCode["+responseCode+"], error["+stream2Msg(connection.getErrorStream())+"]")
    	return null
    }
    //get response
    val ret = stream2Msg(inputStream)
    connection.disconnect()
    ret     
  } catch {
    case ex: Exception => {
    	logger.warn("+=+=Cannot getToken, Login URL["+loginUrl+"] usename[${p_username}]/password[${p_password}]]" + ex.getMessage())
    	return null
    }
  }
}

def logout(logoutUrl : String, token : String) : Unit = {
    if (token == null) return;
	val connection = (new URL(logoutUrl)).openConnection().asInstanceOf[HttpURLConnection]
	connection.setRequestMethod("GET")
	connection.setRequestProperty("vttoken", token)
	val responseCode = connection.getResponseCode()
	connection.disconnect()
}

def getSvcManifest(url : String, token : String) : String = {
    if (token == null) return null
	val connection = (new URL(url)).openConnection().asInstanceOf[HttpURLConnection]
	connection.setRequestMethod("GET")
	connection.setRequestProperty("vttoken", token)
	val responseCode = connection.getResponseCode()
  var inputStream : InputStream = null
  if (responseCode == HttpURLConnection.HTTP_OK) {
  	inputStream = connection.getInputStream()
  } else {
  	logger.warn("+=+= Cannot getSvcManifest: URL["+url+"], token[" + token+"], responseCode["+responseCode+"], error["+stream2Msg(connection.getErrorStream())+"]")
  	return null
  }
  //get response
  val ret = stream2Msg(inputStream)
  connection.disconnect()
  ret
}

def invokeRest(url : String, token : String, paramers : Map[String, String]) : String = {    
	var times = Math.max(${retry_times}, 0) + 1
	while (times > 0) {
	  val startTM = System.currentTimeMillis
	  val connection = (new URL(url)).openConnection().asInstanceOf[HttpURLConnection]
	  connection.setRequestMethod("POST")
	  connection.setDoInput(true)
	  connection.setDoOutput(true)
	  connection.setRequestProperty("vttoken",token)
	  val os = connection.getOutputStream()
	  val writer = new BufferedWriter(new OutputStreamWriter(os, "UTF-8"))
	  // 	writer.write(URLEncoder.encode("vttoken", "UTF-8") + "=" + token) // URLEncoder.encode(token, "UTF-8"))
	  paramers.foreach(
	  	p => { 
	  		writer.write("&")
	  		writer.write(URLEncoder.encode(p._1, "UTF-8") + "=" + URLEncoder.encode(p._2, "UTF-8"))
	  	}
	  )
	  writer.flush()
	  writer.close()
	  os.close()
	  val responseCode = connection.getResponseCode()
	  // 	println("+=+=HTTP Response Code["+responseCode+"]")
 	  var inputStream : InputStream = null
 	  if (responseCode == HttpURLConnection.HTTP_OK) {
    	inputStream = connection.getInputStream()
 	  } else {
    	logger.warn("+=+= Cannot getSvcManifest: URL["+url+"], responseCode["+responseCode+"], error["+stream2Msg(connection.getErrorStream())+
    	"],inputStream["+stream2Msg(connection.getInputStream())+"], startTM["+ startTM+"]")
 	  }
 	  //get response
 	  val ret = stream2Msg(inputStream)
 	  connection.disconnect()
 	  if (ret.isEmpty) {
    	times -= 1
    	if (times > 0) logger.warn("+=+= retry...")
 	  } else {
    	return ret
 	  }
 	}
    ""
}
/** Global variables end **/
]]></Variables>
      </Codes>
      <Libraries>
          <Lib scope="system" systemPath="${VTBA_HOME}/wildfly/modules/com/vitria/vtlibs/main/vtfc.jar"/>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_rest_uri","label":"REST URI","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"https://via1/vitria-oi/rest","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_svc_uri","label":"Manifest URI","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"/app/dbp/user/do_admin/dbpm/DO - Manifest/AnalyticServiceManifest","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_username","label":"Service Call User Name","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"do_admin","enumSource":"","runtimeControl":false},{"editorType":"password","*":{"label":"label","desc":"desc"},"group":"common","name":"p_password","label":"Service Call Password","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"&lt;KdTqEVMKNES7a0K7idKu7BB&gt;","constraints":"password","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"retry_times","label":"Number of Retry to Call REST","type":"long","hidden":"false","disabled":false,"resolveProperty":false,"value":"3","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_keyDimensionsOnly","label":"Service Call Key Dimension Flag","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"false","enumSource":"","runtimeControl":false}]</Properties>
      <Types>[{"name":"DA_out","namespace":"viaops","schema":[{"name":"data","type":"string","_isOptional":false,"_isArray":false}]}]</Types>
              </Flow>
</__subflow__>
              <__binding__><![CDATA[{"p_rest_uri":"p_rest_uri","p_svc_uri":"p_svc_uri","p_username":"p_username","p_password":"p_password","p_keyDimensionsOnly":"p_keyDimensionsOnly"}]]></__binding__>
            </Model>
        </Node>
        <Link srcId="ab621554-0fb1-4331-835f-988fe3a2d61e" srcPort="out:0" tgtId="5e671a68-7040-486e-8e36-3dbd9713b6c6" tgtPort="in:0"/>
        <Link srcId="ab621554-0fb1-4331-835f-988fe3a2d61e" srcPort="out:0" tgtId="bedc6a7c-35fc-49bb-87ed-43d4264fc1fe" tgtPort="in:0"/>
        <Link srcId="ab621554-0fb1-4331-835f-988fe3a2d61e" srcPort="out:0" tgtId="bd3908ca-511d-4162-85e9-5dd38b6b65bf" tgtPort="din:0"/>
        <Link srcId="64cdcce8-9f7b-43c6-8609-5b5b69d16f41" srcPort="dout:0" tgtId="44c68688-36db-4d23-8a55-7350664b0915" tgtPort="in:0"/>
        <Link srcId="c394cdf3-5037-4d16-857e-755c9e537e65" srcPort="out:0" tgtId="64cdcce8-9f7b-43c6-8609-5b5b69d16f41" tgtPort="din:0"/>
        <Link srcId="bedc6a7c-35fc-49bb-87ed-43d4264fc1fe" srcPort="out:0" tgtId="c394cdf3-5037-4d16-857e-755c9e537e65" tgtPort="in:0"/>
        <Link srcId="5e671a68-7040-486e-8e36-3dbd9713b6c6" srcPort="out:0" tgtId="0805067f-70d5-49bc-8004-53520e41aeaf" tgtPort="in:0"/>
      <Codes>
      </Codes>
      <Libraries>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[{"editorType":"textInput","*":{"label":"label","desc":"desc"},"name":"p_incident_table","label":"Incident Adhoc Table","type":"string","optional":"true","hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_incident_adhoc_history","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"name":"p_summary_table","label":"Incident Adhoc Summary Table","type":"string","optional":"false","hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_incident_adhoc_summary","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_rest_uri","label":"REST URI","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"https://via1/vitria-oi/rest","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_svc_uri","label":"Manifest URI","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"/app/dbp/user/do_admin/dbpm/DO - Manifest/AnalyticServiceManifest","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_username","label":"Service Call User Name","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"do_admin","enumSource":"","runtimeControl":false},{"editorType":"password","*":{"label":"label","desc":"desc"},"group":"common","name":"p_password","label":"Service Call Password","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"&lt;KdTqEVMKNES7a0K7idKu7BB&gt;","constraints":"password","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_keyDimensionsOnly","label":"Service Call Key Dimension Flag","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"false","enumSource":"","runtimeControl":false}]</Properties>
      </Flow>
      <Flow index="5000" uuid="AS Input And Result" isNested="true" revision="385" acceptedSourceTypes="RDD" registered="true" subflowPath="viaops.incident.adhoc" name="AS Input And Result" showFooter="true">
        <Node index="5001" uuid="25f17263-d33a-4cfe-8041-b52d2536e92c" type="outPort" label="Out" x="300" y="100" width="70" height="40">
            <Source name="source" uid="0" outputType="RDD" dataType="String">
              <DataSource category="#OUTPUT" id="undefined" name="Out1" nodeId="b9b46709-9421-4838-8491-32f25b5a1d37">
                <Field name="data" label="data" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Model>
<Properties>
{}
</Properties>
            </Model>
        </Node>
        <Node index="5002" uuid="b9b46709-9421-4838-8491-32f25b5a1d37" type="Adhoc" label="Set Input and Result" x="94" y="80" width="130" height="75">
            <Output name="Out1" uid="0" outputType="RDD" dataType="String" referenceType="string">
              <Field name="data" label="data" type="string" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
              <Script><![CDATA[val isAS: Boolean = com.vitria.spark.service.ADFService.isEnabled
  if (isAS) {
    println("AS Result")
    val input = com.vitria.spark.service.ADFService.serviceProps.getProperty("override_setting")
    val summary_ds_jndi = com.vitria.viaops.ad.DBUtils.parseDatasource("${summary_ds}").get("dataSource")
    com.vitria.spark.service.ADFService.setInput(input)
    val odaDs = com.vitria.spark.service.ADFService.getODADataSource()
    com.vitria.spark.service.ADFService.addTable("${p_incident_table}", odaDs)
    com.vitria.spark.service.ADFService.addTable("${p_summary_table}", summary_ds_jndi)
    com.vitria.spark.service.ADFService.addTable("${p_incident_plus_da}", odaDs)
  }
  val retval = sc.emptyRDD[String]]]></Script>
            </Model>
        </Node>
        <Node index="5003" uuid="9d7bfcbe-fde1-495c-822f-bfa56ec08442" type="JDBCBatch" label="fake source" x="94" y="168" width="130" height="75">
            <Output name="out" uid="0" outputType="RDD" dataType="class:fake_source_Class">
              <Field name="id" label="id" type="string" isArray="false" isOptional="false" column="id" wrapName="id"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model type="jdbcBatch" sourceType="jdbc" caseClass="fake_source_Class" isClassRef="false" dataSpeed="" dataVolume="" dataSource="/vitria/m3o/datasource/DefaultDomain/viaops_runtime_db">
              <__binding__><![CDATA[{"dataSource":"summary_ds"}]]></__binding__>
              <Schema>
                <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="false" wrapName="id"/>
                <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" wrapName="service_name"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" wrapName="sub_service_name"/>
                <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false" wrapName="date_key"/>
                <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false" wrapName="metric_id"/>
                <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" wrapName="algorithm"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" wrapName="threshold_policy"/>
                <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="false" wrapName="operation"/>
                <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="false" wrapName="state"/>
                <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="false" wrapName="severity"/>
                <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="false" wrapName="derived_severity"/>
                <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="false" wrapName="max_severity"/>
                <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="false" wrapName="factor"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="false" wrapName="contextual_metric_id"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="false" wrapName="contextual_metric_start_tm"/>
                <Field name="system_tm" label="system_tm" type="long" clazz="" isArray="false" isOptional="false" wrapName="system_tm"/>
                <Field name="exp_tm" label="exp_tm" type="long" clazz="" isArray="false" isOptional="false" wrapName="exp_tm"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="false" wrapName="warmup_threshold"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="false" wrapName="warmup_duration"/>
                <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" wrapName="dim_keys"/>
                <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false" wrapName="dim_values"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" wrapName="dim_pattern"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false" wrapName="config_metric_id"/>
                <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false" wrapName="start_tm"/>
                <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="false" wrapName="event_tm"/>
                <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false" wrapName="end_tm"/>
                <Field name="score_max" label="score_max" type="double" clazz="" isArray="false" isOptional="false" wrapName="score_max"/>
                <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="false" wrapName="active_duration"/>
                <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="false" wrapName="peak_score"/>
                <Field name="metric_measure_sum" label="metric_measure_sum" type="double" clazz="" isArray="false" isOptional="false" wrapName="metric_measure_sum"/>
                <Field name="metric_measure_max" label="metric_measure_max" type="double" clazz="" isArray="false" isOptional="false" wrapName="metric_measure_max"/>
                <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false" wrapName="metric_baseline_sum"/>
                <Field name="metric_baseline_max" label="metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false" wrapName="metric_baseline_max"/>
                <Field name="metric_deviation_max" label="metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false" wrapName="metric_deviation_max"/>
                <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" clazz="" isArray="false" isOptional="false" wrapName="contextual_metric_aggr_sum"/>
                <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" clazz="" isArray="false" isOptional="false" wrapName="contextual_metric_aggr_max"/>
                <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false" wrapName="contextual_metric_baseline_sum"/>
                <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false" wrapName="contextual_metric_baseline_max"/>
                <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false" wrapName="contextual_metric_deviation_max"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="false" wrapName="cooldown_duration"/>
                <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" clazz="" isArray="false" isOptional="false" wrapName="contextual_metric_detect_start_tm"/>
                <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" clazz="" isArray="false" isOptional="false" wrapName="contextual_metric_detect_end_tm"/>
                <Field name="incident_duration" label="incident_duration" type="long" clazz="" isArray="false" isOptional="false" wrapName="incident_duration"/>
                <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" clazz="" isArray="false" isOptional="false" wrapName="contextual_metric_duration"/>
                <Field name="anomalies" label="anomalies" type="long" clazz="" isArray="false" isOptional="false" wrapName="anomalies"/>
                <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false" wrapName="mode"/>
              </Schema>
              <datasource name="/vitria/m3o/datasource/DefaultDomain/viaops_runtime_db"></datasource>
              <query>
              <table schema='viaops_runtime_db' defaultSchema='viaops_runtime_db' info='{"catalog":"viaops_runtime_db","name":"viaops_incident_summary","type":"TABLE"}'>viaops_incident_summary</table>
              <columns>
                <column>id</column>
              </columns>
              <filter>id=&apos;&apos;</filter>
              </query>
            </Model>
        </Node>
        <Link srcId="b9b46709-9421-4838-8491-32f25b5a1d37" srcPort="dout:0" tgtId="25f17263-d33a-4cfe-8041-b52d2536e92c" tgtPort="in:0"/>
      <Codes>
          <Spark><![CDATA[########## The following properties are coming from UI configuration ###########
spark.master=${spark.master}
spark.cores.max=${spark.cores.max}
spark.executor.instances=${spark.executor.instances}
spark.executor.cores=${spark.executor.cores}
spark.executor.memory=${spark.executor.memory}
vitria.spark.driver.classpath=${vitria.spark.driver.classpath}
vitria.app.class=${vitria.app.class}
vitria.app.name=${vitria.app.name}
spark.sql.hive.thriftServer.singleSession=true
spark.serializer=org.apache.spark.serializer.KryoSerializer
spark.scheduler.minRegisteredResourcesRatio=1.0
#clean non durable app checkpoint when start
vitria.spark.delete.checkpointdir=true
spark.sql.shuffle.partitions=4
spark.kryo.registrator=${spark.kryo.registrator}
spark.hadoop.cloneConf=true
spark.executor.extraJavaOptions=-Djboss.remoting.pooled-buffers=false
########### Add your spark properties here ###########################
vitria.sparkdriver.extraJavaOption=-Djboss.remoting.pooled-buffers=false]]></Spark>
      </Codes>
      <Libraries>
          <Lib scope="system" systemPath="${VTBA_HOME}/VIAOps/libs/AnomalyDetection-1.0.jar"/>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_incident_table","label":"Incident Adhoc Table","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_incident_adhoc_history","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_summary_table","label":"Incident Adhoc Summary Table","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_incident_adhoc_summary","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_incident_plus_da","label":"Incident Adhoc da Result","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_incident_adhoc_plus_da","enumSource":"","runtimeControl":false},{"editorType":"_dataSourceSelector","*":{"label":"label","desc":"desc"},"name":"summary_ds","label":"Summary Table Data Source","type":"object","hidden":"false","disabled":false,"resolveProperty":false,"value":{"dataSource":"/vitria/m3o/datasource/DefaultDomain/viaops_runtime_db"},"constraints":{"type":"dataSource","args":{}},"enumSource":"","runtimeControl":false}]</Properties>
      </Flow>
    </Flows>
  </ModelInfo>
</DataPipeModel>