<DataPipeModel description="Detect and Identify Incident in Anomaly stream using &quot;simple_threshold&quot; algorithm" name="RT VIAOps Simple Threshold Incident" editBy="flow" is_init="false" useStreaming="auto" durableStreaming="false" streamingAutoStart="false" useHive="yes" batchDuration="P1M" checkpoint="" batchSampling="true" sparkMasterHost="">
  <HiveConfig>
    <Properties>
      <Property name="hive.warehouse.hdfs.source" value=""/>
      <Property name="hive.metastore.data.source" value=""/>
      <Property name="hive.server2.thrift.port" value=""/>
      <Property name="hive.db.schema" value=""/>
    </Properties>
  </HiveConfig>
  <ModelInfo validated="true">
    <Pipes>
      <Pipe index="1000" uuid="" name="(main)">
      </Pipe>
    </Pipes>
    <Flows>
      <Flow index="1000" uuid="Main" isNested="false" revision="3649" name="Main" showFooter="true">
        <Node index="1001" uuid="0ee586c9-b13f-4a8f-8bac-605db13f7258" type="Join" label="Identify Candidate Anomaly for Incident" x="212" y="120" width="130" height="115">
            <Source name="source1" uid="0" outputType="DStream" dataType="class:ParseAnomaly_Class">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="1cab09b2-64b5-4a11-87b1-7d02780829e9">
                <Field name="adm_name" label="adm_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="algorithm_name" label="algorithm_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window_size" label="window_size" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="window_step" label="window_step" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dow" label="dow" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="aggr_metric" label="aggr_metric" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="last_interval_metric" label="last_interval_metric" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_median" label="baseline_median" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stdev" label="baseline_stdev" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_mad" label="baseline_mad" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stdev_hly" label="baseline_stdev_hly" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_mad_hly" label="baseline_mad_hly" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stdev_wkl" label="baseline_stdev_wkl" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_mad_wkl" label="baseline_mad_wkl" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stdev_wkh" label="baseline_stdev_wkh" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_mad_wkh" label="baseline_mad_wkh" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_avg" label="baseline_avg" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="median_baseline" label="median_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mean_baseline" label="mean_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stats" label="baseline_stats" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score_method" label="score_method" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="zscore" label="zscore" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mzscore" label="mzscore" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cscore" label="cscore" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="deviation" label="deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="upper_score" label="upper_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="lower_score" label="lower_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="lower_threshold" label="lower_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="upper_threshold" label="upper_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="conf_id" label="conf_id" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="trigger" label="trigger" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="new_metric" label="new_metric" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="is_anomaly" label="is_anomaly" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="base_metric_id" label="base_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Source name="source2" uid="1" outputType="DStream" dataType="class:viaops.incident_config">
              <DataSource category="#OUTPUT" id="undefined" name="out1" nodeId="7d3e88d2-ebaf-46d7-86da-4fe4626fe090">
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="metric_id"/>
                <Field name="base_metric_id" label="base_metric_id" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="base_metric_id"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="dim_keys"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="dim_pattern"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="service_name"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="sub_service_name"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="window"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="threshold_policy"/>
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="algorithm"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="mode"/>
                <Field name="emit_notification" label="emit_notification" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="emit_notification"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="threshold_high"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="threshold_low"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="threshold_med"/>
                <Field name="expire_after" label="expire_after" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="expire_after"/>
                <Field name="cool_down_period" label="cool_down_period" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="cool_down_period"/>
                <Field name="warmup_period" label="warmup_period" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="warmup_period"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="warmup_threshold"/>
                <Field name="upd_dt" label="upd_dt" type="datetime" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="upd_dt"/>
                <Field name="correlation_time" label="correlation_time" type="long" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="correlation_time"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="groupable"/>
                <Field name="metric_hist_per" label="metric_hist_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="metric_hist_per"/>
                <Field name="max_low_per" label="max_low_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="max_low_per"/>
                <Field name="max_med_per" label="max_med_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="max_med_per"/>
                <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="tot_max_low_per"/>
                <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="tot_max_med_per"/>
                <Field name="late_data_timer" label="late_data_timer" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="late_data_timer"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.raw_incident">
              <Field name="window_size" label="window_size" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="anomaly_interval" label="anomaly_interval" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="aggr_metric" label="aggr_metric" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false" column="metric_id" wrapName="metric_id"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" column="dim_keys" wrapName="dim_keys"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" column="dim_pattern" wrapName="dim_pattern"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" column="window" wrapName="window"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" column="threshold_policy" wrapName="threshold_policy"/>
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" column="algorithm" wrapName="algorithm"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" column="generate" wrapName="generate"/>
              <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" column="emit_notification" wrapName="emit_notification"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" column="threshold_high" wrapName="threshold_high"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" column="threshold_low" wrapName="threshold_low"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" column="threshold_med" wrapName="threshold_med"/>
              <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" column="expire_after" wrapName="expire_after"/>
              <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" column="cool_down_period" wrapName="cool_down_period"/>
              <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" column="warmup_period" wrapName="warmup_period"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" column="warmup_threshold" wrapName="warmup_threshold"/>
              <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" column="upd_dt" wrapName="upd_dt"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" column="service_name" wrapName="service_name"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" column="sub_service_name" wrapName="sub_service_name"/>
              <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" column="correlation_time" wrapName="correlation_time"/>
              <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" column="groupable" wrapName="groupable"/>
              <Field name="metric_hist_per" label="metric_hist_per" type="integer" clazz="" isArray="false" isOptional="true" column="metric_hist_per" wrapName="metric_hist_per"/>
              <Field name="max_low_per" label="max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_low_per" wrapName="max_low_per"/>
              <Field name="max_med_per" label="max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_med_per" wrapName="max_med_per"/>
              <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_low_per" wrapName="tot_max_low_per"/>
              <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_med_per" wrapName="tot_max_med_per"/>
              <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model joinType="InnerJoin" _caseClass="viaops.raw_incident" isClassRef="true" joinAlgorithms="broadcast">
              <Predicates sleText="source1.base_metric_id = source2.base_metric_id and source1.dim_keys = source2.dim_keys and concat(cast(source1.window_size/60,&quot;string&quot;),&quot;/&quot;,cast(source1.window_step/60,&quot;string&quot;))=source2.window "/>
              <ProjectionsEditor>
                <ProjectionInfo source="source1.algorithm_name" name="algorithm_name" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_stdev" name="baseline_stdev" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_mad" name="baseline_mad" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_stdev_wkh" name="baseline_stdev_wkh" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_mad_wkh" name="baseline_mad_wkh" level="1" exclude="true"/>
                <ProjectionInfo source="source1.mean_baseline" name="mean_baseline" level="1" exclude="true"/>
                <ProjectionInfo source="source1.cscore" name="cscore" level="1" exclude="true"/>
                <ProjectionInfo source="source1.lower_threshold" name="lower_threshold" level="1" exclude="true"/>
                <ProjectionInfo source="source1.upper_threshold" name="upper_threshold" level="1" exclude="true"/>
                <ProjectionInfo source="source1.base_metric_id" name="base_metric_id_2" level="1" exclude="true"/>
                <ProjectionInfo source="source1.dim_keys" name="dim_keys_2" level="1" exclude="true"/>
                <ProjectionInfo source="source1.adm_name" name="adm_name" level="1" exclude="true"/>
                <ProjectionInfo source="source1.window_size" name="window_size" level="1" exclude="false"/>
                <ProjectionInfo source="source1.window_step" name="anomaly_interval" level="1" exclude="false"/>
                <ProjectionInfo source="source1.start_tm" name="start_tm" level="1" exclude="false"/>
                <ProjectionInfo source="source1.end_tm" name="end_tm" level="1" exclude="false"/>
                <ProjectionInfo source="source1.metric_id" name="metric_id" level="1" exclude="false"/>
                <ProjectionInfo source="source1.dim_values" name="dim_values" level="1" exclude="false"/>
                <ProjectionInfo source="source1.dow" name="dow" level="1" exclude="true"/>
                <ProjectionInfo source="source1.algorithm" name="algorithm_2" level="1" exclude="true"/>
                <ProjectionInfo source="source1.aggr_metric" name="aggr_metric" level="1" exclude="false"/>
                <ProjectionInfo source="source1.date_key" name="date_key" level="1" exclude="false"/>
                <ProjectionInfo source="source1.last_interval_metric" name="last_interval_metric" level="1" exclude="true"/>
                <ProjectionInfo source="source1.generated_tm" name="generated_tm" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_median" name="baseline_median" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_stdev_hly" name="baseline_stdev_hly" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_mad_hly" name="baseline_mad_hly" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_stdev_wkl" name="baseline_stdev_wkl" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_mad_wkl" name="baseline_mad_wkl" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_avg" name="baseline_avg" level="1" exclude="true"/>
                <ProjectionInfo source="source1.median_baseline" name="median_baseline" level="1" exclude="true"/>
                <ProjectionInfo source="source1.baseline_stats" name="baseline_stats" level="1" exclude="true"/>
                <ProjectionInfo source="source1.score_method" name="score_method" level="1" exclude="true"/>
                <ProjectionInfo source="source1.zscore" name="zscore" level="1" exclude="true"/>
                <ProjectionInfo source="source1.deviation" name="deviation" level="1" exclude="true"/>
                <ProjectionInfo source="source1.upper_score" name="upper_score" level="1" exclude="true"/>
                <ProjectionInfo source="source1.lower_score" name="lower_score" level="1" exclude="true"/>
                <ProjectionInfo source="source1.conf_id" name="conf_id" level="1" exclude="true"/>
                <ProjectionInfo source="source1.trigger" name="trigger" level="1" exclude="true"/>
                <ProjectionInfo source="source1.new_metric" name="new_metric" level="1" exclude="true"/>
                <ProjectionInfo source="source1.severity" name="severity" level="1" exclude="true"/>
                <ProjectionInfo source="source1.is_anomaly" name="is_anomaly" level="1" exclude="true"/>
                <ProjectionInfo source="source1.mzscore" name="mzscore" level="1" exclude="true"/>
                <ProjectionInfo source="source2.metric_id" name="config_metric_id" level="1" exclude="false"/>
                <ProjectionInfo source="source2.base_metric_id" name="base_metric_id" level="1" exclude="true"/>
                <ProjectionInfo source="source2.dim_keys" name="dim_keys" level="1" exclude="false"/>
                <ProjectionInfo source="source2.dim_pattern" name="dim_pattern" level="1" exclude="false"/>
                <ProjectionInfo source="source2.window" name="window" level="1" exclude="false"/>
                <ProjectionInfo source="source2.threshold_policy" name="threshold_policy" level="1" exclude="false"/>
                <ProjectionInfo source="source2.algorithm" name="algorithm" level="1" exclude="false"/>
                <ProjectionInfo source="source2.mode" name="mode" level="1" exclude="false"/>
                <ProjectionInfo source="source2.emit_notification" name="emit_notification" level="1" exclude="false"/>
                <ProjectionInfo source="source2.threshold_high" name="threshold_high" level="1" exclude="false"/>
                <ProjectionInfo source="source2.threshold_low" name="threshold_low" level="1" exclude="false"/>
                <ProjectionInfo source="source2.threshold_med" name="threshold_med" level="1" exclude="false"/>
                <ProjectionInfo source="source2.expire_after" name="expire_after" level="1" exclude="false"/>
                <ProjectionInfo source="source2.cool_down_period" name="cool_down_period" level="1" exclude="false"/>
                <ProjectionInfo source="source2.warmup_period" name="warmup_period" level="1" exclude="false"/>
                <ProjectionInfo source="source2.warmup_threshold" name="warmup_threshold" level="1" exclude="false"/>
                <ProjectionInfo source="source2.upd_dt" name="upd_dt" level="1" exclude="false"/>
                <ProjectionInfo source="source2.service_name" name="service_name" level="1" exclude="false"/>
                <ProjectionInfo source="source2.sub_service_name" name="sub_service_name" level="1" exclude="false"/>
                <ProjectionInfo source="source2.correlation_time" name="correlation_time" level="1" exclude="false"/>
                <ProjectionInfo source="source2.groupable" name="groupable" level="1" exclude="false"/>
                <ProjectionInfo source="source2.metric_hist_per" name="metric_hist_per" level="1" exclude="false"/>
                <ProjectionInfo source="source2.max_low_per" name="max_low_per" level="1" exclude="false"/>
                <ProjectionInfo source="source2.max_med_per" name="max_med_per" level="1" exclude="false"/>
                <ProjectionInfo source="source2.tot_max_low_per" name="tot_max_low_per" level="1" exclude="false"/>
                <ProjectionInfo source="source2.tot_max_med_per" name="tot_max_med_per" level="1" exclude="false"/>
                <ProjectionInfo source="source2.late_data_timer" name="late_data_timer" level="1" exclude="false"/>
              </ProjectionsEditor>
              <Projections>
                <Projection source="source1.window_size" name="window_size" label="window_size"/>
                <Projection source="source1.window_step" name="anomaly_interval" label="anomaly_interval"/>
                <Projection source="source1.start_tm" name="start_tm" label="start_tm"/>
                <Projection source="source1.end_tm" name="end_tm" label="end_tm"/>
                <Projection source="source1.metric_id" name="metric_id" label="metric_id"/>
                <Projection source="source1.dim_values" name="dim_values" label="dim_values"/>
                <Projection source="source1.aggr_metric" name="aggr_metric" label="aggr_metric"/>
                <Projection source="source1.date_key" name="date_key" label="date_key"/>
                <Projection source="source2.metric_id" name="config_metric_id" label="config_metric_id"/>
                <Projection source="source2.dim_keys" name="dim_keys" label="dim_keys"/>
                <Projection source="source2.dim_pattern" name="dim_pattern" label="dim_pattern"/>
                <Projection source="source2.window" name="window" label="window"/>
                <Projection source="source2.threshold_policy" name="threshold_policy" label="threshold_policy"/>
                <Projection source="source2.algorithm" name="algorithm" label="algorithm"/>
                <Projection source="source2.mode" name="mode" label="mode"/>
                <Projection source="source2.emit_notification" name="emit_notification" label="emit_notification"/>
                <Projection source="source2.threshold_high" name="threshold_high" label="threshold_high"/>
                <Projection source="source2.threshold_low" name="threshold_low" label="threshold_low"/>
                <Projection source="source2.threshold_med" name="threshold_med" label="threshold_med"/>
                <Projection source="source2.expire_after" name="expire_after" label="expire_after"/>
                <Projection source="source2.cool_down_period" name="cool_down_period" label="cool_down_period"/>
                <Projection source="source2.warmup_period" name="warmup_period" label="warmup_period"/>
                <Projection source="source2.warmup_threshold" name="warmup_threshold" label="warmup_threshold"/>
                <Projection source="source2.upd_dt" name="upd_dt" label="upd_dt"/>
                <Projection source="source2.service_name" name="service_name" label="service_name"/>
                <Projection source="source2.sub_service_name" name="sub_service_name" label="sub_service_name"/>
                <Projection source="source2.correlation_time" name="correlation_time" label="correlation_time"/>
                <Projection source="source2.groupable" name="groupable" label="groupable"/>
                <Projection source="source2.metric_hist_per" name="metric_hist_per" label="metric_hist_per"/>
                <Projection source="source2.max_low_per" name="max_low_per" label="max_low_per"/>
                <Projection source="source2.max_med_per" name="max_med_per" label="max_med_per"/>
                <Projection source="source2.tot_max_low_per" name="tot_max_low_per" label="tot_max_low_per"/>
                <Projection source="source2.tot_max_med_per" name="tot_max_med_per" label="tot_max_med_per"/>
                <Projection source="source2.late_data_timer" name="late_data_timer" label="late_data_timer"/>
              </Projections>
            </Model>
        </Node>
        <Node index="1002" uuid="3bddb4b7-ab32-48b9-8513-ca68ae44cb53" type="StreamSource" label="Anomaly Stream" x="26" y="20" width="130" height="75">
            <Output name="out" uid="0" outputType="DStream" dataType="String">
              <Field name="data" label="data" type="string" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model type="textFileStream" url="${p_source}" nameFilter="" include="false" initialOffset="latest" maxFileSizeInUnit="100" maxFileSizeUnit="mb" maxFileSize="104857600" speficiedStartPosition="false" isOutputFileName="false" isSkipFirstLine="false" dataSpeed="" dataVolume="">
            </Model>
        </Node>
        <Node index="1003" uuid="1cab09b2-64b5-4a11-87b1-7d02780829e9" type="Parse" label="Parse Anomaly" x="214" y="20" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="String">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="3bddb4b7-ab32-48b9-8513-ca68ae44cb53">
                <Field name="data" label="data" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:ParseAnomaly_Class">
              <Field name="adm_name" label="adm_name" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="algorithm_name" label="algorithm_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window_size" label="window_size" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="window_step" label="window_step" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dow" label="dow" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="aggr_metric" label="aggr_metric" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="last_interval_metric" label="last_interval_metric" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_median" label="baseline_median" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_stdev" label="baseline_stdev" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_mad" label="baseline_mad" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_stdev_hly" label="baseline_stdev_hly" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_mad_hly" label="baseline_mad_hly" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_stdev_wkl" label="baseline_stdev_wkl" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_mad_wkl" label="baseline_mad_wkl" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_stdev_wkh" label="baseline_stdev_wkh" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_mad_wkh" label="baseline_mad_wkh" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_avg" label="baseline_avg" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="median_baseline" label="median_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="mean_baseline" label="mean_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="baseline_stats" label="baseline_stats" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score_method" label="score_method" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="zscore" label="zscore" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="mzscore" label="mzscore" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="cscore" label="cscore" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="deviation" label="deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="upper_score" label="upper_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="lower_score" label="lower_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="lower_threshold" label="lower_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="upper_threshold" label="upper_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="conf_id" label="conf_id" type="integer" clazz="" isArray="false" isOptional="true"/>
              <Field name="trigger" label="trigger" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="new_metric" label="new_metric" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="is_anomaly" label="is_anomaly" type="boolean" clazz="" isArray="false" isOptional="false"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="base_metric_id" label="base_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model format="json" caseClass="ParseAnomaly_Class" isClassRef="false" fromHeader="true" addable="true" dropEvent="false" header="date_key,time_bin,aggr_time,dim_keys,dim_values,dow,metric_uom,computed_metric,computed_zscore,baseline_count,baseline_median,baseline_stddev,baseline_avg,baseline_min,baseline_max,dow_zscore,dow_count,dow_median,dow_stddev,dow_avg,dow_min,dow_max,dow_pwk_zscore,dow_pwk_count,dow_pwk_median,dow_pwk_stddev,dow_pwk_avg,dow_pwk_min,dow_pwk_max,service" timezone="Etc/GMT+12" daylight="false">
              <Schema>
                <Field name="adm_name" initName="adm_name" label="adm_name" type="string" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="algorithm_name" initName="" label="algorithm_name" type="string" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="true"/>
                <Field name="window_size" initName="window_size" label="window_size" type="integer" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="window_step" initName="window_step" label="window_step" type="integer" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="start_tm" initName="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="end_tm" initName="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="generated_tm" initName="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="metric_id" initName="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="dow" initName="dow" label="dow" type="string" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="algorithm" initName="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="aggr_metric" initName="aggr_metric" label="aggr_metric" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="last_interval_metric" initName="last_interval_metric" label="last_interval_metric" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="baseline_median" initName="baseline_median" label="baseline_median" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="baseline_stdev" initName="" label="baseline_stdev" type="double" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_mad" initName="" label="baseline_mad" type="double" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stdev_hly" initName="baseline_stdev_hly" label="baseline_stdev_hly" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="baseline_mad_hly" initName="baseline_mad_hly" label="baseline_mad_hly" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="baseline_stdev_wkl" initName="baseline_stdev_wkl" label="baseline_stdev_wkl" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="baseline_mad_wkl" initName="baseline_mad_wkl" label="baseline_mad_wkl" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="baseline_stdev_wkh" initName="" label="baseline_stdev_wkh" type="double" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_mad_wkh" initName="" label="baseline_mad_wkh" type="double" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_avg" initName="baseline_avg" label="baseline_avg" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="median_baseline" initName="median_baseline" label="median_baseline" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="mean_baseline" initName="" label="mean_baseline" type="double" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="true"/>
                <Field name="baseline_stats" initName="baseline_stats" label="baseline_stats" type="string" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="score_method" initName="score_method" label="score_method" type="string" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="zscore" initName="zscore" label="zscore" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="mzscore" initName="mzscore" label="mzscore" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="cscore" initName="" label="cscore" type="double" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="true"/>
                <Field name="deviation" initName="deviation" label="deviation" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="upper_score" initName="upper_score" label="upper_score" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="lower_score" initName="lower_score" label="lower_score" type="double" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="lower_threshold" initName="" label="lower_threshold" type="double" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="true"/>
                <Field name="upper_threshold" initName="" label="upper_threshold" type="double" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="true"/>
                <Field name="conf_id" initName="conf_id" label="conf_id" type="integer" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="trigger" initName="trigger" label="trigger" type="string" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="new_metric" initName="new_metric" label="new_metric" type="boolean" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="true" excluded="false"/>
                <Field name="severity" initName="severity" label="severity" type="integer" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="is_anomaly" initName="is_anomaly" label="is_anomaly" type="boolean" isDimension="false" isMeasure="false" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="date_key" initName="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="false" excluded="false"/>
                <Field name="base_metric_id" initName="" label="base_metric_id" type="string" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="false"/>
                <Field name="dim_keys" initName="" label="dim_keys" type="string" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="false"/>
                <Field name="dim_values" initName="" label="dim_values" type="string" isDimension="false" isMeasure="false" format="" clazz="" initClazz="" isArray="false" isOptional="false"/>
              </Schema>
            </Model>
        </Node>
        <Node index="1004" uuid="7d3e88d2-ebaf-46d7-86da-4fe4626fe090" type="subflow" label="Incident Conf" x="20" y="120" width="130" height="75">
            <Output name="out1" uid="0" outputType="DStream" dataType="class:viaops.incident_config">
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false" column="metric_id"/>
              <Field name="base_metric_id" label="base_metric_id" type="string" clazz="" isArray="false" isOptional="true" column="base_metric_id"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" column="dim_keys"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" column="dim_pattern"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" column="service_name"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" column="sub_service_name"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" column="window"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" column="threshold_policy"/>
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" column="algorithm"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" column="mode"/>
              <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" column="emit_notification"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" column="threshold_high"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" column="threshold_low"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" column="threshold_med"/>
              <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" column="expire_after"/>
              <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" column="cool_down_period"/>
              <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" column="warmup_period"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" column="warmup_threshold"/>
              <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" column="upd_dt"/>
              <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" column="correlation_time"/>
              <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" column="groupable"/>
              <Field name="metric_hist_per" label="metric_hist_per" type="integer" clazz="" isArray="false" isOptional="true" column="metric_hist_per"/>
              <Field name="max_low_per" label="max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_low_per"/>
              <Field name="max_med_per" label="max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_med_per"/>
              <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_low_per"/>
              <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_med_per"/>
              <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true" column="late_data_timer"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
<Properties>
{"subFlow":"remote:///viaops.incident/Incident Conf"}
</Properties>
              <__subflow__>
              <Flow index="1004" uuid="Incident Conf" isNested="true" revision="509" acceptedSourceTypes="RDD,DStream,DataFrame" referenceURI="remote:///viaops.incident/Incident Conf" name="Incident Conf" showFooter="true">
                <Node index="1004_1" uuid="821d1f33-b936-4e73-8cc6-df857bcbd36b" type="outPort" label="out1" x="484" y="70" width="70" height="40">
                    <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_config">
                      <DataSource category="undefined" id="undefined" name="All" uid="0" outputType="DStream" dataType="class:viaops.incident_config" meta="[object Object]" label="All" _oldSchema_="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]">
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="metric_id"/>
                        <Field name="base_metric_id" label="base_metric_id" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="base_metric_id"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="dim_keys"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="dim_pattern"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="service_name"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="sub_service_name"/>
                        <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="window"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="threshold_policy"/>
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="algorithm"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="mode"/>
                        <Field name="emit_notification" label="emit_notification" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="emit_notification"/>
                        <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="threshold_high"/>
                        <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="threshold_low"/>
                        <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="threshold_med"/>
                        <Field name="expire_after" label="expire_after" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="expire_after"/>
                        <Field name="cool_down_period" label="cool_down_period" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="cool_down_period"/>
                        <Field name="warmup_period" label="warmup_period" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="warmup_period"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="warmup_threshold"/>
                        <Field name="upd_dt" label="upd_dt" type="datetime" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="upd_dt"/>
                        <Field name="correlation_time" label="correlation_time" type="long" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="correlation_time"/>
                        <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="groupable"/>
                        <Field name="metric_hist_per" label="metric_hist_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="metric_hist_per"/>
                        <Field name="max_low_per" label="max_low_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="max_low_per"/>
                        <Field name="max_med_per" label="max_med_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="max_med_per"/>
                        <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="tot_max_low_per"/>
                        <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="tot_max_med_per"/>
                        <Field name="late_data_timer" label="late_data_timer" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="late_data_timer"/>
                      </DataSource>
                    </Source>
                    <Output name="out" uid="0" outputType="DStream" referenceType="viaops.incident_config">
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false" column="metric_id"/>
                      <Field name="base_metric_id" label="base_metric_id" type="string" clazz="" isArray="false" isOptional="true" column="base_metric_id"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" column="dim_keys"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" column="dim_pattern"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" column="service_name"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" column="sub_service_name"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" column="window"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" column="threshold_policy"/>
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" column="algorithm"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" column="mode"/>
                      <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" column="emit_notification"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" column="threshold_high"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" column="threshold_low"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" column="threshold_med"/>
                      <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" column="expire_after"/>
                      <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" column="cool_down_period"/>
                      <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" column="warmup_period"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" column="warmup_threshold"/>
                      <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" column="upd_dt"/>
                      <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" column="correlation_time"/>
                      <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" column="groupable"/>
                      <Field name="metric_hist_per" label="metric_hist_per" type="integer" clazz="" isArray="false" isOptional="true" column="metric_hist_per"/>
                      <Field name="max_low_per" label="max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_low_per"/>
                      <Field name="max_med_per" label="max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_med_per"/>
                      <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_low_per"/>
                      <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_med_per"/>
                      <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true" column="late_data_timer"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model>
<Properties>
{"type":{"name":"viaops.incident_config","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="1004_2" uuid="c5c71d1b-36c7-4f3b-877f-32e4141eb73b" type="JDBCStream" label="Incident Config Table" x="40" y="50" width="130" height="75">
                    <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_config">
                      <Field name="metric_id" label="metric_id" type="string" isArray="false" isOptional="false" column="metric_id"/>
                      <Field name="base_metric_id" label="base_metric_id" type="string" isArray="false" isOptional="true" column="base_metric_id"/>
                      <Field name="dim_keys" label="dim_keys" type="string" isArray="false" isOptional="false" column="dim_keys"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" isArray="false" isOptional="false" column="dim_pattern"/>
                      <Field name="service_name" label="service_name" type="string" isArray="false" isOptional="false" column="service_name"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" isArray="false" isOptional="false" column="sub_service_name"/>
                      <Field name="window" label="window" type="string" isArray="false" isOptional="false" column="window"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" isArray="false" isOptional="false" column="threshold_policy"/>
                      <Field name="algorithm" label="algorithm" type="string" isArray="false" isOptional="false" column="algorithm"/>
                      <Field name="mode" label="mode" type="string" isArray="false" isOptional="true" column="mode"/>
                      <Field name="emit_notification" label="emit_notification" type="string" isArray="false" isOptional="true" column="emit_notification"/>
                      <Field name="threshold_high" label="threshold_high" type="double" isArray="false" isOptional="true" column="threshold_high"/>
                      <Field name="threshold_low" label="threshold_low" type="double" isArray="false" isOptional="true" column="threshold_low"/>
                      <Field name="threshold_med" label="threshold_med" type="double" isArray="false" isOptional="true" column="threshold_med"/>
                      <Field name="expire_after" label="expire_after" type="integer" isArray="false" isOptional="true" column="expire_after"/>
                      <Field name="cool_down_period" label="cool_down_period" type="integer" isArray="false" isOptional="true" column="cool_down_period"/>
                      <Field name="warmup_period" label="warmup_period" type="integer" isArray="false" isOptional="true" column="warmup_period"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" isArray="false" isOptional="true" column="warmup_threshold"/>
                      <Field name="upd_dt" label="upd_dt" type="datetime" isArray="false" isOptional="true" column="upd_dt"/>
                      <Field name="correlation_time" label="correlation_time" type="long" isArray="false" isOptional="true" column="correlation_time"/>
                      <Field name="groupable" label="groupable" type="string" isArray="false" isOptional="false" column="groupable"/>
                      <Field name="metric_hist_per" label="metric_hist_per" type="integer" isArray="false" isOptional="true" column="metric_hist_per"/>
                      <Field name="max_low_per" label="max_low_per" type="integer" isArray="false" isOptional="true" column="max_low_per"/>
                      <Field name="max_med_per" label="max_med_per" type="integer" isArray="false" isOptional="true" column="max_med_per"/>
                      <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" isArray="false" isOptional="true" column="tot_max_low_per"/>
                      <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" isArray="false" isOptional="true" column="tot_max_med_per"/>
                      <Field name="late_data_timer" label="late_data_timer" type="integer" isArray="false" isOptional="true" column="late_data_timer"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model type="jdbcStream" sourceType="jdbc" caseClass="viaops.incident_config" isClassRef="false" dataSpeed="" dataVolume="" dataSource="/vitria/m3o/datasource/DefaultDomain/viaops_config_db">
                      <__binding__><![CDATA[{"dataSource":""}]]></__binding__>
                      <Schema>
                        <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false" wrapName="metric_id"/>
                        <Field name="base_metric_id" label="base_metric_id" type="string" clazz="" isArray="false" isOptional="true" wrapName="base_metric_id"/>
                        <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" wrapName="dim_keys"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" wrapName="dim_pattern"/>
                        <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" wrapName="service_name"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" wrapName="sub_service_name"/>
                        <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" wrapName="window"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" wrapName="threshold_policy"/>
                        <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" wrapName="algorithm"/>
                        <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" wrapName="mode"/>
                        <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" wrapName="emit_notification"/>
                        <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" wrapName="threshold_high"/>
                        <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" wrapName="threshold_low"/>
                        <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" wrapName="threshold_med"/>
                        <Field name="med_threshold_period" label="med_threshold_period" type="integer" clazz="" isArray="false" isOptional="true" wrapName="med_threshold_period"/>
                        <Field name="high_threshold_period" label="high_threshold_period" type="integer" clazz="" isArray="false" isOptional="true" wrapName="high_threshold_period"/>
                        <Field name="metric_time_skew" label="metric_time_skew" type="integer" clazz="" isArray="false" isOptional="true" wrapName="metric_time_skew"/>
                        <Field name="contextual_metric_time_skew" label="contextual_metric_time_skew" type="integer" clazz="" isArray="false" isOptional="true" wrapName="contextual_metric_time_skew"/>
                        <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" wrapName="expire_after"/>
                        <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" wrapName="cool_down_period"/>
                        <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" wrapName="warmup_period"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" wrapName="warmup_threshold"/>
                        <Field name="min_metric_vol" label="min_metric_vol" type="double" clazz="" isArray="false" isOptional="true" wrapName="min_metric_vol"/>
                        <Field name="min_metric_deviation" label="min_metric_deviation" type="double" clazz="" isArray="false" isOptional="true" wrapName="min_metric_deviation"/>
                        <Field name="med_metric_deviation" label="med_metric_deviation" type="double" clazz="" isArray="false" isOptional="true" wrapName="med_metric_deviation"/>
                        <Field name="high_metric_deviation" label="high_metric_deviation" type="double" clazz="" isArray="false" isOptional="true" wrapName="high_metric_deviation"/>
                        <Field name="min_contextual_metric_vol" label="min_contextual_metric_vol" type="integer" clazz="" isArray="false" isOptional="true" wrapName="min_contextual_metric_vol"/>
                        <Field name="min_contextual_metric_deviation" label="min_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true" wrapName="min_contextual_metric_deviation"/>
                        <Field name="med_contextual_metric_deviation" label="med_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true" wrapName="med_contextual_metric_deviation"/>
                        <Field name="high_contextual_metric_deviation" label="high_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true" wrapName="high_contextual_metric_deviation"/>
                        <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true" wrapName="causation_measure"/>
                        <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true" wrapName="causation_top_count"/>
                        <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true" wrapName="causation_min_measure"/>
                        <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true" wrapName="causation_rule_name"/>
                        <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true" wrapName="causation_suppl_measure"/>
                        <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" wrapName="upd_dt"/>
                        <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" wrapName="correlation_time"/>
                        <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" wrapName="groupable"/>
                        <Field name="metric_hist_per" label="metric_hist_per" type="long" clazz="" isArray="false" isOptional="false" wrapName="metric_hist_per"/>
                        <Field name="max_low_per" label="max_low_per" type="long" clazz="" isArray="false" isOptional="false" wrapName="max_low_per"/>
                        <Field name="max_med_per" label="max_med_per" type="long" clazz="" isArray="false" isOptional="false" wrapName="max_med_per"/>
                        <Field name="tot_max_low_per" label="tot_max_low_per" type="long" clazz="" isArray="false" isOptional="false" wrapName="tot_max_low_per"/>
                        <Field name="tot_max_med_per" label="tot_max_med_per" type="long" clazz="" isArray="false" isOptional="false" wrapName="tot_max_med_per"/>
                        <Field name="score_method" label="score_method" type="string" clazz="" isArray="false" isOptional="true" wrapName="score_method"/>
                        <Field name="min_factor" label="min_factor" type="long" clazz="" isArray="false" isOptional="true" wrapName="min_factor"/>
                        <Field name="med_factor" label="med_factor" type="long" clazz="" isArray="false" isOptional="true" wrapName="med_factor"/>
                        <Field name="max_warmup_period" label="max_warmup_period" type="integer" clazz="" isArray="false" isOptional="true" wrapName="max_warmup_period"/>
                        <Field name="max_cooldown_period" label="max_cooldown_period" type="integer" clazz="" isArray="false" isOptional="true" wrapName="max_cooldown_period"/>
                        <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true" wrapName="late_data_timer"/>
                      </Schema>
                      <datasource name="/vitria/m3o/datasource/DefaultDomain/viaops_config_db"></datasource>
                      <query>
                      <table schema='viaops_config_db' defaultSchema='viaops_config_db' info='{"catalog":"viaops_config_db","name":"viaops_incident_model_view","type":"VIEW"}'>viaops_incident_model_view</table>
                      <columns>
                        <column>metric_id</column>
                        <column>base_metric_id</column>
                        <column>dim_keys</column>
                        <column>dim_pattern</column>
                        <column>service_name</column>
                        <column>sub_service_name</column>
                        <column>window</column>
                        <column>threshold_policy</column>
                        <column>algorithm</column>
                        <column>mode</column>
                        <column>emit_notification</column>
                        <column>threshold_high</column>
                        <column>threshold_low</column>
                        <column>threshold_med</column>
                        <column>expire_after</column>
                        <column>cool_down_period</column>
                        <column>warmup_period</column>
                        <column>warmup_threshold</column>
                        <column>upd_dt</column>
                        <column>correlation_time</column>
                        <column>groupable</column>
                        <column>metric_hist_per</column>
                        <column>max_low_per</column>
                        <column>max_med_per</column>
                        <column>tot_max_low_per</column>
                        <column>tot_max_med_per</column>
                        <column>late_data_timer</column>
                      </columns>
                      <growColumns>
                      </growColumns>
                      <filter>mode!=&apos;n&apos; and algorithm=&apos;simple_threshold&apos;</filter>
                      <incremental>false</incremental>
                      </query>
                      <pollRate every='1/m' value='60'/>
                    </Model>
                    <TypeReg>{"out":{"asGlobal":true,"includedTypes":"","namespace":"viaops"}}</TypeReg>
                </Node>
                <Node index="1004_3" uuid="c52b0399-8ebb-4af5-866a-96007eeecd12" type="Window" label="Incident Config WIndow" x="250" y="50" width="130" height="135">
                    <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_config">
                      <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="c5c71d1b-36c7-4f3b-877f-32e4141eb73b">
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="metric_id"/>
                        <Field name="base_metric_id" label="base_metric_id" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="base_metric_id"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="dim_keys"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="dim_pattern"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="service_name"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="sub_service_name"/>
                        <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="window"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="threshold_policy"/>
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="algorithm"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="mode"/>
                        <Field name="emit_notification" label="emit_notification" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="emit_notification"/>
                        <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="threshold_high"/>
                        <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="threshold_low"/>
                        <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="threshold_med"/>
                        <Field name="expire_after" label="expire_after" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="expire_after"/>
                        <Field name="cool_down_period" label="cool_down_period" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="cool_down_period"/>
                        <Field name="warmup_period" label="warmup_period" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="warmup_period"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="warmup_threshold"/>
                        <Field name="upd_dt" label="upd_dt" type="datetime" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="upd_dt"/>
                        <Field name="correlation_time" label="correlation_time" type="long" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="correlation_time"/>
                        <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" isArray="false" isOptional="false" column="groupable"/>
                        <Field name="metric_hist_per" label="metric_hist_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="metric_hist_per"/>
                        <Field name="max_low_per" label="max_low_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="max_low_per"/>
                        <Field name="max_med_per" label="max_med_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="max_med_per"/>
                        <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="tot_max_low_per"/>
                        <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="tot_max_med_per"/>
                        <Field name="late_data_timer" label="late_data_timer" type="integer" isDimension="false" isMeasure="false" isArray="false" isOptional="true" column="late_data_timer"/>
                      </DataSource>
                    </Source>
                    <Output name="All" uid="0" outputType="DStream" dataType="class:viaops.incident_config">
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false" column="metric_id"/>
                      <Field name="base_metric_id" label="base_metric_id" type="string" clazz="" isArray="false" isOptional="true" column="base_metric_id"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" column="dim_keys"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" column="dim_pattern"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" column="service_name"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" column="sub_service_name"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" column="window"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" column="threshold_policy"/>
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" column="algorithm"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" column="mode"/>
                      <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" column="emit_notification"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" column="threshold_high"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" column="threshold_low"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" column="threshold_med"/>
                      <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" column="expire_after"/>
                      <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" column="cool_down_period"/>
                      <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" column="warmup_period"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" column="warmup_threshold"/>
                      <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" column="upd_dt"/>
                      <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" column="correlation_time"/>
                      <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" column="groupable"/>
                      <Field name="metric_hist_per" label="metric_hist_per" type="integer" clazz="" isArray="false" isOptional="true" column="metric_hist_per"/>
                      <Field name="max_low_per" label="max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_low_per"/>
                      <Field name="max_med_per" label="max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_med_per"/>
                      <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_low_per"/>
                      <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_med_per"/>
                      <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true" column="late_data_timer"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Output name="Changes" uid="1" outputType="DStream" dataType="class:viaops.incident_config">
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false" column="metric_id"/>
                      <Field name="base_metric_id" label="base_metric_id" type="string" clazz="" isArray="false" isOptional="true" column="base_metric_id"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" column="dim_keys"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" column="dim_pattern"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" column="service_name"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" column="sub_service_name"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" column="window"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" column="threshold_policy"/>
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" column="algorithm"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" column="mode"/>
                      <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" column="emit_notification"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" column="threshold_high"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" column="threshold_low"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" column="threshold_med"/>
                      <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" column="expire_after"/>
                      <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" column="cool_down_period"/>
                      <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" column="warmup_period"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" column="warmup_threshold"/>
                      <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" column="upd_dt"/>
                      <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" column="correlation_time"/>
                      <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" column="groupable"/>
                      <Field name="metric_hist_per" label="metric_hist_per" type="integer" clazz="" isArray="false" isOptional="true" column="metric_hist_per"/>
                      <Field name="max_low_per" label="max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_low_per"/>
                      <Field name="max_med_per" label="max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_med_per"/>
                      <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_low_per"/>
                      <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_med_per"/>
                      <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true" column="late_data_timer"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Output name="Expired" uid="2" outputType="DStream" dataType="class:viaops.incident_config">
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false" column="metric_id"/>
                      <Field name="base_metric_id" label="base_metric_id" type="string" clazz="" isArray="false" isOptional="true" column="base_metric_id"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" column="dim_keys"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" column="dim_pattern"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" column="service_name"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" column="sub_service_name"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" column="window"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" column="threshold_policy"/>
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" column="algorithm"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" column="mode"/>
                      <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" column="emit_notification"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" column="threshold_high"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" column="threshold_low"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" column="threshold_med"/>
                      <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" column="expire_after"/>
                      <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" column="cool_down_period"/>
                      <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" column="warmup_period"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" column="warmup_threshold"/>
                      <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" column="upd_dt"/>
                      <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" column="correlation_time"/>
                      <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" column="groupable"/>
                      <Field name="metric_hist_per" label="metric_hist_per" type="integer" clazz="" isArray="false" isOptional="true" column="metric_hist_per"/>
                      <Field name="max_low_per" label="max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_low_per"/>
                      <Field name="max_med_per" label="max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_med_per"/>
                      <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_low_per"/>
                      <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_med_per"/>
                      <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true" column="late_data_timer"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Output name="Deleted" uid="3" outputType="DStream" dataType="class:viaops.incident_config">
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false" column="metric_id"/>
                      <Field name="base_metric_id" label="base_metric_id" type="string" clazz="" isArray="false" isOptional="true" column="base_metric_id"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" column="dim_keys"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" column="dim_pattern"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" column="service_name"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" column="sub_service_name"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" column="window"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" column="threshold_policy"/>
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" column="algorithm"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" column="mode"/>
                      <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" column="emit_notification"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" column="threshold_high"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" column="threshold_low"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" column="threshold_med"/>
                      <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" column="expire_after"/>
                      <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" column="cool_down_period"/>
                      <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" column="warmup_period"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" column="warmup_threshold"/>
                      <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" column="upd_dt"/>
                      <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" column="correlation_time"/>
                      <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" column="groupable"/>
                      <Field name="metric_hist_per" label="metric_hist_per" type="integer" clazz="" isArray="false" isOptional="true" column="metric_hist_per"/>
                      <Field name="max_low_per" label="max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_low_per"/>
                      <Field name="max_med_per" label="max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_med_per"/>
                      <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_low_per"/>
                      <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_med_per"/>
                      <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true" column="late_data_timer"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model windowPolicy="attribute" partition="" checkpointInterval="/S" restoreState="false">
                      <Time mode="system">
                      </Time>
                      <GroupKeys policy="latest" numPerGroup="1">
                        <GroupKey field="metric_id"/>
                        <GroupKey field="window"/>
                        <GroupKey field="threshold_policy"/>
                      </GroupKeys>
                      <Expirations duration="/S" baseline="lastevent">
                      </Expirations>
                    </Model>
                </Node>
                <Link srcId="c52b0399-8ebb-4af5-866a-96007eeecd12" srcPort="dout:0" tgtId="821d1f33-b936-4e73-8cc6-df857bcbd36b" tgtPort="in:0"/>
                <Link srcId="c5c71d1b-36c7-4f3b-877f-32e4141eb73b" srcPort="out:0" tgtId="c52b0399-8ebb-4af5-866a-96007eeecd12" tgtPort="in:0"/>
      <Codes>
      </Codes>
      <Libraries>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[]</Properties>
              </Flow>
</__subflow__>
            </Model>
        </Node>
        <Node index="1006" uuid="8a4b65ec-0bc4-4b77-8ef0-66de94a7c6e3" type="WildcardPrecedence" label="wildcard precedence" x="240" y="280" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.raw_incident">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="0ee586c9-b13f-4a8f-8bac-605db13f7258">
                <Field name="window_size" label="window_size" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="anomaly_interval" label="anomaly_interval" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="aggr_metric" label="aggr_metric" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="metric_id" column="metric_id"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="dim_keys" column="dim_keys"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="dim_pattern" column="dim_pattern"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="window" column="window"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="threshold_policy" column="threshold_policy"/>
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="algorithm" column="algorithm"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="generate" column="generate"/>
                <Field name="emit_notification" label="emit_notification" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="emit_notification" column="emit_notification"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="threshold_high" column="threshold_high"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="threshold_low" column="threshold_low"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="threshold_med" column="threshold_med"/>
                <Field name="expire_after" label="expire_after" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="expire_after" column="expire_after"/>
                <Field name="cool_down_period" label="cool_down_period" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="cool_down_period" column="cool_down_period"/>
                <Field name="warmup_period" label="warmup_period" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="warmup_period" column="warmup_period"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="warmup_threshold" column="warmup_threshold"/>
                <Field name="upd_dt" label="upd_dt" type="datetime" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="upd_dt" column="upd_dt"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="service_name" column="service_name"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="sub_service_name" column="sub_service_name"/>
                <Field name="correlation_time" label="correlation_time" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="correlation_time" column="correlation_time"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="groupable" column="groupable"/>
                <Field name="metric_hist_per" label="metric_hist_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="metric_hist_per" column="metric_hist_per"/>
                <Field name="max_low_per" label="max_low_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="max_low_per" column="max_low_per"/>
                <Field name="max_med_per" label="max_med_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="max_med_per" column="max_med_per"/>
                <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="tot_max_low_per" column="tot_max_low_per"/>
                <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="tot_max_med_per" column="tot_max_med_per"/>
                <Field name="late_data_timer" label="late_data_timer" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.raw_incident">
              <Field name="window_size" label="window_size" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="anomaly_interval" label="anomaly_interval" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="aggr_metric" label="aggr_metric" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false" column="metric_id" wrapName="metric_id"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" column="dim_keys" wrapName="dim_keys"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" column="dim_pattern" wrapName="dim_pattern"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" column="window" wrapName="window"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" column="threshold_policy" wrapName="threshold_policy"/>
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" column="algorithm" wrapName="algorithm"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" column="generate" wrapName="generate"/>
              <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" column="emit_notification" wrapName="emit_notification"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" column="threshold_high" wrapName="threshold_high"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" column="threshold_low" wrapName="threshold_low"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" column="threshold_med" wrapName="threshold_med"/>
              <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" column="expire_after" wrapName="expire_after"/>
              <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" column="cool_down_period" wrapName="cool_down_period"/>
              <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" column="warmup_period" wrapName="warmup_period"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" column="warmup_threshold" wrapName="warmup_threshold"/>
              <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" column="upd_dt" wrapName="upd_dt"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" column="service_name" wrapName="service_name"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" column="sub_service_name" wrapName="sub_service_name"/>
              <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" column="correlation_time" wrapName="correlation_time"/>
              <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" column="groupable" wrapName="groupable"/>
              <Field name="metric_hist_per" label="metric_hist_per" type="integer" clazz="" isArray="false" isOptional="true" column="metric_hist_per" wrapName="metric_hist_per"/>
              <Field name="max_low_per" label="max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_low_per" wrapName="max_low_per"/>
              <Field name="max_med_per" label="max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_med_per" wrapName="max_med_per"/>
              <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_low_per" wrapName="tot_max_low_per"/>
              <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_med_per" wrapName="tot_max_med_per"/>
              <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
<Properties>
{"metricGroupFileds":["window","start_tm","threshold_policy","metric_id"],"dimensionKeyFieldsName":"dim_keys","dimensionValueFieldsName":"dim_pattern","dimsValueWithoutWildcard":"dim_values"}
</Properties>
            </Model>
        </Node>
        <Node index="1005" uuid="55289f27-1fee-4571-8e46-4409d14fdb01" type="subflow" label="Incident Summary" x="620" y="200" width="140" height="75">
            <Source name="Incident" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <DataSource category="#OUTPUT" id="undefined" name="incident" nodeId="f756b743-d95d-4ab6-8279-4a1829b9f9a5">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="summary" uid="0" outputType="DStream" dataType="class:viaops.incident_summary">
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="system_tm" label="system_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="exp_tm" label="exp_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="score_max" label="score_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_measure_sum" label="metric_measure_sum" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_measure_max" label="metric_measure_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_baseline_max" label="metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_deviation_max" label="metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="incident_duration" label="incident_duration" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="anomalies" label="anomalies" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
<Properties>
{"subFlow":"remote:///viaops.incident/Incident Summary","p_summary_table":"viaops_incident_summary"}
</Properties>
              <__subflow__>
              <Flow index="1005" uuid="Incident Summary" isNested="true" revision="357" acceptedSourceTypes="RDD,DStream,DataFrame" referenceURI="remote:///viaops.incident/Incident Summary" name="Incident Summary" showFooter="true">
                <Node index="1005_1" uuid="b6a56df4-821d-4bb1-8b19-2a1f1af75d47" type="stateMachine" label="Incident Roll Up" x="440" y="109" width="140" height="75">
                    <Source name="source1" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
                      <DataSource category="#OUTPUT" id="undefined" name="Out" nodeId="259ad008-b191-431d-8ad7-d03d2c1a442e">
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Output name="isp" uid="0" outputType="DStream" dataType="class:viaops.incident_summary" referenceType="viaops.incident_summary">
                      <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="system_tm" label="system_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="exp_tm" label="exp_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="score_max" label="score_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_measure_sum" label="metric_measure_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_measure_max" label="metric_measure_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_baseline_max" label="metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_deviation_max" label="metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="incident_duration" label="incident_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="anomalies" label="anomalies" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                    </Output>
                    <Model>
<Properties>
{"isEventTime":"true","source":[{"_deletable":false,"source":"source1","correlation":["id"],"timestamp":"event_tm","drop":true,"_id":"af1c482e-3d28-4ca8-8242-ce60b6166452"}],"states":[{"name":"Start","label":"Start","_id":"Start","type":"Start","x":"50","y":"130","onEntryAction":{"statements":[]},"onStayAction":{"statements":[]},"onExitAction":{"statements":[]}},{"name":"State For Each Incident","label":"State For Each Incident","_id":"State","type":"State","x":"210","y":"110","onEntryAction":{"statements":[{"id":"d0a573a1-bec8-4288-8456-1a54b2475291","internalID":"ad870ab7-da56-438b-80ef-292ea4f41d3c","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"incident_start"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"incident_start = 0 and  (source1.state = \"Active\" or (source1.start_tm != 0 and source1.algorithm=&apos;declared&apos;))","type":"boolean","option":true}}]},{"id":"b5c5ac42-d379-43de-8f66-cb53e95d95ea","internalID":"536c36e1-2fe0-43cd-8725-3377e9409603","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"incident_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"99278be8-4825-44f9-8fdd-9e1d273f1f61","internalID":"f438e819-4728-4928-8cce-8f7f8c490b8f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"score_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.score","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.score &gt; score_max","type":"boolean","option":true}}]},{"id":"3ce65406-4cbe-4731-8dc6-00bb335354a4","internalID":"cf796fa3-0942-47ea-8bf1-be3b7c6ccf5d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_measure_sum + source1.metric_measure","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"404ad488-650c-4873-8901-01b8b87c3a48","internalID":"6b5c7654-f634-4e4a-85d2-8c514a23d213","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_measure_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state!=\"Cooldown\"","type":"boolean","option":true}}]},{"id":"e6e22233-bace-4fc9-84e7-0b114661c250","internalID":"78f5c5d4-347a-4015-88d3-8a689959d1ab","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_measure","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_measure &gt; metric_measure_max","type":"boolean","option":true}}]},{"id":"88057d18-d8bb-4b6b-8fb5-d55eafa4c511","internalID":"5d9c381b-2b90-4bb3-8488-f7255ff63d21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_baseline_sum + source1.metric_baseline","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"875fffac-5b54-451d-80be-b37997ae0158","internalID":"2c07a7b6-06f3-477a-8492-60fcf60c1348","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_baseline_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"1302023d-a7e5-42ce-8f15-66f7ab987986","internalID":"0f8670d6-99ab-467b-8342-6cca50d59074","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_baseline &gt; metric_baseline_max","type":"boolean","option":true}}]},{"id":"e6d3681c-0897-4e64-81d0-62dfc11b7090","internalID":"9a9e71b4-a7f5-49f8-886c-c76a2c41ca07","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_deviation &gt; metric_deviation_max","type":"boolean","option":true}}]},{"id":"c6c2c479-6ad7-4888-8629-4614b8808ee8","internalID":"900ecd1d-bdfb-472a-8e7f-14a7d34a0c21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_aggr_sum + source1.contextual_metric_aggr","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"03870298-528c-4951-80a7-9bf630550a3e","internalID":"d1cc7242-3ad8-41b6-87e3-0899521f479e","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_aggr_sum","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"2b7b02aa-90f7-41cf-8150-3635a3c6c724","internalID":"5c35b4bd-1b5c-4bc9-8f35-31506019d928","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; contextual_metric_aggr_max","type":"boolean","option":true}}]},{"id":"2eac7b21-f035-4625-8e33-fd815e5a5b60","internalID":"da9c0535-d321-48af-8079-b733c4c7e70f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_baseline_sum + source1.contextual_metric_baseline","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"e2749845-300e-485d-894f-3896cc8820cb","internalID":"2b1490fd-3842-4bbf-8b8f-cc71ef4449f9","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_baseline_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"65a7ca76-c324-456a-8175-e6cfd43195ac","internalID":"efe5fbf5-33c6-47da-8358-1ca7e772f90f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline &gt; contextual_metric_baseline_max","type":"boolean","option":true}}]},{"id":"dcd1735f-0c41-4264-8798-d6ce08c21d66","internalID":"58c94dcf-60dc-4261-8157-0bf2377da32d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation &gt; contextual_metric_deviation_max","type":"boolean","option":true}}]},{"id":"175b1959-47da-4fa5-8257-7e456afe70f4","internalID":"8a09abb1-7876-4931-8503-ce2eed4e40e0","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_start"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0 and contextual_metric_detect_start = 0","type":"boolean","option":true}}]},{"id":"309732a0-23cb-4f83-835b-f3e07670e76d","internalID":"5316bf8c-4e5b-46d6-8ad6-11eff3a07cae","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0","type":"boolean","option":true}}]},{"id":"8eb16e11-a57d-4bdf-8a73-5983022ec89a","internalID":"6e3f650c-e683-4b15-82ca-12349c9731d1","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"anomalies"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"anomalies + 1","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Warmup\"","type":"boolean","option":true}}]},{"id":"0f5bf502-7745-4767-8222-f9d454dc9563","internalID":"ab9004da-2f47-41a0-85d8-9502d5f015fe","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"evt"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1","type":"viaops.incident_out","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"c6aceb6e-c9ea-4f4e-8826-678ead25c559","internalID":"054c5ec0-f572-4cba-823c-e84424297006","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"mode"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.mode","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"e94371b6-f09f-4e2f-8a63-10c7a4daf65c","internalID":"b81422cd-2839-4e69-86ac-5ced76606f71","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"changed"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]},"onStayAction":{"statements":[{"id":"f5f14d35-826a-479e-8840-579f26cea839","internalID":"ad870ab7-da56-438b-80ef-292ea4f41d3c","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"incident_start"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"incident_start = 0 and  source1.state = \"Active\"","type":"boolean","option":true}}]},{"id":"96851c10-a970-4c32-845e-f03746be2d97","internalID":"536c36e1-2fe0-43cd-8725-3377e9409603","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"incident_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"8a71f1d1-b652-4ef5-8c98-5121652f4aff","internalID":"f438e819-4728-4928-8cce-8f7f8c490b8f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"score_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.score","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.score &gt; score_max","type":"boolean","option":true}}]},{"id":"4f0fb90d-d94f-43e6-8930-95fec58492eb","internalID":"cf796fa3-0942-47ea-8bf1-be3b7c6ccf5d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_measure_sum + source1.metric_measure","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9c5ae461-9832-4f83-8bfe-6adf76fcdf0a","internalID":"6b5c7654-f634-4e4a-85d2-8c514a23d213","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_measure_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state!=\"Cooldown\"","type":"boolean","option":true}}]},{"id":"3e2bb246-a9cd-4fc2-8640-1703d1c062dc","internalID":"78f5c5d4-347a-4015-88d3-8a689959d1ab","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_measure","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_measure &gt; metric_measure_max","type":"boolean","option":true}}]},{"id":"ca76541b-e4e2-4dfe-843a-1455939166e6","internalID":"5d9c381b-2b90-4bb3-8488-f7255ff63d21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_baseline_sum + source1.metric_baseline","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"fffe90d0-e388-4b1f-8993-012b6bd16603","internalID":"2c07a7b6-06f3-477a-8492-60fcf60c1348","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_baseline_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"000473c4-97d4-49f8-8beb-54fd54dc796f","internalID":"0f8670d6-99ab-467b-8342-6cca50d59074","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_baseline &gt; metric_baseline_max","type":"boolean","option":true}}]},{"id":"d38ebbd9-a9fb-4c5d-820b-10909ad1fa02","internalID":"9a9e71b4-a7f5-49f8-886c-c76a2c41ca07","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_deviation &gt; metric_deviation_max","type":"boolean","option":true}}]},{"id":"9e274176-0259-4374-86bb-7535af4d9357","internalID":"900ecd1d-bdfb-472a-8e7f-14a7d34a0c21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_aggr_sum + source1.contextual_metric_aggr","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"b90e7221-d104-4d8e-82a5-12d591138885","internalID":"d1cc7242-3ad8-41b6-87e3-0899521f479e","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_aggr_sum","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"8c556e3f-7498-48d3-80f3-b3103b04fc7e","internalID":"5c35b4bd-1b5c-4bc9-8f35-31506019d928","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; contextual_metric_aggr_max","type":"boolean","option":true}}]},{"id":"b2adfff2-3e11-456f-818e-b61aa2e3a43a","internalID":"da9c0535-d321-48af-8079-b733c4c7e70f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_baseline_sum + source1.contextual_metric_baseline","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"50275ae6-315e-4787-8925-d4103a43f0c4","internalID":"2b1490fd-3842-4bbf-8b8f-cc71ef4449f9","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_sum_nocool"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_baseline_sum","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Cooldown\"","type":"boolean","option":true}}]},{"id":"9ab31f93-3f2e-433f-8f95-779402322ca5","internalID":"efe5fbf5-33c6-47da-8358-1ca7e772f90f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline &gt; contextual_metric_baseline_max","type":"boolean","option":true}}]},{"id":"c938d949-6687-495b-8a7b-704b87ca6cd6","internalID":"58c94dcf-60dc-4261-8157-0bf2377da32d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation &gt; contextual_metric_deviation_max","type":"boolean","option":true}}]},{"id":"7102fced-e79d-49b0-8729-eba3431bcfc7","internalID":"8a09abb1-7876-4931-8503-ce2eed4e40e0","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_start"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0 and contextual_metric_detect_start = 0","type":"boolean","option":true}}]},{"id":"79f32cfb-811c-4977-82ff-45b49685e06a","internalID":"5316bf8c-4e5b-46d6-8ad6-11eff3a07cae","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0","type":"boolean","option":true}}]},{"id":"da75a55b-43db-4900-8810-23a3cb3e8581","internalID":"6e3f650c-e683-4b15-82ca-12349c9731d1","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"anomalies"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"anomalies + 1","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Warmup\"","type":"boolean","option":true}}]},{"id":"840a2a72-1779-45f9-8700-c6c86dfdf11b","internalID":"7fd34bca-d698-4f89-87cb-fcdd93808705","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"evt"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1","type":"viaops.incident_out","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"3c2afd00-7650-4f1f-8317-1f320ca38753","internalID":"b81422cd-2839-4e69-86ac-5ced76606f71","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"changed"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]},"onExitAction":{"statements":[{"id":"f8cf2fe3-d31f-4bcd-8562-a6fdf6939ee1","internalID":"536c36e1-2fe0-43cd-8725-3377e9409603","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"incident_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"43cb816b-a8d7-4b77-8720-e7189904a87b","internalID":"cf796fa3-0942-47ea-8bf1-be3b7c6ccf5d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_measure_sum_nocool","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"5107e3a5-5dce-4a8b-8683-eb14c125f834","internalID":"78f5c5d4-347a-4015-88d3-8a689959d1ab","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_measure_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_measure","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_measure &gt; metric_measure_max","type":"boolean","option":true}}]},{"id":"f56a4f65-da2b-4ddc-8dcf-fc655aabd73a","internalID":"5d9c381b-2b90-4bb3-8488-f7255ff63d21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"metric_baseline_sum_nocool","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"117f0f4f-b689-4df9-8bf1-0158e85ae0aa","internalID":"0f8670d6-99ab-467b-8342-6cca50d59074","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_baseline &gt; metric_baseline_max","type":"boolean","option":true}}]},{"id":"13ba69e0-40c8-4d76-8dfd-837d514c35f8","internalID":"9a9e71b4-a7f5-49f8-886c-c76a2c41ca07","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.metric_deviation &gt; metric_deviation_max","type":"boolean","option":true}}]},{"id":"26d57f34-717d-460d-8389-32886a73ea11","internalID":"900ecd1d-bdfb-472a-8e7f-14a7d34a0c21","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_aggr_sum_nocool","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"99244d6f-5871-4132-8e88-85bfaac529d8","internalID":"5c35b4bd-1b5c-4bc9-8f35-31506019d928","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_aggr_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; contextual_metric_aggr_max","type":"boolean","option":true}}]},{"id":"d57baec2-aadc-47aa-8ac8-9deac3acb7c7","internalID":"da9c0535-d321-48af-8079-b733c4c7e70f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_sum"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"contextual_metric_baseline_sum_nocool","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"6657e2d8-cdd2-4d4f-8723-22b93e383809","internalID":"efe5fbf5-33c6-47da-8358-1ca7e772f90f","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_baseline_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_baseline &gt; contextual_metric_baseline_max","type":"boolean","option":true}}]},{"id":"3fc7e7ed-c133-4581-82d8-bb58d84af297","internalID":"58c94dcf-60dc-4261-8157-0bf2377da32d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_deviation_max"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_deviation &gt; contextual_metric_deviation_max","type":"boolean","option":true}}]},{"id":"12ef1d30-4e06-4109-85a1-e3b27fc79368","internalID":"8a09abb1-7876-4931-8503-ce2eed4e40e0","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_start"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0 and contextual_metric_detect_start = 0","type":"boolean","option":true}}]},{"id":"05af87ff-8542-4ffe-8cef-a878c22ad7f7","internalID":"5316bf8c-4e5b-46d6-8ad6-11eff3a07cae","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_detect_end"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.contextual_metric_aggr &gt; 20 and source1.contextual_metric_deviation &gt; 1.0","type":"boolean","option":true}}]},{"id":"587a8ebf-b4ce-4d08-8f56-df0715c4af9c","internalID":"cc12976d-f61f-465f-8650-a4789fe124df","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"evt"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1","type":"viaops.incident_out","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"842e293a-a116-4665-8b33-897c23ce8033","internalID":"6e3f650c-e683-4b15-82ca-12349c9731d1","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"anomalies"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"anomalies + 1","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.state != \"Warmup\"","type":"boolean","option":true}}]},{"id":"adc43bb5-7c87-4338-8178-44601ed10706","internalID":"b81422cd-2839-4e69-86ac-5ced76606f71","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"changed"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]}},{"name":"End","label":"End","_id":"End","type":"End","x":"423","y":"125","onEntryAction":{"statements":[{"ref":"EndInstance","desc":"End instance on condition {condition}","bindings":[{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"},"defaultValue":{"text":"true","option":"false","type":"boolean"}}]}]},"onStayAction":{"statements":[]},"onExitAction":{"statements":[]}}],"transitions":[{"_id":"tran_1","label":"all in","fromState":"Start","toState":"State For Each Incident","event":"","condition":{"text":"","type":null,"option":false},"action":{"statements":[]},"priority":0,"srcId":"Start","tgtId":"State","labelLoc":0.4126984126984127},{"_id":"tran_2","label":"closed","fromState":"State For Each Incident","toState":"End","event":"","condition":{"text":"source1.operation=\"Close\"","type":"boolean","option":true},"action":{"statements":[]},"priority":0,"srcId":"State","tgtId":"End"},{"srcId":"State","tgtId":"State","label":"stay","event":"","condition":{"text":"source1.operation!=\"Close\"","type":"boolean","option":true},"action":{"statements":[]},"priority":0,"fromState":"State For Each Incident","toState":"State For Each Incident","_id":"tran_3"}],"events":[],"variables":[{"name":"_modelStartTime","type":"long","defaultValue":{"text":"","type":"string","option":false},"_deletable":false,"_disabled":true,"_id":"ef2804be-9f82-4dce-831d-a8676fede966"},{"name":"_latestEventTime","type":"long","defaultValue":{"text":"","type":"string","option":false},"_deletable":false,"_disabled":true,"_id":"fc370de0-1a0e-485b-81a6-3c0f4b24d961"},{"name":"_startEventTime","type":"long","defaultValue":{"text":"","type":"string","option":false},"_deletable":false,"_disabled":true,"_id":"af7f3e0b-5bb8-477f-814c-038b82eea3d0"},{"_id":"658df005-bab8-43aa-83a0-ea3969165020","name":"incident_start","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"92e60070-ab4f-44a1-8e95-654e6e748ab7","name":"incident_end","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"a54eeeab-aa5f-4ec2-8604-8cb20e6febe4","name":"score_max","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"331352d6-dcc8-43c3-8083-3a9e72a89c1d","name":"metric_measure_sum","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"1fad799b-a204-419e-852b-ac114df186b5","name":"metric_measure_sum_nocool","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"d892e0af-c989-4e6d-857d-d3e8df9f69e6","name":"metric_measure_max","type":"double","defaultValue":{"text":"-9999999999","type":"int","option":false}},{"_id":"cfd94fea-299c-4a73-8788-0963c42ad574","name":"metric_baseline_sum","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"9f4f2419-3f3c-4ec8-8d0e-fd3ad50ce1ae","name":"metric_baseline_sum_nocool","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"f762883e-4d90-4cdf-88e0-6c044a09957e","name":"metric_baseline_max","type":"double","defaultValue":{"text":"-9999999999","type":"int","option":false}},{"_id":"67c8cf2a-37cf-4e34-8dd2-d57b80802cb5","name":"metric_deviation_max","type":"double","defaultValue":{"text":"-9999999999","type":"int","option":false}},{"_id":"ad5ebd80-2fc2-4404-8cc8-7d1c7945a6b4","name":"contextual_metric_aggr_sum","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"4fe18274-7205-4289-8a17-708feb272fc6","name":"contextual_metric_aggr_sum_nocool","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"54faff8b-8772-4c71-899f-63f4c01630dd","name":"contextual_metric_aggr_max","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"4485e75a-afa5-4656-8f46-c48844308889","name":"contextual_metric_baseline_sum","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"c01f5856-920f-4c2c-83bc-6463c6b5686e","name":"contextual_metric_baseline_sum_nocool","type":"double","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"9f98fc75-9f4d-478c-8e3b-ab9d198e3891","name":"contextual_metric_baseline_max","type":"double","defaultValue":{"text":"-9999999999","type":"int","option":false}},{"_id":"302c27cf-66e6-4c9e-8885-d2fc126d80b8","name":"contextual_metric_deviation_max","type":"double","defaultValue":{"text":"-9999999999","type":"int","option":false}},{"_id":"b4a6591c-2809-451d-8cd0-3e00f7978086","name":"contextual_metric_detect_start","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"21767094-0972-45bf-8fcd-0e0fd580b1e6","name":"contextual_metric_detect_end","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"c7802c7b-cbe5-4db3-8ff1-bd4e8ccdff00","name":"anomalies","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"18d53371-edcf-4bdd-8f8a-d515b2c34641","name":"evt","type":"viaops.incident_out","defaultValue":{"text":"","type":"string","option":false}},{"_id":"5935b28c-afe0-46ba-83ce-1baa80f3c019","name":"mode","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"0172db31-9d3f-4ccd-806b-c0d89f930be5","name":"changed","type":"boolean","defaultValue":{"text":"false","type":"boolean","option":false}}],"aggregates":[],"globalTimers":[],"output":[{"_deletable":false,"uid":"0","output":"isp","type":{"name":"viaops.incident_summary","kind":"caseclass"},"_id":"2a32d1b6-aa9c-44e3-8e52-281d36902a24","field":"output"}],"audit":{"value":"false"},"outputLatest":{"enable":false,"uid":"","output":"Snapshots","type":{"name":"","kind":"caseclass"},"interval":{"number":"1","unit":"SECONDS"}},"persistState":{"enabled":false},"postBatchAction":{"statements":[{"id":"0709afb0-3e0a-41c4-8fcb-43edfc831a1a","internalID":"dd86a9dd-f827-43b2-8d16-65d1d4281fc2","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"    val evt = ctx.getGlobalVar[viaops.incident_out](\"evt\").get\r\n    val changed = ctx.getGlobalVar[Boolean](\"changed\").get\r\n    val isIncident = (ctx.getGlobalVar[Long](\"incident_start\").get &gt; 0)\r\n    ctx.setGlobalVar(\"changed\", false)\r\n    if (evt != null &amp;&amp; changed &amp;&amp; isIncident) {\r\n      ctx.emitOutput(\r\n        \"isp\",\r\n        viaops.incident_summary(\r\n            evt.id.getOrElse(\"\"),\r\n            evt.service_name.getOrElse(\"\"),\r\n            evt.sub_service_name.getOrElse(\"\"),\r\n            evt.date_key,\r\n            evt.metric_id.getOrElse(\"\"),\r\n            evt.algorithm.getOrElse(\"\"),\r\n            evt.threshold_policy.getOrElse(\"\"),\r\n            evt.operation.getOrElse(\"\"),\r\n            evt.state.getOrElse(\"\"),\r\n            evt.severity.getOrElse(\"\"),\r\n            evt.derived_severity.getOrElse(\"\"),\r\n            evt.max_severity.getOrElse(\"\"),\r\n            evt.factor.getOrElse(0),\r\n            evt.contextual_metric_id.getOrElse(\"\"),\r\n            evt.contextual_metric_start_tm.getOrElse(0),\r\n            evt.generated_tm.getOrElse(0),\r\n            evt.expire_tm.getOrElse(0),\r\n            evt.warmup_threshold.getOrElse(0),\r\n            evt.warmup_duration.getOrElse(0),\r\n            evt.dim_keys.getOrElse(\"\"),\r\n            evt.dim_values.getOrElse(\"\"),\r\n            evt.dim_pattern.getOrElse(\"\"),\r\n            evt.config_metric_id.getOrElse(\"\"),\r\n            ctx.getGlobalVar[Long](\"incident_start\").get,\r\n            evt.start_tm.getOrElse(0),\r\n            ctx.getGlobalVar[Long](\"incident_end\").get,\r\n            ctx.getGlobalVar[Double](\"score_max\").get,\r\n            evt.active_duration.getOrElse(0),\r\n            evt.peak_score.getOrElse(0),\r\n            ctx.getGlobalVar[Double](\"metric_measure_sum\").getOrElse(0), //from metric_measure\r\n            ctx.getGlobalVar[Double](\"metric_measure_max\").getOrElse(0), //from metric_measure\r\n            ctx.getGlobalVar[Double](\"metric_baseline_sum\").getOrElse(0),//from metric_baseline\r\n            ctx.getGlobalVar[Double](\"metric_baseline_max\").getOrElse(0),//from metric_baseline\r\n            ctx.getGlobalVar[Double](\"metric_deviation_max\").getOrElse(0),//from metric_deviation\r\n            ctx.getGlobalVar[Double](\"contextual_metric_aggr_sum\").getOrElse(0),//from contextual_metric_aggr\r\n            ctx.getGlobalVar[Double](\"contextual_metric_aggr_max\").getOrElse(0),//from contextual_metric_aggr\r\n            ctx.getGlobalVar[Double](\"contextual_metric_baseline_sum\").getOrElse(0),//from contextual_metric_aggr\r\n            ctx.getGlobalVar[Double](\"contextual_metric_baseline_max\").getOrElse(0),//from contextual_metric_aggr\r\n            ctx.getGlobalVar[Double](\"contextual_metric_deviation_max\").getOrElse(0),//from contextual_metric_deviation\r\n            evt.cooldown_duration.getOrElse(0),\r\n            ctx.getGlobalVar[Long](\"contextual_metric_detect_start\").getOrElse(0),// start_tm contextual_metric volume at least &gt; 20 and contextual_metric deviation &gt; 100%\r\n            ctx.getGlobalVar[Long](\"contextual_metric_detect_end\").getOrElse(0),  // end_tm last bin where contextual_metric volume at least &gt; 20 and contextual_metric deviation &gt; 100% during incident\r\n            (evt.warmup_duration.getOrElse(0L)) + (evt.active_duration.getOrElse(0L)) + (evt.cooldown_duration.getOrElse(0L)),\r\n            (ctx.getGlobalVar[Long](\"contextual_metric_detect_end\").getOrElse(0L)) - (ctx.getGlobalVar[Long](\"contextual_metric_detect_start\").getOrElse(0L)),\r\n            ctx.getGlobalVar[Long](\"anomalies\").getOrElse(0L),\r\n            ctx.getGlobalVar[String](\"mode\").getOrElse(\"\")\r\n        )\r\n      )\r\n    }"}]}]}}
</Properties>
                    </Model>
                </Node>
                <Node index="1005_2" uuid="259ad008-b191-431d-8ad7-d03d2c1a442e" type="inPort" label="Incident" x="220" y="129" width="70" height="40">
                    <Output name="Out" uid="0" outputType="DStream" dataType="class:viaops.incident_out" referenceType="viaops.incident_out">
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model>
<Properties>
{"portType":"*","type":{"name":"viaops.incident_out","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="1005_3" uuid="c907b735-af2f-4ceb-8c18-3334f563154c" type="outPort" label="summary" x="848" y="129" width="70" height="40">
                    <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_summary">
                      <DataSource category="#OUTPUT" id="undefined" name="summary" nodeId="b6a56df4-821d-4bb1-8b19-2a1f1af75d47">
                        <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="system_tm" label="system_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="exp_tm" label="exp_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="score_max" label="score_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_measure_sum" label="metric_measure_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_measure_max" label="metric_measure_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_baseline_max" label="metric_baseline_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_deviation_max" label="metric_deviation_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="incident_duration" label="incident_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="anomalies" label="anomalies" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Model>
<Properties>
{"type":{"name":"viaops.incident_summary","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="1005_4" uuid="13d5eab4-ba7d-4ec0-89c5-e78044be9d2e" type="JDBCTarget" label="Store to DB table" x="649" y="48" width="130" height="75">
                    <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_summary">
                      <DataSource category="#OUTPUT" id="undefined" name="isp" nodeId="b6a56df4-821d-4bb1-8b19-2a1f1af75d47">
                        <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="system_tm" label="system_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="exp_tm" label="exp_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="score_max" label="score_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_measure_sum" label="metric_measure_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_measure_max" label="metric_measure_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_baseline_max" label="metric_baseline_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_deviation_max" label="metric_deviation_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="incident_duration" label="incident_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="anomalies" label="anomalies" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_summary">
                      <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="system_tm" label="system_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="exp_tm" label="exp_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="score_max" label="score_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_measure_sum" label="metric_measure_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_measure_max" label="metric_measure_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_baseline_sum" label="metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_baseline_max" label="metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_deviation_max" label="metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_aggr_max" label="contextual_metric_aggr_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_baseline_max" label="contextual_metric_baseline_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_deviation_max" label="contextual_metric_deviation_max" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="incident_duration" label="incident_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_duration" label="contextual_metric_duration" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="anomalies" label="anomalies" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model type="table" sourceType="jdbc" dataSpeed="" dataVolume="" dataSource="/vitria/m3o/datasource/DefaultDomain/viaops_runtime_db" tableSchema="viaops_runtime_db" autoGenerate="true" tableInfo="{}" mode="overwrite" purge="none" tableName="${p_summary_table}">
                      <__binding__><![CDATA[{"editTable":""}]]></__binding__>
                      <datasource name="/vitria/m3o/datasource/DefaultDomain/viaops_runtime_db">
                      </datasource>
                      <uniqueColumns>
                                            <column>id</column>
                                            <column>date_key</column>
                      </uniqueColumns>
                      <updateColumns>
                        <column>operation</column>
                        <column>state</column>
                        <column>severity</column>
                        <column>derived_severity</column>
                        <column>max_severity</column>
                        <column>contextual_metric_start_tm</column>
                        <column>system_tm</column>
                        <column>exp_tm</column>
                        <column>warmup_duration</column>
                        <column>event_tm</column>
                        <column>end_tm</column>
                        <column>score_max</column>
                        <column>active_duration</column>
                        <column>peak_score</column>
                        <column>metric_measure_sum</column>
                        <column>metric_measure_max</column>
                        <column>metric_baseline_sum</column>
                        <column>metric_baseline_max</column>
                        <column>metric_deviation_max</column>
                        <column>contextual_metric_aggr_sum</column>
                        <column>contextual_metric_aggr_max</column>
                        <column>contextual_metric_baseline_sum</column>
                        <column>contextual_metric_baseline_max</column>
                        <column>contextual_metric_deviation_max</column>
                        <column>cooldown_duration</column>
                        <column>contextual_metric_detect_start_tm</column>
                        <column>contextual_metric_detect_end_tm</column>
                        <column>incident_duration</column>
                        <column>contextual_metric_duration</column>
                        <column>anomalies</column>
                      </updateColumns>
                      <advancedProperties>
                      </advancedProperties>
                      <mapping>
                        <column name="id" type="VARCHAR" size="255" field="id" label="id" mtype="string" nillable="false" isArray="false" isPrimary="true"/>
                        <column name="service_name" type="VARCHAR" size="255" field="service_name" label="service_name" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="sub_service_name" type="VARCHAR" size="255" field="sub_service_name" label="sub_service_name" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="date_key" type="BIGINT" size="" field="date_key" label="date_key" mtype="long" nillable="false" isArray="false" isPrimary="true"/>
                        <column name="metric_id" type="VARCHAR" size="255" field="metric_id" label="metric_id" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="algorithm" type="VARCHAR" size="255" field="algorithm" label="algorithm" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="threshold_policy" type="VARCHAR" size="255" field="threshold_policy" label="threshold_policy" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="operation" type="VARCHAR" size="255" field="operation" label="operation" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="state" type="VARCHAR" size="255" field="state" label="state" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="severity" type="VARCHAR" size="255" field="severity" label="severity" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="derived_severity" type="VARCHAR" size="255" field="derived_severity" label="derived_severity" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="max_severity" type="VARCHAR" size="255" field="max_severity" label="max_severity" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="factor" type="DOUBLE" size="" field="factor" label="factor" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_id" type="VARCHAR" size="255" field="contextual_metric_id" label="contextual_metric_id" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_start_tm" type="BIGINT" size="" field="contextual_metric_start_tm" label="contextual_metric_start_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="system_tm" type="BIGINT" size="" field="system_tm" label="system_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="exp_tm" type="BIGINT" size="" field="exp_tm" label="exp_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="warmup_threshold" type="DOUBLE" size="" field="warmup_threshold" label="warmup_threshold" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="warmup_duration" type="BIGINT" size="" field="warmup_duration" label="warmup_duration" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="dim_keys" type="VARCHAR" size="255" field="dim_keys" label="dim_keys" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="dim_values" type="VARCHAR" size="255" field="dim_values" label="dim_values" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="dim_pattern" type="VARCHAR" size="255" field="dim_pattern" label="dim_pattern" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="config_metric_id" type="VARCHAR" size="255" field="config_metric_id" label="config_metric_id" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="start_tm" type="BIGINT" size="" field="start_tm" label="start_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="event_tm" type="BIGINT" size="" field="event_tm" label="event_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="end_tm" type="BIGINT" size="" field="end_tm" label="end_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="score_max" type="DOUBLE" size="" field="score_max" label="score_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="active_duration" type="BIGINT" size="" field="active_duration" label="active_duration" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="peak_score" type="DOUBLE" size="" field="peak_score" label="peak_score" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="metric_measure_sum" type="DOUBLE" size="" field="metric_measure_sum" label="metric_measure_sum" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="metric_measure_max" type="DOUBLE" size="" field="metric_measure_max" label="metric_measure_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="metric_baseline_sum" type="DOUBLE" size="" field="metric_baseline_sum" label="metric_baseline_sum" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="metric_baseline_max" type="DOUBLE" size="" field="metric_baseline_max" label="metric_baseline_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="metric_deviation_max" type="DOUBLE" size="" field="metric_deviation_max" label="metric_deviation_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_aggr_sum" type="BIGINT" size="" field="contextual_metric_aggr_sum" label="contextual_metric_aggr_sum" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_aggr_max" type="BIGINT" size="" field="contextual_metric_aggr_max" label="contextual_metric_aggr_max" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_baseline_sum" type="DOUBLE" size="" field="contextual_metric_baseline_sum" label="contextual_metric_baseline_sum" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_baseline_max" type="DOUBLE" size="" field="contextual_metric_baseline_max" label="contextual_metric_baseline_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_deviation_max" type="DOUBLE" size="" field="contextual_metric_deviation_max" label="contextual_metric_deviation_max" mtype="double" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="cooldown_duration" type="BIGINT" size="" field="cooldown_duration" label="cooldown_duration" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_detect_start_tm" type="BIGINT" size="" field="contextual_metric_detect_start_tm" label="contextual_metric_detect_start_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_detect_end_tm" type="BIGINT" size="" field="contextual_metric_detect_end_tm" label="contextual_metric_detect_end_tm" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="incident_duration" type="BIGINT" size="" field="incident_duration" label="incident_duration" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="contextual_metric_duration" type="BIGINT" size="" field="contextual_metric_duration" label="contextual_metric_duration" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="anomalies" type="BIGINT" size="" field="anomalies" label="anomalies" mtype="long" nillable="false" isArray="false" isPrimary="false"/>
                        <column name="mode" type="VARCHAR" size="255" field="mode" label="mode" mtype="string" nillable="false" isArray="false" isPrimary="false"/>
                      </mapping>
                    </Model>
                </Node>
                <Link srcId="259ad008-b191-431d-8ad7-d03d2c1a442e" srcPort="out:0" tgtId="b6a56df4-821d-4bb1-8b19-2a1f1af75d47" tgtPort="din:0"/>
                <Link srcId="b6a56df4-821d-4bb1-8b19-2a1f1af75d47" srcPort="dout:0" tgtId="c907b735-af2f-4ceb-8c18-3334f563154c" tgtPort="in:0"/>
                <Link srcId="b6a56df4-821d-4bb1-8b19-2a1f1af75d47" srcPort="dout:0" tgtId="13d5eab4-ba7d-4ec0-89c5-e78044be9d2e" tgtPort="in:0"/>
      <Codes>
      </Codes>
      <Libraries>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[{"editorType":"textInput","*":{"label":"label","desc":"desc"},"name":"p_summary_table","label":"Incident Summary Table","type":"string","optional":"false","hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_incident_summary","enumSource":"","runtimeControl":false}]</Properties>
      <Types>[{"name":"incident_summary","namespace":"viaops","schema":[{"name":"id","type":"string","_isOptional":false,"_isArray":false},{"name":"service_name","type":"string","_isOptional":false,"_isArray":false},{"name":"sub_service_name","type":"string","_isOptional":false,"_isArray":false},{"name":"date_key","type":"long","_isOptional":false,"_isArray":false},{"name":"metric_id","type":"string","_isOptional":false,"_isArray":false},{"name":"algorithm","type":"string","_isOptional":false,"_isArray":false},{"name":"threshold_policy","type":"string","_isOptional":false,"_isArray":false},{"name":"operation","type":"string","_isOptional":false,"_isArray":false},{"name":"state","type":"string","_isOptional":false,"_isArray":false},{"name":"severity","type":"string","_isOptional":false,"_isArray":false},{"name":"derived_severity","type":"string","_isOptional":false,"_isArray":false},{"name":"max_severity","type":"string","_isOptional":false,"_isArray":false},{"name":"factor","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_id","type":"string","_isOptional":false,"_isArray":false},{"name":"contextual_metric_start_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"system_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"exp_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"warmup_threshold","type":"double","_isOptional":false,"_isArray":false},{"name":"warmup_duration","type":"long","_isOptional":false,"_isArray":false},{"name":"dim_keys","type":"string","_isOptional":false,"_isArray":false},{"name":"dim_values","type":"string","_isOptional":false,"_isArray":false},{"name":"dim_pattern","type":"string","_isOptional":false,"_isArray":false},{"name":"config_metric_id","type":"string","_isOptional":false,"_isArray":false},{"name":"start_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"event_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"end_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"score_max","type":"double","_isOptional":false,"_isArray":false},{"name":"active_duration","type":"long","_isOptional":false,"_isArray":false},{"name":"peak_score","type":"double","_isOptional":false,"_isArray":false},{"name":"metric_measure_sum","type":"double","_isOptional":false,"_isArray":false},{"name":"metric_measure_max","type":"double","_isOptional":false,"_isArray":false},{"name":"metric_baseline_sum","type":"double","_isOptional":false,"_isArray":false},{"name":"metric_baseline_max","type":"double","_isOptional":false,"_isArray":false},{"name":"metric_deviation_max","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_aggr_sum","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_aggr_max","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_baseline_sum","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_baseline_max","type":"double","_isOptional":false,"_isArray":false},{"name":"contextual_metric_deviation_max","type":"double","_isOptional":false,"_isArray":false},{"name":"cooldown_duration","type":"long","_isOptional":false,"_isArray":false},{"name":"contextual_metric_detect_start_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"contextual_metric_detect_end_tm","type":"long","_isOptional":false,"_isArray":false},{"name":"incident_duration","type":"long","_isOptional":false,"_isArray":false},{"name":"contextual_metric_duration","type":"long","_isOptional":false,"_isArray":false},{"name":"anomalies","type":"long","_isOptional":false,"_isArray":false},{"name":"mode","type":"string","_isOptional":false,"_isArray":false}]}]</Types>
              </Flow>
</__subflow__>
              <__binding__><![CDATA[{"editTable":"editTable","p_summary_table":"p_summary_table"}]]></__binding__>
            </Model>
        </Node>
        <Node index="1008" uuid="c394cdf3-5037-4d16-857e-755c9e537e65" type="Compute" label="Prepare for Grouping" x="800" y="113" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="8a22e819-622f-47bb-8c24-473b4a150ba7">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_for_grouping">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="target" label="target" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model _caseClass="viaops.incident_for_grouping" isClassRef="true">
              <Computes>
                <Compute op="sleText" field="*" arg="" value="algorithm" outputType="string" alias="algorithm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="start_tm" outputType="long" alias="start_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="end_tm" outputType="long" alias="end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="event_tm" outputType="long" alias="event_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="to_nonoption(metric_id)" outputType="string" alias="metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="id" outputType="string" alias="id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="state" outputType="string" alias="state" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="operation" outputType="string" alias="operation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="window" outputType="string" alias="window" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="score" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="peak_score" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="severity" outputType="string" alias="severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="derived_severity" outputType="string" alias="derived_severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="max_severity" outputType="string" alias="max_severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_measure" outputType="double" alias="metric_measure" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="metric_baseline" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="factor" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="metric_deviation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="string" alias="contextual_metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="contextual_metric_start_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="contextual_metric_end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="contextual_metric_aggr" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="contextual_metric_baseline" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="contextual_metric_deviation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="string" alias="causation_measure" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="integer" alias="causation_top_count" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="causation_min_measure" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="string" alias="causation_rule_name" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="string" alias="causation_suppl_measure" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="expire_tm" outputType="long" alias="expire_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="unix_timestamp_millisec(now())/1000" outputType="long" alias="generated_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="date_key" outputType="long" alias="date_key" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_policy" outputType="string" alias="threshold_policy" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_low" outputType="double" alias="threshold_low" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_med" outputType="double" alias="threshold_med" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_high" outputType="double" alias="threshold_high" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="&quot;&quot;" outputType="string" alias="target" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="service_name" outputType="string" alias="service_name" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="sub_service_name" outputType="string" alias="sub_service_name" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="correlation_end_tm" outputType="long" alias="correlation_end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="active_duration" outputType="long" alias="active_duration" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="config_metric_id" outputType="string" alias="config_metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_keys" outputType="string" alias="dim_keys" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_pattern" outputType="string" alias="dim_pattern" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_values" outputType="string" alias="dim_values" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="alternate_id" outputType="string" alias="alternate_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="cooldown_duration" outputType="long" alias="cooldown_duration" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="mode" outputType="string" alias="mode" wordWarp="true"/>
              </Computes>
              <CheckboxStatus isChecked="false"/>
            </Model>
        </Node>
        <Node index="1009" uuid="a8f6dab4-83d5-4f61-86a5-65b765a139bf" type="StreamTarget" label="Audit Log Incident" x="440" y="200" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_in">
              <DataSource category="#OUTPUT" id="undefined" name="audit" nodeId="f756b743-d95d-4ab6-8279-4a1829b9f9a5">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="emit_notification" label="emit_notification" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_contextual_metric_time_skew" label="max_contextual_metric_time_skew" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="anomaly_interval" label="anomaly_interval" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="med_threshold_period" label="med_threshold_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="high_threshold_period" label="high_threshold_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_after" label="expire_after" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cool_down_period" label="cool_down_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_period" label="warmup_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="min_metric_vol" label="min_metric_vol" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="min_metric_deviation" label="min_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="med_metric_deviation" label="med_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="high_metric_deviation" label="high_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="min_contextual_metric_vol" label="min_contextual_metric_vol" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="min_contextual_metric_deviation" label="min_contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="med_contextual_metric_deviation" label="med_contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="high_contextual_metric_deviation" label="high_contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_median_baseline" label="contextual_metric_median_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="low_threshold_rule" label="low_threshold_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="low_threshold_rule_expr" label="low_threshold_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="warmup_rule" label="warmup_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_rule_expr" label="warmup_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_metric_rule" label="active_metric_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="active_metric_rule_expr" label="active_metric_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_contextual_metric_rule" label="active_contextual_metric_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="active_contextual_metric_rule_expr" label="active_contextual_metric_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="contextual_metric_time_skew" label="contextual_metric_time_skew" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_time_skew_rule" label="contextual_metric_time_skew_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_time_skew_rule_text" label="contextual_metric_time_skew_rule_text" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="config_setting_tm" label="config_setting_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="correlation_time" label="correlation_time" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="metric_history_per" label="metric_history_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_low_per" label="max_low_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_med_per" label="max_med_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="tot_max_low_per" label="tot_max_low_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="tot_max_med_per" label="tot_max_med_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_warmup_per" label="max_warmup_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="late_data_timer" label="late_data_timer" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_in">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_contextual_metric_time_skew" label="max_contextual_metric_time_skew" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="anomaly_interval" label="anomaly_interval" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="med_threshold_period" label="med_threshold_period" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="high_threshold_period" label="high_threshold_period" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_after" label="expire_after" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="cool_down_period" label="cool_down_period" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_period" label="warmup_period" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="min_metric_vol" label="min_metric_vol" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="min_metric_deviation" label="min_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="med_metric_deviation" label="med_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="high_metric_deviation" label="high_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="min_contextual_metric_vol" label="min_contextual_metric_vol" type="integer" clazz="" isArray="false" isOptional="true"/>
              <Field name="min_contextual_metric_deviation" label="min_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="med_contextual_metric_deviation" label="med_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="high_contextual_metric_deviation" label="high_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_top_count" label="causation_top_count" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_median_baseline" label="contextual_metric_median_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="low_threshold_rule" label="low_threshold_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="low_threshold_rule_expr" label="low_threshold_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="warmup_rule" label="warmup_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_rule_expr" label="warmup_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_metric_rule" label="active_metric_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="active_metric_rule_expr" label="active_metric_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_contextual_metric_rule" label="active_contextual_metric_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="active_contextual_metric_rule_expr" label="active_contextual_metric_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_time_skew" label="contextual_metric_time_skew" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_time_skew_rule" label="contextual_metric_time_skew_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_time_skew_rule_text" label="contextual_metric_time_skew_rule_text" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="config_setting_tm" label="config_setting_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_history_per" label="metric_history_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_low_per" label="max_low_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_med_per" label="max_med_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="tot_max_low_per" label="tot_max_low_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="tot_max_med_per" label="tot_max_med_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_warmup_per" label="max_warmup_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="late_data_timer" label="late_data_timer" type="long" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model type="hiveTable" tableName="${p_audit_table}" partitionType="eventField" partitionSize="" partitionColumn="date_key" partitionIndex="57" timeColumn="" overwrite="false" partitionNum="0" dataSpeed="" dataVolume="">
            </Model>
        </Node>
        <Node index="1011" uuid="5e671a68-7040-486e-8e36-3dbd9713b6c6" type="Compute" label="Normalize Incident History" x="640" y="20" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <DataSource category="#OUTPUT" id="undefined" name="incident" nodeId="f756b743-d95d-4ab6-8279-4a1829b9f9a5">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_store">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model _caseClass="viaops.incident_store" isClassRef="true">
              <Computes>
                <Compute op="sleText" field="*" arg="" value="algorithm" outputType="string" alias="algorithm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="start_tm" outputType="long" alias="start_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="end_tm" outputType="long" alias="end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="event_tm" outputType="long" alias="event_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_id" outputType="string" alias="metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="id" outputType="string" alias="id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="state" outputType="string" alias="state" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="operation" outputType="string" alias="operation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="window" outputType="string" alias="window" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="score" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="peak_score" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="severity" outputType="string" alias="severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="derived_severity" outputType="string" alias="derived_severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="max_severity" outputType="string" alias="max_severity" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="metric_measure" outputType="double" alias="metric_measure" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="metric_baseline" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="factor" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="metric_deviation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="string" alias="contextual_metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="contextual_metric_start_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="contextual_metric_end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="contextual_metric_aggr" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="contextual_metric_baseline" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="contextual_metric_deviation" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="expire_tm" outputType="long" alias="expire_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="unix_timestamp_millisec(now())/1000" outputType="long" alias="generated_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="date_key" outputType="long" alias="date_key" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="active_duration" outputType="long" alias="active_duration" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_policy" outputType="string" alias="threshold_policy" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_low" outputType="double" alias="threshold_low" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_med" outputType="double" alias="threshold_med" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="threshold_high" outputType="double" alias="threshold_high" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="reason" outputType="string" alias="reason" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="action" outputType="string" alias="action" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="warmup_threshold" outputType="double" alias="warmup_threshold" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="warmup_duration" outputType="long" alias="warmup_duration" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="cooldown_duration" outputType="long" alias="cooldown_duration" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_keys" outputType="string" alias="dim_keys" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_values" outputType="string" alias="dim_values" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="config_metric_id" outputType="string" alias="config_metric_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="dim_pattern" outputType="string" alias="dim_pattern" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="service_name" outputType="string" alias="service_name" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="sub_service_name" outputType="string" alias="sub_service_name" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="correlation_end_tm" outputType="long" alias="correlation_end_tm" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="alternate_id" outputType="string" alias="alternate_id" wordWarp="true"/>
                <Compute op="sleText" field="*" arg="" value="mode" outputType="string" alias="mode" wordWarp="true"/>
              </Computes>
              <CheckboxStatus isChecked="false"/>
            </Model>
        </Node>
        <Node index="1012" uuid="8a22e819-622f-47bb-8c24-473b4a150ba7" type="Filter" label="Filter Groupable Incident" x="631" y="112" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <DataSource category="#OUTPUT" id="undefined" name="incident" nodeId="f756b743-d95d-4ab6-8279-4a1829b9f9a5">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model filterModel="form">
              <Filters>
                <Filter field="" op="sleText" arg="" value="" sleText="groupable=&apos;y&apos; and state != &apos;Warmup&apos;"/>
              </Filters>
            </Model>
        </Node>
        <Node index="1013" uuid="760de588-3a35-4c8e-8c33-c1206a816d19" type="subflow" label="Dimension Analysis" x="960" y="113" width="130" height="75">
            <Source name="In" uid="0" outputType="DStream" dataType="class:viaops.incident_for_grouping">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="c394cdf3-5037-4d16-857e-755c9e537e65">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="target" label="target" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="Out" uid="0" outputType="DStream" dataType="String">
              <Field name="newfield_1" label="newfield_1" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
<Properties>
{"subFlow":"remote:///viaops.incident/Dimension Analysis","p_rest_uri":"https://via1/vitria-oi/rest","p_svc_uri":"/app/dbp/user/do_admin/dbpm/DO - Manifest/AnalyticServiceManifest","p_username":"do_admin","p_password":"&lt;KdTqEVMKNES7a0K7idKu7BB&gt;","retry_times":"3"}
</Properties>
              <__subflow__>
              <Flow index="1013" uuid="Dimension Analysis" isNested="true" revision="596" acceptedSourceTypes="DStream" referenceURI="remote:///viaops.incident/Dimension Analysis" name="Dimension Analysis" showFooter="true">
                <Node index="1013_2" uuid="c66f3e18-0529-47a2-8808-a1360292c0bf" type="inPort" label="In" x="220" y="92" width="70" height="40">
                    <Output name="Out" uid="0" outputType="DStream" dataType="class:viaops.incident_for_grouping" referenceType="viaops.incident_for_grouping">
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="target" label="target" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model>
<Properties>
{"portType":"DStream","type":{"name":"viaops.incident_for_grouping","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="1013_5" uuid="ebe91bf8-cd6e-48dd-88b7-3bfc6a3078ff" type="outPort" label="Out" x="600" y="92" width="70" height="40">
                    <Source name="source" uid="0" outputType="DStream" dataType="String">
                      <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="5f4b8393-cdaf-4e2a-8afb-f1102fe2ebf1">
                        <Field name="newfield_1" label="newfield_1" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Model>
<Properties>
{"type":{"name":"viaops.DA_out","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="1013_4" uuid="5f4b8393-cdaf-4e2a-8afb-f1102fe2ebf1" type="Adhoc" label="Dimension Analysis" x="393" y="72" width="130" height="75">
                    <Source name="source1" uid="0" outputType="DStream" dataType="class:viaops.incident_for_grouping">
                      <DataSource category="#OUTPUT" id="undefined" name="Out" nodeId="c66f3e18-0529-47a2-8808-a1360292c0bf">
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="target" label="target" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Output name="out" uid="0" outputType="DStream" dataType="String" referenceType="string">
                      <Field name="newfield_1" label="newfield_1" type="string" clazz="" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model isDynamicSchema="false">
                      <Script><![CDATA[		val retval = source1.vtMap(
		  x => {
		    if(System.getProperty("disableCertificateValidatio_done")==null) {
		      disableCertificateValidation
		      System.setProperty("disableCertificateValidatio_done","true")
		    }
		    val token = getToken("${p_rest_uri}/login")
		    val svcManifest = getSvcManifest("${p_rest_uri}"+"${p_svc_uri}".replaceAll(" ", "%20"),token)
		    var incident_da : org.json4s.JObject = JObject.apply()
		    var cntx_da : org.json4s.JObject = JObject.apply()
		    var dimResultIsOk : Boolean = false
		    implicit val formats = DefaultFormats   
		    if (svcManifest != null) {
		      import scala.util.parsing.json._
		      val svcJson:Option[Any] = JSON.parseFull(svcManifest);
		      val svcMap:Map[String,Map[String,String]] = svcJson.get.asInstanceOf[Map[String, Map[String,String]]]
		      val da_uri = svcMap.get("EnhancedDimensionAnalysis").get("url")
		      
		      val interval = Integer.parseInt(x.window.get.split("/")(1))*60
		      val start_tm = x.start_tm.get
		      val end_tm =  (if (x.end_tm.get != 0) x.end_tm.get else x.event_tm.get) + interval
		      val cacheType = if (x.state =="Close") "persistent" else "transient"
		      val dimFilters = JArray(List(
		                                   (("name","$.metricID")~("value",x.metric_id)),
		                                   (("name","$.cacheConfig")~("value",("key1"->x.id)~("key2"->"DA:#")~("type"->cacheType)~("force"->"true"))),
		                                   (("name","data.timeRange")~("value","absolute:"+start_tm+"/"+ end_tm)),
		                                   (("name","$.rankLimit")~("value",0)),
		                                   (("name","$.excludeEventFilters")~("value",true)),
		                                   (("name","$.dimensionList")~("value",("compound-dimensions", JArray(List()))))
		                           ))
		      val dimResult = invokeRest("${p_rest_uri}" + da_uri.replaceAll(" ", "%20"), 
		                                 token,
		                                 Map(
		                                     "filters" -> compact(dimFilters), 
		                                     "dimInclExcl" -> "{}"
		                                 ))          
		      val dimResultJson : org.json4s.JObject = 
		        if (!dimResult.isEmpty) {
		          parse(dimResult).asInstanceOf[org.json4s.JObject].transformField {
		            case ("_eventFilters", _) => ("_eventFilters", "")
		          }.asInstanceOf[org.json4s.JObject]
		        } else {
		        	logger.warn("+=+= Cannot get dimResult: dimFilters["+dimFilters+"], da_uri["+da_uri+"]")
		        	JObject.apply()
		        }
		      dimResultIsOk = (dimResultJson \ "status").toOption.nonEmpty && (dimResultJson \ "status").extract[String].toLowerCase  == "ok"
		      if (dimResultIsOk) {
		        incident_da = ("incident_da" ->  (("pfilters" -> org.apache.commons.codec.binary.Base64.encodeBase64String(compact(dimFilters).getBytes())) ~ (dimResultJson \ "value").asInstanceOf[org.json4s.JObject]))      
		        if (!(x.`contextual_metric_id`.getOrElse("").isEmpty())) {
		          val cFilters =
		            JArray(List(
		              (("name","$.metricID")~("value",x.`contextual_metric_id`)),
		              (("name","$.cacheConfig")~("value",("key1"->x.id)~("key2"->("DA:"+x.`contextual_metric_id`))~("type"->cacheType)~("force"->"true"))),
		              (("name","data.timeRange")~("value","absolute:"+start_tm+"/" + end_tm)),
		              (("name","$.excludeEventFilters")~("value",true)),
		              (("name","$.dimensionList")~("value",("compound-dimensions", JArray(List()))))
		            ))
		          val cntxResult = invokeRest("${p_rest_uri}"+da_uri.replaceAll(" ", "%20"),
		            token,
		            Map(
		              "filters" -> compact(cFilters),
		              "dimInclExcl" -> "{}"
		            ))
		          val cntxRJson = 
		            if (!cntxResult.isEmpty) {
		               parse(cntxResult).asInstanceOf[org.json4s.JObject].transformField {
		                case ("_eventFilters", _) => ("_eventFilters", "")
		              }.asInstanceOf[org.json4s.JObject]
		            } else {
		          	  logger.warn("+=+= Cannot get cntxResult: cFilters["+cFilters+"], da_uri["+da_uri+"]")
		          	  JObject.apply()
		            }
		          
		          val cntxResultIsOk = (cntxRJson \ "status").toOption.nonEmpty && (cntxRJson \ "status").extract[String].toLowerCase  == "ok"
		          if (cntxResultIsOk)
		            cntx_da = ("contextual_metric_da" ->  (("pfilters" -> org.apache.commons.codec.binary.Base64.encodeBase64String(compact(cFilters).getBytes())) ~~ (cntxRJson \ "value").asInstanceOf[org.json4s.JObject]))
		        }
		      } else {
		        logger.warn("+=+=DA REST DA Failed!:"+dimResult)
		      }
		    }
		    logout("${p_rest_uri}/logout", token)
		    val mapper = new ObjectMapper() with ScalaObjectMapper
		    mapper.registerModule(DefaultScalaModule)
		    if (dimResultIsOk) {
		      compact(incident_da ~ cntx_da ~ ("incident" -> Extraction.decompose(x)) ~ ("status" -> "ok"))
		    } else {
		      compact(("incident" -> Extraction.decompose(x)) ~ ("status" -> "fail")) //cntx_da must be null
		    }
		}).cache()]]></Script>
                      <shellScript><![CDATA[{"global":"","custom_func":"    val retval = source1.vtMap(    x =>\n        \n        \"\"\r\n    )\r"}]]></shellScript>
                    </Model>
                </Node>
                <Link srcId="5f4b8393-cdaf-4e2a-8afb-f1102fe2ebf1" srcPort="dout:0" tgtId="ebe91bf8-cd6e-48dd-88b7-3bfc6a3078ff" tgtPort="in:0"/>
                <Link srcId="c66f3e18-0529-47a2-8808-a1360292c0bf" srcPort="out:0" tgtId="5f4b8393-cdaf-4e2a-8afb-f1102fe2ebf1" tgtPort="din:0"/>
      <Codes>
          <Imports><![CDATA[import java.io._
import com.vitria.spark.api.scala.StringUtils._
import java.net.{HttpURLConnection, URL, URLEncoder}
import java.security.SecureRandom
import javax.net.ssl.HttpsURLConnection
import javax.net.ssl.SSLSocketFactory
import javax.net.ssl.HostnameVerifier
import javax.net.ssl.SSLContext
import javax.net.ssl.TrustManager
import java.security.cert.X509Certificate
import javax.net.ssl.X509TrustManager
import javax.net.ssl.SSLSession
import org.json4s.jackson.JsonMethods._
import org.json4s.JsonDSL._
import org.json4s._
import com.fasterxml.jackson.databind.ObjectMapper
import com.fasterxml.jackson.module.scala.DefaultScalaModule
import com.fasterxml.jackson.module.scala.experimental.ScalaObjectMapper
]]></Imports>
          <Variables><![CDATA[def toJson[T: Manifest](mapper: ScalaObjectMapper, value: T): String = {
  mapper.writerFor[T].writeValueAsString(value)
}

def disableCertificateValidation : Unit ={
  var hv = new HostnameVerifier {
  def verify(hostname:String, session:SSLSession): Boolean = true 
  }
  var trustAllCerts:Array[TrustManager] = new Array[TrustManager](1)
  trustAllCerts(0)=  new X509TrustManager {
  def getAcceptedIssuers(): Array[X509Certificate] = new Array[X509Certificate](0)
  def checkClientTrusted(certs:Array[X509Certificate], authType:String): Unit = {}
  def checkServerTrusted(certs:Array[X509Certificate], authType:String): Unit = {} 
  }
  var sc = SSLContext.getInstance("SSL");
  sc.init(null, trustAllCerts, new SecureRandom());
  HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());
  HttpsURLConnection.setDefaultHostnameVerifier(hv);
}

def stream2Msg(iStream: InputStream): String = {
	try {
	  var str : String = null
	  val outputBuilder = new StringBuilder()
    if (iStream != null) {
	  	val reader = new BufferedReader(new InputStreamReader(iStream))
	  		str = reader.readLine()
	  		while (null != str) {
	  			outputBuilder.append(str)//.append('\n')
	  			str = reader.readLine()
	  		}
	  	  reader.close()
	  	  iStream.close()
	  	}
	  outputBuilder.toString()
  } catch {
    case ex: Exception => {""}
  }
}

def getToken(loginUrl : String) : String = {
  try {
    val connection = (new URL(loginUrl)).openConnection().asInstanceOf[HttpURLConnection]
    connection.setRequestMethod("POST")
    connection.setDoInput(true)
    connection.setDoOutput(true)
    //send username and password
    val os = connection.getOutputStream()
    val writer = new BufferedWriter(new OutputStreamWriter(os, "UTF-8"))
    writer.write(URLEncoder.encode("username", "UTF-8") + "=" + URLEncoder.encode("${p_username}", "UTF-8"))
    writer.write("&")
    writer.write(URLEncoder.encode("password", "UTF-8") + "=" + URLEncoder.encode(com.vitria.fc.data.Encrypt.unencrypt("${p_password}"), "UTF-8"))
    writer.flush()
    writer.close()
    os.close()
    
    val responseCode = connection.getResponseCode()
    // println("+=+=Login Response Code["+responseCode+"]")
    var inputStream : InputStream = null
    if (responseCode == HttpURLConnection.HTTP_OK) {
    	inputStream = connection.getInputStream()
    } else {
      logger.warn("+=+=Cannot getToken, Login URL["+loginUrl+"] usename[${p_username}]/password[${p_password}], responseCode["+responseCode+"], error["+stream2Msg(connection.getErrorStream())+"]")
    	return null
    }
    //get response
    val ret = stream2Msg(inputStream)
    connection.disconnect()
    ret     
  } catch {
    case ex: Exception => {
    	logger.warn("+=+=Cannot getToken, Login URL["+loginUrl+"] usename[${p_username}]/password[${p_password}]]" + ex.getMessage())
    	return null
    }
  }
}

def logout(logoutUrl : String, token : String) : Unit = {
    if (token == null) return;
	val connection = (new URL(logoutUrl)).openConnection().asInstanceOf[HttpURLConnection]
	connection.setRequestMethod("GET")
	connection.setRequestProperty("vttoken", token)
	val responseCode = connection.getResponseCode()
	connection.disconnect()
}

def getSvcManifest(url : String, token : String) : String = {
    if (token == null) return null
	val connection = (new URL(url)).openConnection().asInstanceOf[HttpURLConnection]
	connection.setRequestMethod("GET")
	connection.setRequestProperty("vttoken", token)
	val responseCode = connection.getResponseCode()
  var inputStream : InputStream = null
  if (responseCode == HttpURLConnection.HTTP_OK) {
  	inputStream = connection.getInputStream()
  } else {
  	logger.warn("+=+= Cannot getSvcManifest: URL["+url+"], token[" + token+"], responseCode["+responseCode+"], error["+stream2Msg(connection.getErrorStream())+"]")
  	return null
  }
  //get response
  val ret = stream2Msg(inputStream)
  connection.disconnect()
  ret
}

def invokeRest(url : String, token : String, paramers : Map[String, String]) : String = {    
	var times = Math.max(${retry_times}, 0) + 1
	while (times > 0) {
	  val startTM = System.currentTimeMillis
	  val connection = (new URL(url)).openConnection().asInstanceOf[HttpURLConnection]
	  connection.setRequestMethod("POST")
	  connection.setDoInput(true)
	  connection.setDoOutput(true)
	  connection.setRequestProperty("vttoken",token)
	  val os = connection.getOutputStream()
	  val writer = new BufferedWriter(new OutputStreamWriter(os, "UTF-8"))
	  // 	writer.write(URLEncoder.encode("vttoken", "UTF-8") + "=" + token) // URLEncoder.encode(token, "UTF-8"))
	  paramers.foreach(
	  	p => { 
	  		writer.write("&")
	  		writer.write(URLEncoder.encode(p._1, "UTF-8") + "=" + URLEncoder.encode(p._2, "UTF-8"))
	  	}
	  )
	  writer.flush()
	  writer.close()
	  os.close()
	  val responseCode = connection.getResponseCode()
	  // 	println("+=+=HTTP Response Code["+responseCode+"]")
 	  var inputStream : InputStream = null
 	  if (responseCode == HttpURLConnection.HTTP_OK) {
    	inputStream = connection.getInputStream()
 	  } else {
    	logger.warn("+=+= Cannot getSvcManifest: URL["+url+"], responseCode["+responseCode+"], error["+stream2Msg(connection.getErrorStream())+
    	"],inputStream["+stream2Msg(connection.getInputStream())+"], startTM["+ startTM+"]")
 	  }
 	  //get response
 	  val ret = stream2Msg(inputStream)
 	  connection.disconnect()
 	  if (ret.isEmpty) {
    	times -= 1
    	if (times > 0) logger.warn("+=+= retry...")
 	  } else {
    	return ret
 	  }
 	}
    ""
}
/** Global variables end **/
]]></Variables>
      </Codes>
      <Libraries>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_rest_uri","label":"REST URI","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"https://via1/vitria-oi/rest","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_svc_uri","label":"Manifest URI","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"/app/dbp/user/do_admin/dbpm/DO - Manifest/AnalyticServiceManifest","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_username","label":"Service Call User Name","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"do_admin","enumSource":"","runtimeControl":false},{"editorType":"password","*":{"label":"label","desc":"desc"},"group":"common","name":"p_password","label":"Service Call Password","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"&lt;KdTqEVMKNES7a0K7idKu7BB&gt;","constraints":"password","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"retry_times","label":"Number of Retry to Call REST","type":"long","hidden":"false","disabled":false,"resolveProperty":false,"value":3,"enumSource":"","runtimeControl":false}]</Properties>
      <Types>[{"name":"DA_out","namespace":"viaops","schema":[{"name":"result","type":"string","_isOptional":false,"_isArray":false}]}]</Types>
              </Flow>
</__subflow__>
              <__binding__><![CDATA[{"p_rest_uri":"p_rest_uri","p_svc_uri":"p_svc_uri","p_username":"p_username","p_password":"p_password","retry_times":"retry_times"}]]></__binding__>
            </Model>
        </Node>
        <Node index="1014" uuid="0805067f-70d5-49bc-8004-53520e41aeaf" type="StreamTarget" label="Capture Incident History" x="800" y="20" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_store">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="5e671a68-7040-486e-8e36-3dbd9713b6c6">
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_store">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model type="hiveTable" tableName="${p_incident_table}" partitionType="eventField" partitionSize="" partitionColumn="date_key" partitionIndex="26" timeColumn="" overwrite="false" partitionNum="1" dataSpeed="" dataVolume="">
            </Model>
        </Node>
        <Node index="1015" uuid="dca7e0e4-ec3f-4674-8613-8811866ccae3" type="StreamTarget" label="Capture Incident for Grouping" x="1126" y="112" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="String">
              <DataSource category="#OUTPUT" id="undefined" name="Out" nodeId="760de588-3a35-4c8e-8c33-c1206a816d19">
                <Field name="newfield_1" label="newfield_1" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="String">
              <Field name="newfield_1" label="newfield_1" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model type="file" url="${p_incident_plus_da}" namePrefix="${p_output_prefix}" format="txt" partitionNum="1" dataSpeed="" dataVolume="">
            </Model>
        </Node>
        <Node index="1016" uuid="f756b743-d95d-4ab6-8279-4a1829b9f9a5" type="subflow" label="Simple Threshold Evaluation" x="420" y="20" width="130" height="95">
            <Source name="In" uid="0" outputType="DStream" dataType="class:viaops.raw_incident">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="275c1f75-2151-40b9-8855-119c3f62bfac">
                <Field name="window_size" label="window_size" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="anomaly_interval" label="anomaly_interval" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="aggr_metric" label="aggr_metric" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="metric_id" wrapName="metric_id"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="dim_keys" wrapName="dim_keys"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="dim_pattern" wrapName="dim_pattern"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="window" wrapName="window"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="threshold_policy" wrapName="threshold_policy"/>
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="algorithm" wrapName="algorithm"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="generate" wrapName="generate"/>
                <Field name="emit_notification" label="emit_notification" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="emit_notification" wrapName="emit_notification"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="threshold_high" wrapName="threshold_high"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="threshold_low" wrapName="threshold_low"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="threshold_med" wrapName="threshold_med"/>
                <Field name="expire_after" label="expire_after" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="expire_after" wrapName="expire_after"/>
                <Field name="cool_down_period" label="cool_down_period" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="cool_down_period" wrapName="cool_down_period"/>
                <Field name="warmup_period" label="warmup_period" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="warmup_period" wrapName="warmup_period"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="warmup_threshold" wrapName="warmup_threshold"/>
                <Field name="upd_dt" label="upd_dt" type="datetime" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="upd_dt" wrapName="upd_dt"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="service_name" wrapName="service_name"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="sub_service_name" wrapName="sub_service_name"/>
                <Field name="correlation_time" label="correlation_time" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="correlation_time" wrapName="correlation_time"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="groupable" wrapName="groupable"/>
                <Field name="metric_hist_per" label="metric_hist_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="metric_hist_per" wrapName="metric_hist_per"/>
                <Field name="max_low_per" label="max_low_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="max_low_per" wrapName="max_low_per"/>
                <Field name="max_med_per" label="max_med_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="max_med_per" wrapName="max_med_per"/>
                <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="tot_max_low_per" wrapName="tot_max_low_per"/>
                <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="tot_max_med_per" wrapName="tot_max_med_per"/>
                <Field name="late_data_timer" label="late_data_timer" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
              </DataSource>
            </Source>
            <Output name="incident" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Output name="audit" uid="1" outputType="DStream" dataType="class:viaops.incident_in">
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_contextual_metric_time_skew" label="max_contextual_metric_time_skew" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="anomaly_interval" label="anomaly_interval" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="med_threshold_period" label="med_threshold_period" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="high_threshold_period" label="high_threshold_period" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="expire_after" label="expire_after" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="cool_down_period" label="cool_down_period" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_period" label="warmup_period" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="min_metric_vol" label="min_metric_vol" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="min_metric_deviation" label="min_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="med_metric_deviation" label="med_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="high_metric_deviation" label="high_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="min_contextual_metric_vol" label="min_contextual_metric_vol" type="integer" clazz="" isArray="false" isOptional="true"/>
              <Field name="min_contextual_metric_deviation" label="min_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="med_contextual_metric_deviation" label="med_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="high_contextual_metric_deviation" label="high_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_top_count" label="causation_top_count" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_median_baseline" label="contextual_metric_median_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
              <Field name="low_threshold_rule" label="low_threshold_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="low_threshold_rule_expr" label="low_threshold_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="warmup_rule" label="warmup_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="warmup_rule_expr" label="warmup_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_metric_rule" label="active_metric_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="active_metric_rule_expr" label="active_metric_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="active_contextual_metric_rule" label="active_contextual_metric_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="active_contextual_metric_rule_expr" label="active_contextual_metric_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="contextual_metric_time_skew" label="contextual_metric_time_skew" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_time_skew_rule" label="contextual_metric_time_skew_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
              <Field name="contextual_metric_time_skew_rule_text" label="contextual_metric_time_skew_rule_text" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="config_setting_tm" label="config_setting_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_history_per" label="metric_history_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_low_per" label="max_low_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_med_per" label="max_med_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="tot_max_low_per" label="tot_max_low_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="tot_max_med_per" label="tot_max_med_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="max_warmup_per" label="max_warmup_per" type="long" clazz="" isArray="false" isOptional="true"/>
              <Field name="late_data_timer" label="late_data_timer" type="long" clazz="" isArray="false" isOptional="false"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model>
<Properties>
{"subFlow":"remote:///viaops.incident/Simple Threshold Evaluation"}
</Properties>
              <__subflow__>
              <Flow index="1016" uuid="Simple Threshold Evaluation" isNested="true" revision="444" acceptedSourceTypes="DStream" referenceURI="remote:///viaops.incident/Simple Threshold Evaluation" name="Simple Threshold Evaluation" showFooter="true">
                <Node index="1016_1" uuid="514c0d2f-1eac-4cc6-865c-7be0bd6e9080" type="Compute" label="Normalize Incident Interface" x="240" y="71" width="130" height="75">
                    <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.raw_incident">
                      <DataSource category="#OUTPUT" id="undefined" name="Out" nodeId="6a0ebd25-3da5-496b-899e-2c9c3dd72633">
                        <Field name="window_size" label="window_size" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="anomaly_interval" label="anomaly_interval" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="aggr_metric" label="aggr_metric" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="metric_id" column="metric_id"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="dim_keys" column="dim_keys"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="dim_pattern" column="dim_pattern"/>
                        <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="window" column="window"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="threshold_policy" column="threshold_policy"/>
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="algorithm" column="algorithm"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="generate" column="generate"/>
                        <Field name="emit_notification" label="emit_notification" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="emit_notification" column="emit_notification"/>
                        <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="threshold_high" column="threshold_high"/>
                        <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="threshold_low" column="threshold_low"/>
                        <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="threshold_med" column="threshold_med"/>
                        <Field name="expire_after" label="expire_after" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="expire_after" column="expire_after"/>
                        <Field name="cool_down_period" label="cool_down_period" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="cool_down_period" column="cool_down_period"/>
                        <Field name="warmup_period" label="warmup_period" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="warmup_period" column="warmup_period"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="warmup_threshold" column="warmup_threshold"/>
                        <Field name="upd_dt" label="upd_dt" type="datetime" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="upd_dt" column="upd_dt"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="service_name" column="service_name"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="sub_service_name" column="sub_service_name"/>
                        <Field name="correlation_time" label="correlation_time" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="correlation_time" column="correlation_time"/>
                        <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" wrapName="groupable" column="groupable"/>
                        <Field name="metric_hist_per" label="metric_hist_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="metric_hist_per" column="metric_hist_per"/>
                        <Field name="max_low_per" label="max_low_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="max_low_per" column="max_low_per"/>
                        <Field name="max_med_per" label="max_med_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="max_med_per" column="max_med_per"/>
                        <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="tot_max_low_per" column="tot_max_low_per"/>
                        <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" wrapName="tot_max_med_per" column="tot_max_med_per"/>
                        <Field name="late_data_timer" label="late_data_timer" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                      </DataSource>
                    </Source>
                    <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.incident_in">
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="max_contextual_metric_time_skew" label="max_contextual_metric_time_skew" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="anomaly_interval" label="anomaly_interval" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="med_threshold_period" label="med_threshold_period" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="high_threshold_period" label="high_threshold_period" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="expire_after" label="expire_after" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="cool_down_period" label="cool_down_period" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="warmup_period" label="warmup_period" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="min_metric_vol" label="min_metric_vol" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="min_metric_deviation" label="min_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="med_metric_deviation" label="med_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="high_metric_deviation" label="high_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="min_contextual_metric_vol" label="min_contextual_metric_vol" type="integer" clazz="" isArray="false" isOptional="true"/>
                      <Field name="min_contextual_metric_deviation" label="min_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="med_contextual_metric_deviation" label="med_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="high_contextual_metric_deviation" label="high_contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_top_count" label="causation_top_count" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_median_baseline" label="contextual_metric_median_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="low_threshold_rule" label="low_threshold_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
                      <Field name="low_threshold_rule_expr" label="low_threshold_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="warmup_rule" label="warmup_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
                      <Field name="warmup_rule_expr" label="warmup_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="active_metric_rule" label="active_metric_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
                      <Field name="active_metric_rule_expr" label="active_metric_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="active_contextual_metric_rule" label="active_contextual_metric_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
                      <Field name="active_contextual_metric_rule_expr" label="active_contextual_metric_rule_expr" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="contextual_metric_time_skew" label="contextual_metric_time_skew" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_time_skew_rule" label="contextual_metric_time_skew_rule" type="boolean" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_time_skew_rule_text" label="contextual_metric_time_skew_rule_text" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="config_setting_tm" label="config_setting_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_history_per" label="metric_history_per" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="max_low_per" label="max_low_per" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="max_med_per" label="max_med_per" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="tot_max_low_per" label="tot_max_low_per" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="tot_max_med_per" label="tot_max_med_per" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="max_warmup_per" label="max_warmup_per" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="late_data_timer" label="late_data_timer" type="long" clazz="" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model _caseClass="viaops.incident_in" isClassRef="true">
                      <Variables>
                        <Variable alias="low_threshold_rule" outputType="boolean" value="(threshold_policy=&apos;above&apos; and aggr_metric &gt; threshold_low) or (threshold_policy=&apos;below&apos; and aggr_metric &lt; threshold_low)"/>
                        <Variable alias="warmup_rule" outputType="boolean" value="(threshold_policy=&apos;above&apos; and aggr_metric &gt; warmup_threshold) or (threshold_policy=&apos;below&apos; and aggr_metric &lt; warmup_threshold)"/>
                      </Variables>
                      <Computes>
                        <Compute op="sleText" field="*" arg="" value="algorithm" outputType="string" alias="algorithm" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="metric_id" outputType="string" alias="metric_id" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="dim_keys" outputType="string" alias="dim_keys" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="window" outputType="string" alias="window" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="threshold_policy" outputType="string" alias="threshold_policy" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="start_tm" outputType="long" alias="start_tm" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="end_tm" outputType="long" alias="end_tm" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="mode" outputType="string" alias="mode" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="emit_notification" outputType="string" alias="emit_notification" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="max_contextual_metric_time_skew" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="anomaly_interval" outputType="long" alias="anomaly_interval" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="threshold_high" outputType="double" alias="threshold_high" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="threshold_low" outputType="double" alias="threshold_low" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="threshold_med" outputType="double" alias="threshold_med" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="med_threshold_period" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="high_threshold_period" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="expire_after" outputType="long" alias="expire_after" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="cool_down_period" outputType="long" alias="cool_down_period" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="warmup_period" outputType="long" alias="warmup_period" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="warmup_threshold" outputType="double" alias="warmup_threshold" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="min_metric_vol" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="min_metric_deviation" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="med_metric_deviation" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="high_metric_deviation" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="integer" alias="min_contextual_metric_vol" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="min_contextual_metric_deviation" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="med_contextual_metric_deviation" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="high_contextual_metric_deviation" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="string" alias="causation_measure" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="causation_top_count" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="causation_min_measure" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="string" alias="causation_rule_name" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="string" alias="causation_suppl_measure" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="factor" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="aggr_metric" outputType="double" alias="metric_measure" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="metric_baseline" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="string" alias="contextual_metric_id" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="contextual_metric_start_tm" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="contextual_metric_end_tm" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="contextual_metric_aggr" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="contextual_metric_baseline" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="contextual_metric_median_baseline" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="score" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="metric_deviation" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="double" alias="contextual_metric_deviation" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="low_threshold_rule" outputType="boolean" alias="low_threshold_rule" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="&quot;(threshold_policy=&apos;above&apos; and aggr_metric &gt; threshold_low) or (threshold_policy=&apos;below&apos; and aggr_metric &lt; threshold_low)&quot;" outputType="string" alias="low_threshold_rule_expr" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="warmup_rule" outputType="boolean" alias="warmup_rule" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="&quot;(threshold_policy=&apos;above&apos; and aggr_metric &gt; warmup_threshold) or (threshold_policy=&apos;below&apos; and aggr_metric &lt; warmup_threshold)&quot;" outputType="string" alias="warmup_rule_expr" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="boolean" alias="active_metric_rule" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="&apos;N/A&apos;" outputType="string" alias="active_metric_rule_expr" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="boolean" alias="active_contextual_metric_rule" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="&apos;N/A&apos;" outputType="string" alias="active_contextual_metric_rule_expr" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="contextual_metric_time_skew" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="boolean" alias="contextual_metric_time_skew_rule" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="&apos;N/A&apos;" outputType="string" alias="contextual_metric_time_skew_rule_text" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="unix_timestamp_millisec(upd_dt)/1000" outputType="long" alias="config_setting_tm" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="date_key" outputType="long" alias="date_key" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="dim_pattern" outputType="string" alias="dim_pattern" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="config_metric_id" outputType="string" alias="config_metric_id" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="service_name" outputType="string" alias="service_name" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="sub_service_name" outputType="string" alias="sub_service_name" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="correlation_time" outputType="long" alias="correlation_time" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="groupable" outputType="string" alias="groupable" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="metric_hist_per" outputType="long" alias="metric_history_per" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="max_low_per" outputType="long" alias="max_low_per" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="max_med_per" outputType="long" alias="max_med_per" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="tot_max_low_per" outputType="long" alias="tot_max_low_per" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="tot_max_med_per" outputType="long" alias="tot_max_med_per" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="" outputType="long" alias="max_warmup_per" wordWarp="true"/>
                        <Compute op="sleText" field="*" arg="" value="late_data_timer" outputType="long" alias="late_data_timer" wordWarp="true"/>
                      </Computes>
                      <CheckboxStatus isChecked="false"/>
                    </Model>
                </Node>
                <Node index="1016_2" uuid="43cdd63f-e4f9-459f-81d4-50991c155d24" type="stateMachine" label="Incident Management" x="450" y="74" width="130" height="115">
                    <Source name="source1" uid="0" outputType="DStream" dataType="class:viaops.incident_in">
                      <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="514c0d2f-1eac-4cc6-865c-7be0bd6e9080">
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="emit_notification" label="emit_notification" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_contextual_metric_time_skew" label="max_contextual_metric_time_skew" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="anomaly_interval" label="anomaly_interval" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="med_threshold_period" label="med_threshold_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="high_threshold_period" label="high_threshold_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="expire_after" label="expire_after" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="cool_down_period" label="cool_down_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_period" label="warmup_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="min_metric_vol" label="min_metric_vol" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="min_metric_deviation" label="min_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="med_metric_deviation" label="med_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="high_metric_deviation" label="high_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="min_contextual_metric_vol" label="min_contextual_metric_vol" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="min_contextual_metric_deviation" label="min_contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="med_contextual_metric_deviation" label="med_contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="high_contextual_metric_deviation" label="high_contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_top_count" label="causation_top_count" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_median_baseline" label="contextual_metric_median_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="low_threshold_rule" label="low_threshold_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="low_threshold_rule_expr" label="low_threshold_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="warmup_rule" label="warmup_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_rule_expr" label="warmup_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_metric_rule" label="active_metric_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="active_metric_rule_expr" label="active_metric_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_contextual_metric_rule" label="active_contextual_metric_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="active_contextual_metric_rule_expr" label="active_contextual_metric_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_time_skew" label="contextual_metric_time_skew" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_time_skew_rule" label="contextual_metric_time_skew_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_time_skew_rule_text" label="contextual_metric_time_skew_rule_text" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="config_setting_tm" label="config_setting_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="correlation_time" label="correlation_time" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_history_per" label="metric_history_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_low_per" label="max_low_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_med_per" label="max_med_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="tot_max_low_per" label="tot_max_low_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="tot_max_med_per" label="tot_max_med_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_warmup_per" label="max_warmup_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="late_data_timer" label="late_data_timer" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Output name="ip" uid="0" outputType="DStream" dataType="class:viaops.incident_out" referenceType="viaops.incident_out">
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="event_tm" label="event_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="id" label="id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="state" label="state" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="operation" label="operation" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="score" label="score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="peak_score" label="peak_score" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="severity" label="severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="derived_severity" label="derived_severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="max_severity" label="max_severity" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_measure" label="metric_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_baseline" label="metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="factor" label="factor" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="metric_deviation" label="metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_id" label="contextual_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_measure" label="causation_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_top_count" label="causation_top_count" type="integer" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_min_measure" label="causation_min_measure" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_rule_name" label="causation_rule_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="expire_tm" label="expire_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="generated_tm" label="generated_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="active_duration" label="active_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="reason" label="reason" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="action" label="action" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true"/>
                      <Field name="warmup_duration" label="warmup_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="cooldown_duration" label="cooldown_duration" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="correlation_end_tm" label="correlation_end_tm" type="long" clazz="" isArray="false" isOptional="true"/>
                      <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="alternate_id" label="alternate_id" type="string" clazz="" isArray="false" isOptional="true"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="false"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model>
<Properties>
{"isEventTime":"true","source":[{"_deletable":false,"source":"source1","correlation":["metric_id","window"],"timestamp":"start_tm","drop":true,"_id":"417fa224-c8e6-4b6e-8d53-1cbf3271c6d7"}],"states":[{"name":"Start","label":"Start","_id":"Start","type":"Start","x":130,"y":231,"onEntryAction":{"statements":[]},"onStayAction":{"statements":[]},"onExitAction":{"statements":[]},"width":"130","height":80},{"name":"Active","label":"Active","_id":"State","type":"State","x":269,"y":160,"onEntryAction":{"statements":[]},"onStayAction":{"statements":[]},"onExitAction":{"statements":[]},"width":"130","height":80},{"name":"Cooldown","label":"Cooldown","type":"State","x":640,"y":120,"width":"130","height":80,"onEntryAction":{"statements":[]},"onStayAction":{"statements":[]},"onExitAction":{"statements":[]},"_id":"6e195f26-9cd4-473d-8f9a-50655087ec26"},{"name":"End","label":"End","type":"End","x":1040,"y":160,"width":"130","height":80,"onEntryAction":{"statements":[{"id":"035165ef-0b36-490e-86a7-60bcee8f33ab","internalID":"2db476a3-2f7d-4df2-8ff7-a93d7e9851de","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"ctx.endInstance()"}]},{"ref":"EndInstance","desc":"End instance on condition {condition}","bindings":[{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"},"defaultValue":{"text":"true","option":"false","type":"boolean"}}]}]},"onStayAction":{"statements":[]},"onExitAction":{"statements":[]},"_id":"6e7ad0f0-25ba-4cf4-8e6b-8dca6d50fd8f"},{"name":"Warmup","label":"Warmup","type":"State","x":560,"y":327,"width":"130","height":80,"onEntryAction":{"statements":[]},"onStayAction":{"statements":[]},"onExitAction":{"statements":[]},"_id":"d41c3e3e-316e-4f7b-8f39-1ed60ecb4e28"}],"transitions":[{"srcId":"State","tgtId":"State","label":"Continue Active","event":"","condition":{"text":"source1.low_threshold_rule or (low_from_warmup and source1.warmup_rule)","type":"boolean","option":true},"action":{"statements":[{"id":"b1eb050d-4416-4f72-8bcd-1166051c89a1","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Update\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"cbdc35dc-68b0-4e7c-8d8c-f90be218f831","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"0","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}}]},{"id":"cb4b6b65-4303-41dd-88d8-31a5f59edd94","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"1","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"c8a1f042-9a90-4cf0-8f61-3425bd6124a2","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"1","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_low) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_low)","type":"boolean","option":true}}]},{"id":"3c535104-3219-490e-8f4f-12c5d63b7906","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"2","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_med) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_med)","type":"boolean","option":true}}]},{"id":"153e7850-d156-4b93-8537-0296b1dc038c","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"3","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_high) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_high)","type":"boolean","option":true}}]},{"id":"6ae5c606-afba-4e44-82a8-d15d69d4dcd9","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"tot_over_low_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"tot_over_low_per+anomaly_interval","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"severity=1","type":"boolean","option":true}}]},{"id":"a3a17440-92ff-4841-82aa-814f214e853f","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"tot_over_med_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"tot_over_med_per+anomaly_interval","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"severity=2","type":"boolean","option":true}}]},{"id":"b230bc44-8da9-46bd-807f-d173d2a7bcb4","internalID":"fbc122da-d042-4be3-8698-1b327917ba85","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\n//accumulate metric history\nval metric_hist_per = ctx.getGlobalVar[Int](\"metric_hist_per\").getOrElse(0)\nval tot_over_low_per = ctx.getGlobalVar[Int](\"tot_over_low_per\").get\nval tot_over_med_per = ctx.getGlobalVar[Int](\"tot_over_med_per\").get\nval tot_max_low_per = ctx.getGlobalVar[Int](\"tot_max_low_per\").get\nval tot_max_med_per = ctx.getGlobalVar[Int](\"tot_max_med_per\").get\nval anomaly_interval = ctx.getGlobalVar[Int](\"anomaly_interval\").get\nval max_low_per = ctx.getGlobalVar[Int](\"max_low_per\").get\nval max_med_per = ctx.getGlobalVar[Int](\"max_med_per\").get\nval threshold_low = ctx.getGlobalVar[Double](\"threshold_low\").get\nval threshold_med = ctx.getGlobalVar[Double](\"threshold_med\").get\nvar max_esc_severity = ctx.getGlobalVar[Int](\"max_esc_severity\").get\nval severity = ctx.getGlobalVar[Int](\"severity\").get\nval mv = MetricVal(source1.start_tm, severity)\nvar mvh = ctx.getGlobalVar[MetricValHist](\"mv_hist\").get.list\nmvh = mvh.:+(mv)\nmvh = mvh.sortBy(_.tm).reverse.take(metric_hist_per/anomaly_interval)\nval over_low_per = mvh.filter(_.severity == 1).size*anomaly_interval\nval over_med_per = mvh.filter(_.severity == 2).size*anomaly_interval\nif ((over_low_per &gt;= max_low_per &amp;&amp; max_esc_severity != 3)||(tot_over_low_per&gt;=tot_max_low_per))\n    max_esc_severity = 2\nif (over_med_per &gt;= max_med_per||tot_over_med_per&gt;=tot_max_med_per)\n    max_esc_severity = 3\n\nctx.setGlobalVar(\"mv_hist\", MetricValHist(mvh))\nctx.setGlobalVar(\"max_esc_severity\", max_esc_severity)\n\n//println(\"+=+=Active State[\"+ctx.getGlobalVar[String](\"incident_id\").get+\"] metric_hist_per[\"+metric_hist_per+\"] over_low_per[\"+over_low_per+\"] over_med_per[\"+over_med_per+\"] max_low_per[\"+max_low_per+\"] max_med_med[\"+max_med_per+\"] tot_over_low_per[\"+tot_over_low_per+\"] tot_over_med_per[\"+tot_over_med_per+\"] max_esc_severity[\"+max_esc_severity+\"]\")\n//println(\"+=+=mvh list\"+mvh)\n\n//println(\"+=+=Remain Active icndeint_id[\"+ctx.getGlobalVar[String](\"incident_id\").get+\"] low_threshold_rule[\"+source1.low_threshold_rule+\"] warmup_rule[\"+source1.warmup_rule+\"] low_from_warup[\"+ctx.getGlobalVar[Boolean](\"low_from_warmup\").get+\"]\")\n"}]},{"id":"8dbc30a4-2b34-4543-81b4-186ce2301667","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"severity&gt;derived_severity","type":"boolean","option":true}}]},{"id":"d5a77d76-133c-479c-8598-19760641fa7c","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"max_esc_severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"max_esc_severity&gt;severity","type":"boolean","option":true}}]},{"id":"a7a581bb-dd69-412a-8a6e-cd37af495d6a","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"severity&gt;max_severity","type":"boolean","option":true}}]},{"id":"a5a591a1-74d0-43c8-8e24-e5ae4e431710","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"derived_severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"derived_severity&gt;max_severity","type":"boolean","option":true}}]},{"id":"fee768e9-d2e7-4cdb-84f4-c235f5a16365","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_active_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"6fc997ed-427a-4ada-8058-7922f55557ba","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"active_duration"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"active_duration+source1.anomaly_interval","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"severity != 0","type":"boolean","option":true}}]},{"id":"161e935d-dd12-4acc-819d-9c1260993c75","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=&apos;y&apos;","type":"boolean","option":true}}]},{"id":"aeabb91a-ed7e-42d6-8c3a-ef7f84e0232b","internalID":"e2588135-03f7-48ca-8ef1-ae9eaf7a9404","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\r\nval SEV_LOW = 1\r\nval SEV_MED = 2\r\nval SEV_HIGH = 3\r\nval metric_hist_per = ctx.getGlobalVar[Int](\"metric_hist_per\").getOrElse(0)\r\nval tot_over_low_per= ctx.getGlobalVar[Int](\"tot_over_low_per\").getOrElse(0)\r\nval tot_over_med_per= ctx.getGlobalVar[Int](\"tot_over_med_per\").getOrElse(0)\r\nval tot_max_low_per = ctx.getGlobalVar[Int](\"tot_max_low_per\").getOrElse(Int.MaxValue)\r\nval tot_max_med_per = ctx.getGlobalVar[Int](\"tot_max_med_per\").getOrElse(Int.MaxValue)\r\n\r\nval max_low_per = ctx.getGlobalVar[Int](\"max_low_per\").getOrElse(0)\r\nval max_med_per = ctx.getGlobalVar[Int](\"max_med_per\").getOrElse(0)\r\n\r\nval mvh = ctx.getGlobalVar[MetricValHist](\"mv_hist\").get.list\r\nval anomaly_interval = ctx.getGlobalVar[Int](\"anomaly_interval\").getOrElse(0)\r\nval over_low_per = mvh.filter(_.severity == SEV_LOW).size * anomaly_interval\r\nval over_med_per = mvh.filter(_.severity == SEV_MED).size * anomaly_interval\r\n\r\nval max_esc_severity = ctx.getGlobalVar[Int](\"max_esc_severity\").getOrElse(0)\r\nval last_max_esc_severity = ctx.getGlobalVar[Int](\"last_max_esc_severity\").getOrElse(0)\r\nval low_threshold = ctx.getGlobalVar[Double](\"threshold_low\")\r\nval med_threshold = ctx.getGlobalVar[Double](\"threshold_med\")\r\nval high_threshold = ctx.getGlobalVar[Double](\"threshold_high\")\r\n\r\nval last_severity = ctx.getGlobalVar[Int](\"last_derived_severity\").getOrElse(0)\r\n\r\nval escalate_over_low_per_rule     = (over_low_per     &gt;= max_low_per)\r\nval escalate_tot_over_low_per_rule = (tot_over_low_per &gt;= tot_max_low_per)\r\nval escalate_over_med_per_rule     = (over_med_per     &gt;= max_med_per)\r\nval escalate_tot_over_med_per_rule = (tot_over_med_per &gt;= tot_max_med_per)\r\n    \r\nval all_escalation_cond =  escalate_over_low_per_rule  || escalate_tot_over_low_per_rule ||\r\n                            escalate_over_med_per_rule || escalate_tot_over_med_per_rule\r\n\r\nval composited_all_escalation_cond = !all_escalation_cond &amp;&amp; (max_esc_severity == 0)\r\n\r\nvar msg = \"\"\r\nvar action = IncidentActionMsg.STAY\r\nvar params: Seq[(String, Any)] = Seq()\r\n\r\nval current_severity =  ctx.getGlobalVar[Int](\"severity\").getOrElse(0)\r\nval low_from_warmup = ctx.getGlobalVar[Boolean](\"low_from_warmup\").getOrElse(false)\r\nval low_threshold_rule = source1.low_threshold_rule.getOrElse(false)\r\nval warmup_rule = source1.warmup_rule.getOrElse(false)\r\n    \r\n if (composited_all_escalation_cond &amp;&amp; SEV_LOW == last_severity &amp;&amp;  current_severity == SEV_LOW) {\r\n    // BEGIN_STAY_LOW_REASON  STAY\r\n    msg = SimpleThresholdMsg.BEGIN_STAY_LOW_REASON\r\n    params=Seq((MsgVars.var_med_threshold, med_threshold), (MsgVars.var_low_threshold, low_threshold))\r\n }else if(composited_all_escalation_cond &amp;&amp; SEV_MED == last_severity &amp;&amp; current_severity == SEV_MED){\r\n   //  last_severity == MED AND max_esc_severity == \"\" AND metric_val &gt; med_threshold AND metric_val &lt;= high_theshold AND all_escalation_cond == FALSE\r\n   //  BEGIN_STAY_MED_REASON    STAY\r\n   msg = SimpleThresholdMsg.BEGIN_STAY_MED_REASON\r\n   params=Seq((MsgVars.var_med_threshold, med_threshold),(MsgVars.var_high_threshold, high_threshold))\r\n } else if(composited_all_escalation_cond &amp;&amp; SEV_HIGH == last_severity &amp;&amp; current_severity == SEV_HIGH ){\r\n   //  BEGIN_STAY_HIGH_REASON   STAY\r\n   msg = SimpleThresholdMsg.BEGIN_STAY_HIGH_REASON\r\n   params=Seq((MsgVars.var_high_threshold, high_threshold))\r\n } else if (composited_all_escalation_cond &amp;&amp; SEV_LOW == last_severity &amp;&amp; current_severity == SEV_MED) {\r\n   //   UPGRADE_TO_MED_REASON  UPGRADE\r\n   msg = SimpleThresholdMsg.UPGRADE_TO_MED_REASON\r\n   action = IncidentActionMsg.UPGRADE\r\n   params = Seq((MsgVars.var_med_threshold, med_threshold), (MsgVars.var_high_threshold, high_threshold))\r\n }else if(SEV_HIGH != last_severity &amp;&amp;  composited_all_escalation_cond &amp;&amp;  current_severity == SEV_HIGH){\r\n   //   UPGRADE_TO_HIGH_REASON  UPGRADE\r\n   msg = SimpleThresholdMsg.UPGRADE_TO_HIGH_REASON\r\n   action = IncidentActionMsg.UPGRADE\r\n   params = Seq((MsgVars.var_high_threshold, high_threshold))\r\n }else if(composited_all_escalation_cond &amp;&amp; SEV_LOW != last_severity &amp;&amp; current_severity == SEV_LOW ){\r\n  //   DOWNGRADE_LOW_REASON    DOWNGRADE\r\n   msg = SimpleThresholdMsg.DOWNGRADE_LOW_REASON\r\n   action = IncidentActionMsg.DOWNGRADE\r\n   params=Seq((MsgVars.var_med_threshold, med_threshold), (MsgVars.var_low_threshold, low_threshold))\r\n }else if(composited_all_escalation_cond &amp;&amp; SEV_HIGH == last_severity  &amp;&amp; current_severity == SEV_MED ){\r\n   //   DOWNGRADE_MED_REASON     DOWNGRADE\r\n   msg = SimpleThresholdMsg.DOWNGRADE_MED_REASON\r\n   action = IncidentActionMsg.DOWNGRADE\r\n   params = Seq((MsgVars.var_med_threshold, med_threshold), (MsgVars.var_high_threshold, high_threshold))\r\n }else if(last_max_esc_severity == 0 &amp;&amp; (escalate_over_low_per_rule || escalate_tot_over_low_per_rule) &amp;&amp;\r\n          !(escalate_over_med_per_rule || escalate_tot_over_med_per_rule )) {\r\n      action = IncidentActionMsg.ESCALATE\r\n      if(escalate_over_low_per_rule)     msg = SimpleThresholdMsg.ESCALATE_TO_MED_REASON_RECENT\r\n      if(escalate_tot_over_low_per_rule) msg += SimpleThresholdMsg.ESCALATE_TO_MED_REASON_ALL_TIME\r\n      params = Seq((MsgVars.var_over_low_periods, over_low_per), (MsgVars.var_max_low_periods, metric_hist_per), \r\n                   (MsgVars.var_tot_over_low_periods,tot_max_low_per))\r\n    }else if(last_max_esc_severity !=SEV_HIGH &amp;&amp; (escalate_over_med_per_rule || escalate_tot_over_med_per_rule ) ){\r\n      // max_esc_severity != \"HIGH\" AND ((over_med_periods &gt;= max_med_periods) OR (tot_over_med_periods &gt;= tot_max_med_periods))\r\n      // ESCALATE_TO_HIGH_REASON  ESCALATE\r\n      action = IncidentActionMsg.ESCALATE\r\n      if (over_med_per &gt;= max_med_per) msg = SimpleThresholdMsg.ESCALATE_TO_HIGH_REASON_RECENT\r\n      if (tot_over_med_per &gt;= tot_max_med_per) msg += SimpleThresholdMsg.ESCALATE_TO_HIGH_REASON_ALL_TIME\r\n      params = Seq((MsgVars.var_over_med_periods, over_med_per), (MsgVars.var_max_med_periods, metric_hist_per), (MsgVars.var_tot_over_med_periods, tot_over_med_per))\r\n    }else if(max_esc_severity == SEV_MED &amp;&amp; ! ((over_med_per &gt;= max_med_per) || (tot_over_med_per &gt;= tot_max_med_per))){\r\n      //  STAY_RESUME_ESCALATE_MED  STAY\r\n      msg = SimpleThresholdMsg.STAY_RESUME_ESCALATE_MED\r\n    }else if(max_esc_severity==SEV_HIGH){\r\n      //   STAY_RESUME_ESCALATE_HIGH  STAY\r\n      msg = SimpleThresholdMsg.STAY_RESUME_ESCALATE_HIGH\r\n    }else if(last_severity==SEV_LOW &amp;&amp; max_esc_severity==0 &amp;&amp;\r\n            !low_threshold_rule &amp;&amp; warmup_rule &amp;&amp; low_from_warmup){\r\n     //  ARTIFICIAL_LOW_REASON  STAY\r\n     msg = SimpleThresholdMsg.ARTIFICIAL_LOW_REASON\r\n     params = Seq((MsgVars.var_low_threshold, low_threshold),\r\n                  (MsgVars.var_warmup_threshold,   ctx.getGlobalVar(\"warmup_threshold\")),\r\n                  (MsgVars.var_max_warmup_periods, ctx.getGlobalVar(\"warmup_per\")))\r\n    }\r\nval reason = IncidentMsgUtils.replaceVars(msg,  params:_*)\r\nctx.setGlobalVar(\"reason\", reason)\r\nctx.setGlobalVar(\"action\", action)\r\n"}]},{"id":"cdbb21cc-ca86-4b4a-861a-4754881a46bc","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"0","type":"int","option":false},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))","type":"string","option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))\n","type":"string","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"active_duration","type":"long","option":true},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm ","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"warmup_threshold":{"text":"warmup_threshold","type":"double","option":true},"warmup_duration":{"text":"warmup_dur","type":"long","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]},{"id":"2cd020df-724d-4bbf-8a38-4989ad0a9e8a","internalID":"38c9961f-9d66-4c11-8c58-2833e868ab92","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"derived_severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"bf305dcf-e485-4f41-8d38-1346793655d9","internalID":"dec5e050-36d6-4d00-8fde-2d8309c8ee7d","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_event_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"fc5fc5cd-2c89-4189-81df-ef629d9d6da1","internalID":"a8d986a9-48fa-4efb-86fd-beed5277ad18","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"low_from_warmup"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"false\r\n","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":" low_from_warmup and source1.low_threshold_rule\r\n","type":"boolean","option":true}}]},{"id":"ff36c082-2eed-4f5b-804f-94a3579c2bf2","internalID":"e6ae6e62-1165-4140-805e-78afd5a2d8c9","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_max_esc_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"max_esc_severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]},"priority":0,"fromState":"Active","toState":"Active","_id":"con_20","labelLoc":0.5},{"srcId":"State","tgtId":"6e195f26-9cd4-473d-8f9a-50655087ec26","label":"Begin Cooldown","event":"","condition":{"text":"!source1.low_threshold_rule and (!low_from_warmup or !source1.warmup_rule) and (cooldown_per &gt;= source1.anomaly_interval)","type":"boolean","option":true},"action":{"statements":[{"id":"f173571f-5ca1-4a57-898d-1a181ffdb8b7","internalID":"3c60c2f1-449a-4e04-8f26-946637f8a94c","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"state"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Cooldown\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"0a5dbb4b-3c49-4430-846c-cb2c607f7ca1","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Update\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"b8ff2fab-e007-4bc0-8ed6-5762b2a90d33","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"0","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"feac7bc3-9cc0-45e7-8d92-942ee285f925","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"-2","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"8d4199b6-d6ed-40e0-8720-b107ff67dd89","internalID":"d415e222-ddcf-4100-83d4-b57ed34c3e1a","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"cooldown_dur"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.anomaly_interval","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"f88bda11-d3e2-4f0f-8587-fd5e9962c3f7","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=&apos;y&apos;","type":"boolean","option":true}}]},{"id":"61183833-df8b-4166-8313-117bb59702d2","internalID":"dad392d8-09d0-44cd-8db0-bfdd326afe0c","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\r\nval low_from_warmup = ctx.getGlobalVar[Boolean](\"low_from_warmup\").get\r\nval warmup_rule  = source1.`warmup_rule`.get\r\nvar msg = SimpleThresholdMsg.BEGIN_STAY_COOLDOWN_REASON_LOW\r\nif (low_from_warmup &amp;&amp; !warmup_rule) {\r\n    msg = SimpleThresholdMsg.BEGIN_STAY_COOLDOWN_REASON_WARMUP\r\n}\r\nval params: Seq[(String, Any)] = Seq((MsgVars.var_warmup_threshold,  ctx.getGlobalVar[Double](\"warmup_threshold\")),\r\n                                     (MsgVars.var_low_threshold, ctx.getGlobalVar(\"threshold_low\")))\r\nval reason = IncidentMsgUtils.replaceVars(msg, params: _*)\r\nctx.setGlobalVar(\"reason\", reason)\r\nctx.setGlobalVar(\"action\", IncidentActionMsg.BEGIN)"}]},{"id":"dd27cd90-ae1a-4d93-882b-0dbaa0423e0f","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"0","type":"int","option":false},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))","type":"string","option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"active_duration","type":"long","option":true},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"warmup_threshold":{"text":"warmup_threshold","type":"double","option":true},"cooldown_duration":{"text":"cooldown_dur","type":"long","option":true},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"warmup_duration":{"text":"warmup_dur","type":"long","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]},{"id":"c3abcb91-1300-4aa3-8954-29c346f51f47","internalID":"bcceb272-4c7b-435e-8a26-ed72efd087f6","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_event_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]},"priority":0,"fromState":"Active","toState":"Cooldown","_id":"con_24","labelLoc":0.4854771784232365},{"srcId":"State","tgtId":"6e7ad0f0-25ba-4cf4-8e6b-8dca6d50fd8f","label":"Skip Cooldown","event":"","condition":{"text":"!source1.low_threshold_rule and (!low_from_warmup or !source1.warmup_rule) and (cooldown_per &lt; source1.anomaly_interval)","type":"boolean","option":true},"action":{"statements":[{"id":"5a6480c2-07cb-448c-8b71-aabb4c7ab0d5","internalID":"21726b5b-a94d-4c4a-88cf-8a4c98a6d2f8","ref":"CancelTimer","desc":"Cancel timer {timer_event} on condition {condition}","bindings":[{"field":"timer_event","type":"timer_event","editorType":"select","value":"Timer"},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"54e476ca-d483-4be7-8727-6bfb1f607d36","internalID":"1a5a5c6e-a6ac-4857-8238-b10de5caa1c1","ref":"CancelTimer","desc":"Cancel timer {timer_event} on condition {condition}","bindings":[{"field":"timer_event","type":"timer_event","editorType":"select","value":" Late_Timer"},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"6229d2d0-8b98-4442-8113-38c945438162","internalID":"b94fd94b-455c-48b4-8241-e1ee8236df2e","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Close\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"028983e7-d83a-4c1a-8142-c5b906fb15a7","internalID":"54fdd64c-a8e2-4c89-87d9-6e31bace13ea","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"cooldown_dur"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"cooldown_dur+source1.anomaly_interval","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"e5b456ee-d2cd-4f01-8978-6897084035fb","internalID":"73600af6-6646-40e8-885f-baf56b3f37ed","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=\"y\"","type":"boolean","option":true}}]},{"id":"fec0462c-adb3-443d-806a-9671f7ba7feb","internalID":"909486e2-8209-4a9b-8c66-cacfa86d55db","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\nval anormally_interval = source1.anomaly_interval\nval cooldown_per = ctx.getGlobalVar[Long](\"cooldown_per\").get\n\nval params: Seq[(String, Any)] = Seq((MsgVars.var_cooldown_period,  cooldown_per), (MsgVars.var_anormally_interval, anormally_interval))\nval reason = IncidentMsgUtils.replaceVars(SimpleThresholdMsg.SKIP_COOLDOWN_REASON, params: _*)\nctx.setGlobalVar(\"reason\", reason)\nctx.setGlobalVar(\"action\",  IncidentActionMsg.INCIDENT_END + IncidentActionMsg.COMPLETE)"}]},{"id":"8099a0e5-6fdb-48ee-8b71-e8e084999ed8","internalID":"99e919b9-a885-4c7d-858b-d88e08499e02","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"algorithm":{"text":"algorithm","type":"string","option":true},"start_tm":{"text":"start_tm","type":"long","option":true},"end_tm":{"text":"last_active_end_tm","type":"long","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"metric_id":{"text":"metric_id","type":"string","option":true},"id":{"text":"incident_id","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"operation":{"text":"operation","type":"string","option":true},"window":{"text":"window","type":"string","option":true},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))\n","type":"string","option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))\n","type":"string","option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"date_key":{"text":"date_key","type":"long","option":true},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true},"warmup_threshold":{"text":"warmup_threshold","type":"double","option":true},"warmup_duration":{"text":"warmup_dur","type":"long","option":true},"cooldown_duration":{"text":"cooldown_dur","type":"long","option":true},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm","type":"long","option":true},"alternate_id":{"text":"","type":null,"option":false},"groupable":{"text":"groupable","type":"string","option":true},"mode":{"text":"mode","type":"string","option":true},"contextual_metric_id":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"metric_baseline":{"text":"","type":null,"option":false},"factor":{"text":"","type":null,"option":false},"metric_deviation":{"text":"","type":null,"option":false},"contextual_metric_start_tm":{"text":"","type":null,"option":false},"contextual_metric_end_tm":{"text":"","type":null,"option":false},"contextual_metric_aggr":{"text":"","type":null,"option":false},"contextual_metric_baseline":{"text":"","type":null,"option":false},"contextual_metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"active_duration":{"text":"active_duration","type":"long","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","option":"false","type":"boolean"}}]}]},"priority":0,"labelLoc":0.42745709828393136,"fromState":"Active","toState":"End","_id":"con_68"},{"srcId":"6e195f26-9cd4-473d-8f9a-50655087ec26","tgtId":"State","label":"Resume Active","event":"","condition":{"text":"source1.low_threshold_rule or (low_from_warmup and source1.warmup_rule)","type":"boolean","option":true},"action":{"statements":[{"id":"268a855c-198d-4a1b-8f1f-344ed7fbfddc","internalID":"fd5e58c3-370f-4369-8a85-08596e083bea","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"state"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Active\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"83b0ab03-b86b-4b9e-863d-eb94c88c61a6","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Update\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"68749640-85b2-4d25-8d11-63c9a4e017bd","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"low_from_warmup"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"false","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"low_from_warmup and source1.low_threshold_rule","type":"boolean","option":true}}]},{"id":"664e8232-5be0-4e34-8fc9-a611ec572a3c","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_active_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"3fc17f83-dbfc-48a8-8ec3-83ce6e08c69d","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=&apos;y&apos;","type":"boolean","option":true}}]},{"id":"96376058-e913-4de2-87a2-03f9cfbfd1f4","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"0","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}}]},{"id":"2456a58f-9a3d-490f-8cc7-b465944fb505","internalID":"8f707f2f-79f4-4cc5-89e7-57de1cea00f9","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"1","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"7613ce5e-2d00-4d9d-8a91-71b8cf35416b","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"max_esc_severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"max_esc_severity&gt;derived_severity","type":"boolean","option":true}}]},{"id":"71d71a52-f2b5-487b-836e-8d7683518997","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"1","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_low) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_low)","type":"boolean","option":true}}]},{"id":"9ca73464-22c3-4a2e-8c44-512c72665a57","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"2","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_med) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_med)","type":"boolean","option":true}}]},{"id":"a0d6667c-4640-4a44-8a47-e7b8b4ccd76c","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"3","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_high) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_high)","type":"boolean","option":true}}]},{"id":"e5aa76bf-ddfb-43aa-8cb3-fd086a9c9626","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"severity&gt;derived_severity","type":"boolean","option":true}}]},{"id":"a95ad973-2a31-4234-8b3d-e612ebc7e7e3","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"derived_severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"derived_severity&gt;max_severity","type":"boolean","option":true}}]},{"id":"46ebd095-b702-4b89-84d7-01febb2ece00","internalID":"fbc122da-d042-4be3-8698-1b327917ba85","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\n//accumulate metric history\nval metric_hist_per = ctx.getGlobalVar[Int](\"metric_hist_per\").getOrElse(0)\nval anomaly_interval = ctx.getGlobalVar[Int](\"anomaly_interval\").get\nval severity = ctx.getGlobalVar[Int](\"severity\").get\nval mv = MetricVal(source1.start_tm, severity)\nvar mvh = ctx.getGlobalVar[MetricValHist](\"mv_hist\").get.list\nmvh = mvh.:+(mv)\nctx.setGlobalVar(\"mv_hist\", MetricValHist(mvh.sortBy(_.tm).reverse.take(metric_hist_per/anomaly_interval)))\n//println(\"+=+=Resume Active[\"+ctx.getGlobalVar[String](\"incident_id\").get+\"] hist size[\"+(+ctx.getGlobalVar[MetricValHist](\"mv_hist\").get.list.size)+\"]\")\n//println(\"+=+=Resume Active icndeint_id[\"+ctx.getGlobalVar[String](\"incident_id\").get+\"] low_threshold_rule[\"+source1.low_threshold_rule+\"] warmup_rule[\"+source1.warmup_rule+\"] low_from_warup[\"+ctx.getGlobalVar[Boolean](\"low_from_warmup\").get+\"]\")\n\n    val SEV_LOW = 1\n    val SEV_MED = 2\n    val SEV_HIGH = 3\n    val tot_over_low_per = ctx.getGlobalVar[Int](\"tot_over_low_per\").getOrElse(0)\n    val tot_over_med_per = ctx.getGlobalVar[Int](\"tot_over_med_per\").getOrElse(0)\n    val tot_max_low_per = ctx.getGlobalVar[Int](\"tot_max_low_per\").getOrElse(Int.MaxValue)\n    val tot_max_med_per = ctx.getGlobalVar[Int](\"tot_max_med_per\").getOrElse(Int.MaxValue)\n    val max_low_per = ctx.getGlobalVar[Int](\"max_low_per\").getOrElse(0)\n    val max_med_per = ctx.getGlobalVar[Int](\"max_med_per\").getOrElse(0)\n\n    val over_low_per = mvh.filter(_.severity == 1).size * anomaly_interval\n    val over_med_per = mvh.filter(_.severity == 2).size * anomaly_interval\n    val mv_hist = ctx.getGlobalVar[MetricValHist](\"mv_hist\").get.list\n    var last_max_esc_severity = ctx.getGlobalVar[Int](\"last_max_esc_severity\").getOrElse(0)\n    var max_esc_severity = ctx.getGlobalVar[Int](\"max_esc_severity\").getOrElse(0)\n    if ((over_low_per &gt;= max_low_per &amp;&amp; max_esc_severity != 3)||(tot_over_low_per &gt;= tot_max_low_per))\n      max_esc_severity = 2\n    if (over_med_per &gt;= max_med_per||tot_over_med_per&gt;=tot_max_med_per)\n      max_esc_severity = 3\n      \n    val low_threshold = ctx.getGlobalVar[Double](\"threshold_low\")\n    val med_threshold = ctx.getGlobalVar[Double](\"threshold_med\")\n    val high_threshold = ctx.getGlobalVar[Double](\"threshold_high\")\n    val warmup_threshold = ctx.getGlobalVar(\"warmup_threshold\")\n    val warmup_per = ctx.getGlobalVar[Long](\"warmup_per\")\n    var params:Seq[(String, Any)]=Seq(\n      (MsgVars.var_over_low_periods, over_low_per), (MsgVars.var_max_low_periods, metric_hist_per), (MsgVars.var_tot_over_low_periods, tot_over_low_per),\n      (MsgVars.var_over_med_periods, over_med_per), (MsgVars.var_max_med_periods, metric_hist_per), (MsgVars.var_tot_over_med_periods, tot_over_med_per),\n      (MsgVars.var_low_threshold, low_threshold), (MsgVars.var_med_threshold, med_threshold), (MsgVars.var_high_threshold, high_threshold),\n      (MsgVars.var_warmup_threshold, warmup_threshold), (MsgVars.var_max_warmup_periods, warmup_per))\n      \n    val escalate_over_low_per_rule     = over_low_per     &gt;= max_low_per\n    val escalate_tot_over_low_per_rule = tot_over_low_per &gt;= tot_max_low_per\n    val escalate_over_med_per_rule     = over_med_per     &gt;= max_med_per\n    val escalate_tot_over_med_per_rule = tot_over_med_per &gt;= tot_max_med_per\n\n    val all_escalation_cond =  escalate_over_low_per_rule || escalate_tot_over_low_per_rule ||\n                               escalate_over_med_per_rule || escalate_tot_over_med_per_rule       \n    val composited_all_escalation_cond = max_esc_severity==0 &amp;&amp; !all_escalation_cond\n\n\n    val low_threshold_rule = source1.low_threshold_rule.getOrElse(false)\n    val warmup_rule        = source1.warmup_rule.getOrElse(false)\n\n    val ABORT_COOLDOWN_REASON = if (low_threshold_rule) {\n        SimpleThresholdMsg.ABORT_COOLDOWN_REASON_LOW\n    } else {\n        SimpleThresholdMsg.ABORT_COOLDOWN_REASON_WARMUP\n    }\n\n    var action= IncidentActionMsg.ABORT_AND_RESUME\n    var msg = ABORT_COOLDOWN_REASON\n\n    if (last_max_esc_severity == SEV_MED) {\n      //ABORT_COOLDOWN_REASON + STAY_RESUME_ESCALATE_MED  ABORT_AND_RESUME\n       msg += SimpleThresholdMsg.STAY_RESUME_ESCALATE_MED\n    } else if (last_max_esc_severity == SEV_HIGH) {\n      //ABORT_COOLDOWN_REASON + STAY_RESUME_ESCALATE_HIGH  ABORT_AND_RESUME\n       msg += SimpleThresholdMsg.STAY_RESUME_ESCALATE_HIGH\n    } else if (composited_all_escalation_cond &amp;&amp; !low_threshold_rule &amp;&amp; warmup_rule) {\n      //ABORT_COOLDOWN_REASON + ARTIFICIAL_LOW_REASON      //ABORT_AND_RESUME\n      msg += SimpleThresholdMsg.ARTIFICIAL_LOW_REASON\n    }else if (composited_all_escalation_cond &amp;&amp; severity == SEV_LOW ) {\n      //ABORT_COOLDOWN_REASON + BEGIN_STAY_LOW_REASON    //ABORT_AND_RESUME\n       msg += SimpleThresholdMsg.BEGIN_STAY_LOW_REASON\n    } else if (composited_all_escalation_cond &amp;&amp; severity == SEV_MED ) {\n      //ABORT_COOLDOWN_REASON + BEGIN_STAY_MED_REASON    //ABORT_AND_RESUME\n       msg += SimpleThresholdMsg.BEGIN_STAY_MED_REASON\n    }else if (composited_all_escalation_cond &amp;&amp; severity == SEV_HIGH ) {\n      //ABORT_COOLDOWN_REASON + BEGIN_STAY_HIGH_REASON    //ABORT_AND_RESUME\n       msg += SimpleThresholdMsg.BEGIN_STAY_HIGH_REASON\n    }else if(last_max_esc_severity==0 &amp;&amp; (escalate_over_low_per_rule || escalate_tot_over_low_per_rule) &amp;&amp;\n                                        !(escalate_over_med_per_rule || escalate_tot_over_med_per_rule)){\n        //ABORT_COOLDOWN_REASON + ESCALATE_TO_MED_REASON    //ABORT_AND_ESCALATE\n        var ESCALATE_TO_MED_REASON = \"\"\n        if(escalate_over_low_per_rule){\n          ESCALATE_TO_MED_REASON = SimpleThresholdMsg.ESCALATE_TO_MED_REASON_RECENT\n        }\n        if(escalate_tot_over_low_per_rule){\n          ESCALATE_TO_MED_REASON += SimpleThresholdMsg.ESCALATE_TO_MED_REASON_ALL_TIME\n        }\n        msg += ESCALATE_TO_MED_REASON\n        action = IncidentActionMsg.ABORT_AND_ESCALATE\n    }else if(last_max_esc_severity != SEV_HIGH &amp;&amp; (escalate_over_med_per_rule || escalate_tot_over_med_per_rule)){\n       //ABORT_COOLDOWN_REASON + ESCALATE_TO_HIGH_REASON    //ABORT_AND_ESCALATE\n        var ESCALATE_TO_HIGH_REASON =\"\"\n        if(escalate_over_med_per_rule) {\n          ESCALATE_TO_HIGH_REASON += SimpleThresholdMsg.ESCALATE_TO_HIGH_REASON_RECENT\n        }\n        if(escalate_tot_over_med_per_rule) {\n          ESCALATE_TO_HIGH_REASON += SimpleThresholdMsg.ESCALATE_TO_HIGH_REASON_ALL_TIME\n        }\n        msg += ESCALATE_TO_HIGH_REASON\n        action = IncidentActionMsg.ABORT_AND_ESCALATE\n    }\n\n    val reason = IncidentMsgUtils.replaceVars(msg,  params:_*)\n    ctx.setGlobalVar(\"reason\", reason)\n    ctx.setGlobalVar(\"action\", action)\n    ctx.setGlobalVar(\"last_max_esc_severity\", max_esc_severity)"}]},{"id":"affaa3b7-145d-4096-8c08-c3ef6b58588b","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"active_duration"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"active_duration+source1.anomaly_interval","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"severity != 0","type":"boolean","option":true}}]},{"id":"26904a84-7dfa-4256-8aca-08aec1a2cdee","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"0","type":"int","option":false},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))\n","type":"string","option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))\n","type":"string","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"active_duration","type":"long","option":true},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"warmup_threshold":{"text":"warmup_threshold","type":"double","option":true},"warmup_duration":{"text":"warmup_dur","type":"long","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]},{"id":"411b5ab0-870a-4530-80b6-d68d00fbb60e","internalID":"2b45f356-2bef-4800-8ace-9d34b7fb4090","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"derived_severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"ef4d2402-7e17-4129-8161-0614a1b86be7","internalID":"090aba49-5800-4fce-8bca-cc914cec6ad7","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_event_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]},"priority":0,"fromState":"Cooldown","toState":"Active","_id":"con_36","labelLoc":0.4024896265560166},{"srcId":"6e195f26-9cd4-473d-8f9a-50655087ec26","tgtId":"6e7ad0f0-25ba-4cf4-8e6b-8dca6d50fd8f","label":"Close Incident (Cooldown)","event":"","condition":{"text":"(!source1.low_threshold_rule and (!low_from_warmup or !source1.warmup_rule)) and (cooldown_dur + source1.anomaly_interval) &gt;= cooldown_per","type":"boolean","option":true},"action":{"statements":[{"id":"a85847ca-5ceb-4c56-8d38-bb2f81343342","internalID":"0ae4dbef-e75b-48dd-820e-f24f5d563d93","ref":"CancelTimer","desc":"Cancel timer {timer_event} on condition {condition}","bindings":[{"field":"timer_event","type":"timer_event","editorType":"select","value":"Timer"},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"f3a45f6f-2f63-4247-84e9-e49db93e9667","internalID":"04cca06c-0dee-45e6-882f-28edc594a1b0","ref":"CancelTimer","desc":"Cancel timer {timer_event} on condition {condition}","bindings":[{"field":"timer_event","type":"timer_event","editorType":"select","value":" Late_Timer"},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"85edfbf4-202d-4e86-80bb-bf39bd449e7e","internalID":"79606b96-500f-43ea-8ac4-6d37504e82b2","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Close\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"c40a7506-7c0b-44c7-8d6f-6b6363d774f5","internalID":"5a20fcf6-2ec7-420e-8b13-520b428c477e","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"cooldown_dur"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"cooldown_dur+source1.anomaly_interval","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"319d3760-0916-4588-8735-09b83b9e9e2b","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=&apos;y&apos;","type":"boolean","option":true}}]},{"id":"f20af791-7c7a-4b51-847b-08742924a9c2","internalID":"5867038a-e2ab-4f27-8faa-298a8e0d6426","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val cooldown_per = ctx.getGlobalVar[Double](\"cooldown_per\")\r\nval params: Seq[(String, Any)] = Seq((MsgVars.var_max_cooldown_time, cooldown_per))\r\nval reason = IncidentMsgUtils.replaceVars(SimpleThresholdMsg.COMPLETE_COOLDOWN_REASON, params: _*)\r\nctx.setGlobalVar(\"reason\", reason)\r\nctx.setGlobalVar(\"action\",  IncidentActionMsg.INCIDENT_END + IncidentActionMsg.COMPLETE)\r\n"}]},{"id":"c84f5983-f812-497a-8f52-b317bd98ea5a","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"last_active_end_tm","type":"long","option":true},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))\n","type":"string","option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))\n","type":"string","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"active_duration","type":"long","option":true},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"cooldown_duration":{"text":"cooldown_dur","type":"long","option":true},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"warmup_threshold":{"text":"warmup_threshold","type":"double","option":true},"warmup_duration":{"text":"warmup_dur","type":"long","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]}]},"priority":0,"fromState":"Cooldown","toState":"End","_id":"con_46","labelLoc":0.4185185185185185},{"srcId":"6e195f26-9cd4-473d-8f9a-50655087ec26","tgtId":"6e195f26-9cd4-473d-8f9a-50655087ec26","label":"Continue Cooldown","event":"","condition":{"text":"(!source1.low_threshold_rule and (!low_from_warmup or !source1.warmup_rule)) and (cooldown_dur+source1.anomaly_interval) &lt; cooldown_per","type":"boolean","option":true},"action":{"statements":[{"id":"fd64cec3-9199-42bd-8f30-896effadd5fa","internalID":"5a20fcf6-2ec7-420e-8b13-520b428c477e","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"cooldown_dur"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"cooldown_dur+source1.anomaly_interval","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9cdd8bf0-9fc8-4f6a-8986-98b19eba8c12","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=&apos;y&apos;","type":"boolean","option":true}}]},{"id":"bcccb4df-2210-4b0e-8991-b84e210ec975","internalID":"abe78466-38f0-4564-863d-c9caa3014bdb","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\r\nval low_from_warmup = ctx.getGlobalVar[Boolean](\"low_from_warmup\").get\r\nval warmup_rule  = source1.`warmup_rule`.get\r\nvar msg = SimpleThresholdMsg.BEGIN_STAY_COOLDOWN_REASON_LOW\r\nif (low_from_warmup &amp;&amp; !warmup_rule) {\r\n    msg = SimpleThresholdMsg.BEGIN_STAY_COOLDOWN_REASON_WARMUP\r\n}\r\nval params: Seq[(String, Any)] = Seq((MsgVars.var_warmup_threshold,  ctx.getGlobalVar[Double](\"warmup_threshold\")),\r\n                                     (MsgVars.var_low_threshold, ctx.getGlobalVar(\"threshold_low\")))\r\nval reason = IncidentMsgUtils.replaceVars(msg, params: _*)\r\nctx.setGlobalVar(\"reason\", reason)\r\nctx.setGlobalVar(\"action\", IncidentActionMsg.CONTINUE)"}]},{"id":"d59fa913-54aa-4da2-8665-c345f0a6d846","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"0","type":"int","option":false},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))\n","type":"string","option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))\n","type":"string","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"active_duration","type":"long","option":true},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"cooldown_duration":{"text":"cooldown_dur","type":"long","option":true},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"warmup_threshold":{"text":"warmup_threshold","type":"double","option":true},"warmup_duration":{"text":"warmup_dur","type":"long","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]},{"id":"540f6403-9008-43fe-8ad6-b8d6b9b74486","internalID":"a71255f7-2d08-45f3-8334-68da63c9146b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_event_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]},"priority":0,"fromState":"Cooldown","toState":"Cooldown","_id":"con_63","labelLoc":0.44},{"_id":"tran_1","label":"New Incident","fromState":"Start","toState":"Active","event":"","condition":{"text":"source1.low_threshold_rule","type":"boolean","option":true},"action":{"statements":[{"id":"cf7f591c-930d-4d64-830e-444122a5dbe6","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Create\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"3095308e-4ad3-4bc6-8192-f4859a1518ca","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"state"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Active\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"3040bb5d-df96-44f5-8232-e1ace529f724","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_id"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_id","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"b1915519-c17a-4cb0-84df-13cfe94e2407","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"algorithm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.algorithm","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"181668a4-e4e3-4fb5-8d4f-be426f1684f9","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"cooldown_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.cool_down_period","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9d943265-ef33-4c52-8a6f-5c9916d52c8f","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"anomaly_interval"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.anomaly_interval","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"130b6ad1-62e1-4d25-8546-ce36c08cc556","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"emit_notification"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.emit_notification","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"bff269b5-1c63-4d36-8169-5e267d8b0cce","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"threshold_policy"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.threshold_policy","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"40a3864f-3c6b-4d38-8172-17e96d6802cf","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"window"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.window","type":null,"option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"bc405565-b0c2-4114-8e1b-6c88a4b40a62","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"start_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"876a7316-565b-49d4-84d8-dde95a76b631","internalID":"ce7da8cf-c1e0-4044-8a88-e8196c07aa8a","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"date_key"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.date_key","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"040a9691-3263-4bb5-8891-d14e4bb47e60","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"threshold_low"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.threshold_low","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"464a0f16-160c-4f5d-8d76-254d685be021","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"threshold_med"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.threshold_med","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"78faa4c0-ab9e-4292-8285-a0453da413e2","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"threshold_high"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.threshold_high","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"d20acb0a-1c81-42af-8291-bbc28d74efa1","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_hist_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_history_per","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"b7109c3d-b6ae-4c90-839e-0162e3e86101","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_low_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.max_low_per","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"d74800ac-e93e-4548-8b2e-d63089f8d6bf","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_med_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.max_med_per","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"c75f0fe4-cabf-4a79-8458-d7601646070b","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"tot_max_low_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.tot_max_low_per","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9740096d-3041-44a4-8c29-a67ae9f80ca7","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"tot_max_med_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.tot_max_med_per","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"cb34813d-ef47-4c84-85c2-919e5868e41e","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"dim_keys"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.dim_keys","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"b275a253-ea67-461a-8f98-7bef583c61f8","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"dim_pattern"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.dim_pattern","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"2cd9d3fb-37b3-4ecb-8734-7ecb83c7af5c","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"config_metric_id"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.config_metric_id","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"6fdeb58c-5d11-479d-8895-0d277b2df472","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_active_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"76fdcea5-aad0-4fb8-83c3-556806506053","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"service_name"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.service_name","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"741e998c-b594-4259-8b64-af16efa15a5e","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"sub_service_name"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.sub_service_name","type":null,"option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"4ba21974-e23f-4b3a-8967-1fa915df4771","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_time"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.correlation_time","type":null,"option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"47ecd4cf-890e-44a0-8a20-133c4c485fa4","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"groupable"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.groupable","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"c35c8c6d-2088-4969-8620-4cbdb7eaf999","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=&apos;y&apos;","type":"boolean","option":true}}]},{"id":"1154eafa-eabc-4d29-8d0b-ee29f900ca30","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"low_from_warmup"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"false","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}}]},{"id":"d3a8e85c-08f8-4de0-8904-8dcb00018e24","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"0","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}}]},{"id":"009d6aec-ec55-400b-838a-08d8b00c4cc5","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"1","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"6f0d06f2-21b2-469c-8b16-b83e5d19b1fc","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"1","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_low) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_low)","type":"boolean","option":true}}]},{"id":"4f4788e6-f678-48d4-8318-180b4a0523e3","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"2","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_med) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_med)","type":"boolean","option":true}}]},{"id":"b0244b1f-94e8-4d5b-866a-75af5009e3f0","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"3","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_high) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_high)","type":"boolean","option":true}}]},{"id":"c0a2b905-77ff-463a-849a-9038aac8b6be","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"severity","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"severity &gt; derived_severity","type":"boolean","option":true}}]},{"id":"8b8fac46-81cb-44db-82e0-1503e3d5e9c2","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"derived_severity","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}}]},{"id":"876e86df-7b4b-48a9-82af-46bb595efd53","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_esc_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"0","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"21f0b3e1-4072-4bd4-885f-0453bb393d66","internalID":"57f23749-dddd-4c62-8379-40b25ed690a0","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"mode"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.mode","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9582e0f8-0993-4d41-88d7-f9a27ef8f30b","internalID":"c62c0833-c118-414e-8270-77dd9758aca0","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_id"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_id","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"0f8c2ef3-ee2d-4e93-8551-877e1cdc4261","internalID":"fbc122da-d042-4be3-8698-1b327917ba85","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\nvar rv = (new java.util.Random()).nextInt(90000000)\nwhile (rv == 0) rv = (new java.util.Random()).nextInt(90000000)\nval rid = Math.abs(System.nanoTime % rv)\nval sdf = new java.text.SimpleDateFormat(\"yyyyMMddHHmm\")\nval dthm = sdf.format(new java.util.Date())\n//    val id = s\"\"\"${dv_lastToken}:${source1.sub_service}:${source1.anomaly_window}#${System.currentTimeMillis() / 1000 % 86400}\"\"\"\n//val id = s\"\"\"${dv_lastToken}:${dv_tokens(1)}:${source1.window}#${rid}\"\"\"\nval id = s\"\"\"${dthm}#${rid}\"\"\"\nctx.setGlobalVar(\"incident_id\", id)\n//Extract dimensions values\nval tokens = source1.metric_id.split(\"\\\\|\")\nval dvalue=if(tokens.size&gt;4) tokens.drop(4).mkString(\"[\\\"\",\"\\\",\\\"\",\"\\\"]\") else \"[]\"\nctx.setGlobalVar(\"dim_values\",Some(dvalue))\n\n//set Timer\nval expiredDuration = source1.expire_after\nval expiredTime = expiredDuration.getOrElse(86400L) + System.currentTimeMillis()/1000L\nctx.resetTimer(\"Timer\", ExpirationTimerSpec(expiredDuration.getOrElse(86400L),1))\nctx.setGlobalVar(\"expire_tm\",Some(expiredTime))\n\n//initialize metric history\nval severity = ctx.getGlobalVar[Int](\"severity\").get\nval mv = MetricVal(source1.start_tm, severity)\nval mvh = MetricValHist(Seq(mv))\nctx.setGlobalVar(\"mv_hist\", mvh)\n\n// for logging\nctx.setGlobalVar(\"expire_tm_duration\",expiredDuration.getOrElse(86400L))\nctx.setGlobalVar(\"late_tm_duration\", if(source1.late_data_timer&gt;0) source1.late_data_timer else 86400L)\nval SEV_LOW = 1\nval SEV_MED = 2\nval SEV_HIGH = 3\nval msg = if (severity == SEV_HIGH) SimpleThresholdMsg.BEGIN_STAY_HIGH_REASON\nelse if (severity == SEV_MED) SimpleThresholdMsg.BEGIN_STAY_MED_REASON\nelse SimpleThresholdMsg.BEGIN_STAY_LOW_REASON\nval reason = IncidentMsgUtils.replaceVars(msg,\n            (MsgVars.var_low_threshold, source1.threshold_low),\n            (MsgVars.var_med_threshold, source1.threshold_med),\n            (MsgVars.var_high_threshold, source1.threshold_high))\nctx.setGlobalVar(\"reason\", reason)\nval action = IncidentActionMsg.INCIDENT_START + IncidentActionMsg.BEGIN_AT\nctx.setGlobalVar(\"action\", action)\n"}]},{"id":"74ea92aa-4f01-479a-8f79-8e69c464fb08","internalID":"f8d3ec67-03f2-487e-8d69-090c1a67f6c9","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"active_duration"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm - source1.start_tm","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"347de343-d6f1-4bd7-81c6-5f9e2b8a559d","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"0","type":"int","option":false},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"active_duration","type":"long","option":true},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))","type":"string","option":false},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"warmup_threshold":{"text":"","type":null,"option":false},"warmup_duration":{"text":"","type":null,"option":false},"cooldown_duration":{"text":"","type":null,"option":false},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]},{"id":"d425222b-4bbe-41c0-8749-ae3147768d17","internalID":"c2acde05-ba3e-407f-890f-21c3482906d6","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"derived_severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"708865d7-f525-4190-8937-b6bceac66adf","internalID":"a068ae25-468e-4ba4-89a0-99a1e01457cf","ref":"CancelTimer","desc":"Cancel timer {timer_event} on condition {condition}","bindings":[{"field":"timer_event","type":"timer_event","editorType":"select","value":" Late_Timer"},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"source1.late_data_timer&lt;=0","type":"boolean","option":true}}]},{"id":"e23631a5-9e9a-4bfa-8de2-e5490e5363be","internalID":"d467ebf5-61a8-4801-86d3-e072452e7e8c","ref":"ResetTimer","desc":"Reset timer {timer_event} with timer specification {timer_spec} on condition {condition}","bindings":[{"field":"timer_event","type":"timer_event","editorType":"select","value":" Late_Timer"},{"field":"timer_spec","type":"timer_spec","editorType":"sle","literalValue":"$.text","value":{"text":"IdleTimerSpec(to_nonoption(source1.late_data_timer), 1)","type":"com.vitria.spark.sm.TimerSpec","option":false}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"source1.late_data_timer&gt;0","type":"boolean","option":true}}]},{"id":"edc59bd4-77c5-45ea-8fad-a68f02052dc1","internalID":"4b631a0b-6a20-46b8-88a0-7e46a20b4a07","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_event_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}}]},{"id":"2848a485-af84-439e-8194-262b621ceb4d","internalID":"34480b36-9a82-43c6-8b54-56c1fdd3d87c","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"late_tm_duration"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.late_data_timer","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.late_data_timer &gt; 0","type":"boolean","option":true}}]}]},"priority":0,"srcId":"Start","tgtId":"State","labelLoc":0.3523809523809524},{"srcId":"Start","tgtId":"d41c3e3e-316e-4f7b-8f39-1ed60ecb4e28","label":"Pre-Incident","event":"","condition":{"text":"!source1.low_threshold_rule and source1.warmup_rule","type":"boolean","option":true},"action":{"statements":[{"id":"42b263b5-c557-4b0a-867c-a28c677ba0e5","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Warmup\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"0665e75a-1d17-4221-84f2-5ed1752e6ce7","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"state"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Warmup\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"f8c58367-1677-4af7-889f-8c42c382e1bc","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_id"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_id","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"baa81f82-12f8-47df-875e-f1d27251d79a","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"algorithm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.algorithm","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"636549ee-5522-4ec1-85bf-81f6734bca19","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"anomaly_interval"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.anomaly_interval","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"d2b589ac-bb10-4681-8c78-8a9e7d5234c6","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"emit_notification"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.emit_notification","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"ae47b4b9-49e4-4d66-85e4-fa9589b4833b","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"threshold_policy"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.threshold_policy","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"cb9eaa2b-3dcc-44dc-8657-f0a667740c5e","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"window"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.window","type":null,"option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"6dc5a497-ebe5-4de9-8bcb-1d7e25754331","internalID":"ce7da8cf-c1e0-4044-8a88-e8196c07aa8a","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"date_key"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.date_key","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"5671a19e-0695-43af-802b-cbe4c208ce47","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"threshold_low"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.threshold_low","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"eec6322e-10d1-48c6-8b06-d2fe3e8b8f9c","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"threshold_med"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.threshold_med","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"f28f082f-e337-4815-86f4-94e4276b6f32","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"threshold_high"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.threshold_high","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"816e6bfe-d5d1-4756-867d-15f79c8a7370","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"warmup_threshold"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.warmup_threshold","type":"double","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"8af57440-98a2-449e-8f2f-7db9e6cef57f","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"metric_hist_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.metric_history_per","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9104aed3-eb11-4a9f-89b6-b96fbf2898ba","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_low_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.max_low_per","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9d3fd016-7e14-4c9a-8818-f009cebe31f0","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_med_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.max_med_per","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"37df2658-613e-45e3-85fb-cd638432b77f","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"tot_max_low_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.tot_max_low_per","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"be6119ee-f9c3-41b5-8280-57e4d50bb2ee","internalID":"28855f07-7a24-4c01-8c84-eff3253a2959","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"tot_max_med_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.tot_max_med_per","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"8a8f8c36-ea4b-4b6e-88de-6fa1a808e05a","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"0","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"d46b8d16-c029-488b-8f47-4ca0d6df567c","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"-1","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"e89d64c8-54e0-4a98-8066-54e260c27f0a","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"-1","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"1644f0e8-c47f-48ba-822c-167ca38f1618","internalID":"a08846a6-30c7-4851-8262-eaa24916929c","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"warmup_dur"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm - source1.start_tm","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"40b11b75-9c82-4fee-8869-cd150446513d","internalID":"a08846a6-30c7-4851-8262-eaa24916929c","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"warmup_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.warmup_period","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"233dab55-c303-42c8-864a-b6a1ea4222bb","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"dim_keys"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.dim_keys","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"a7628bda-f7f4-414c-86cf-ccf8db09b860","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"dim_pattern"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.dim_pattern","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"f049e877-c2f5-431e-8622-0f03e05e17e6","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"config_metric_id"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.config_metric_id","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"86fb2aaa-032f-4da0-802a-96f91cda4f59","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"service_name"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.service_name","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"48fa2f0d-0091-4e2a-80ff-df8218f32240","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"sub_service_name"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.sub_service_name","type":null,"option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"52ab104f-0c89-4553-84d7-ed0092af9a45","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_time"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.correlation_time","type":null,"option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9c6db837-2f78-4f0f-8880-091610bc602e","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"groupable"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.groupable","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"eec967dd-06a1-46fa-8772-029db5fd3ac4","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=&apos;y&apos;","type":"boolean","option":true}}]},{"id":"2465a1a6-6a10-4b0f-8336-6e38a22da5b6","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"low_from_warmup"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"false","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}}]},{"id":"be8ed6a9-c72d-4365-8427-320020d6dfb1","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_esc_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"0","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9815fdb4-7e81-4be1-8bff-13fa9e1243f6","internalID":"c2143e02-6f55-43a8-8af9-5f4f901aa1eb","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"mode"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.mode","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"dc652c14-0be7-49c3-87fb-fea30d98287f","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"cooldown_per"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.cool_down_period","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"7ed2311f-073f-498c-8800-fddd2c31c5e1","internalID":"2f33c177-f3bf-4d7c-82be-a279527e4fc0","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"contextual_metric_id"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.contextual_metric_id","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"ef48aff6-089d-467d-8768-137c5f651f6d","internalID":"fbc122da-d042-4be3-8698-1b327917ba85","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\nvar rv = (new java.util.Random()).nextInt(90000000)\nwhile (rv == 0) rv = (new java.util.Random()).nextInt(90000000)\nval rid = Math.abs(System.nanoTime % rv)\nval sdf = new java.text.SimpleDateFormat(\"yyyyMMddHHmm\")\nval dthm = sdf.format(new java.util.Date())\n//    val id = s\"\"\"${dv_lastToken}:${source1.sub_service}:${source1.anomaly_window}#${System.currentTimeMillis() / 1000 % 86400}\"\"\"\n//val id = s\"\"\"${dv_lastToken}:${dv_tokens(1)}:${source1.window}#${rid}\"\"\"\nval id = s\"\"\"${dthm}#${rid}\"\"\"\nctx.setGlobalVar(\"incident_id\", id)\n\n//Extract dimensions values\nval tokens = source1.metric_id.split(\"\\\\|\")\nval dvalue=if(tokens.size&gt;4) tokens.drop(4).mkString(\"[\\\"\",\"\\\",\\\"\",\"\\\"]\") else \"[]\"\nctx.setGlobalVar(\"dim_values\",Some(dvalue))\n\n\nctx.setGlobalVar(\"dim_values\",Some(dvalue))\n\n//set Timer\nval expiredDuration = source1.expire_after\nval expiredTime = expiredDuration.getOrElse(86400L) + System.currentTimeMillis()/1000L\nctx.resetTimer(\"Timer\", ExpirationTimerSpec(expiredDuration.getOrElse(86400L),1))\nctx.setGlobalVar(\"expire_tm\",Some(expiredTime))\n\n//initialize metric history\n// val severity = ctx.getGlobalVar[Int](\"severity\").get\n// val mv = MetricVal(source1.start_tm, severity)\n// val mvh = MetricValHist(Seq(mv))\n// ctx.setGlobalVar(\"mv_hist\", mvh)\n\n// for logging \nctx.setGlobalVar(\"expire_tm_duration\",expiredDuration.getOrElse(86400L))\nctx.setGlobalVar(\"late_tm_duration\", if(source1.late_data_timer&gt;0) source1.late_data_timer else 86400L)\nval reason = IncidentMsgUtils.replaceVars(SimpleThresholdMsg.BEGIN_WARMUP_REASON,\n   (MsgVars.var_warmup_threshold, source1.warmup_threshold),\n   (MsgVars.var_low_threshold, source1.threshold_low))\nctx.setGlobalVar(\"reason\", reason)\nval action = IncidentActionMsg.BEGIN\nctx.setGlobalVar(\"action\", action)\n    "}]},{"id":"7ab1b1dd-e99c-480c-8a36-f044a2494a7c","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"0","type":"int","option":false},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"","type":null,"option":false},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))","type":"string","option":false},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"warmup_threshold":{"text":"warmup_threshold","type":"double","option":true},"warmup_duration":{"text":"warmup_dur","type":"long","option":true},"cooldown_duration":{"text":"","type":null,"option":false},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]},{"id":"f889fe58-e353-4db1-87ea-e9138e8e9475","internalID":"82a6bb4f-b946-4c0c-8138-c0c2e2b6b298","ref":"CancelTimer","desc":"Cancel timer {timer_event} on condition {condition}","bindings":[{"field":"timer_event","type":"timer_event","editorType":"select","value":" Late_Timer"},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"source1.late_data_timer&lt;=0","type":"boolean","option":true}}]},{"id":"b25bd83d-ff51-44bd-8be9-e9f4ccd75fc9","internalID":"9b102b05-2803-409d-8aa7-fe9992fe3741","ref":"ResetTimer","desc":"Reset timer {timer_event} with timer specification {timer_spec} on condition {condition}","bindings":[{"field":"timer_event","type":"timer_event","editorType":"select","value":" Late_Timer"},{"field":"timer_spec","type":"timer_spec","editorType":"sle","literalValue":"$.text","value":{"text":"IdleTimerSpec(to_nonoption( source1.late_data_timer), 1)","type":"com.vitria.spark.sm.TimerSpec","option":false}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"source1.late_data_timer&gt;0","type":"boolean","option":true}}]},{"id":"20e806b2-a4e4-465e-8a91-8b60d58506ba","internalID":"18735c10-ae02-4af1-8d38-54777622c0d8","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_event_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}}]},{"id":"f0b81898-abac-4cb4-8686-6848f3a142cb","internalID":"b086fdf0-4302-4dc3-88aa-cfa963f45787","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"late_tm_duration"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.late_data_timer","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"source1.late_data_timer &gt; 0","type":"boolean","option":true}}]}]},"priority":0,"fromState":"Start","toState":"Warmup","_id":"con_51","labelLoc":0.41414141414141414},{"srcId":"d41c3e3e-316e-4f7b-8f39-1ed60ecb4e28","tgtId":"d41c3e3e-316e-4f7b-8f39-1ed60ecb4e28","label":"Continue Warmup","event":"","condition":{"text":"!source1.low_threshold_rule and source1.warmup_rule and (warmup_dur + anomaly_interval) &lt; warmup_per","type":"boolean","option":true},"action":{"statements":[{"id":"8617425f-c202-4a63-89c9-a82e8cbd607a","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Warmup\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"a9d29422-51f7-4385-8b4d-5b1674fa36aa","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"state"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Warmup\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"06933df8-5f58-46dc-8e43-26894e03144d","internalID":"a08846a6-30c7-4851-8262-eaa24916929c","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"warmup_dur"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"warmup_dur+source1.anomaly_interval","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"0dba8ee0-d129-4f33-8262-87d9c41ef661","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=&apos;y&apos;","type":"boolean","option":true}}]},{"id":"467dfbac-40d9-40a0-8244-39a9b75ede4b","internalID":"9007b1ea-4545-4ac4-8d93-d911506e1091","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\r\nval reason = IncidentMsgUtils.replaceVars(SimpleThresholdMsg.STAY_WARMUP_REASON,\r\n             (MsgVars.var_low_threshold, source1.threshold_low),\r\n             (MsgVars.var_warmup_threshold, source1.warmup_threshold),\r\n             (MsgVars.var_max_warmup_periods, ctx.getGlobalVar(\"warmup_per\")))\r\nctx.setGlobalVar(\"reason\", reason)\r\nctx.setGlobalVar(\"action\", IncidentActionMsg.CONTINUE)"}]},{"id":"1bd91510-5e63-455a-87c5-e217406c6cd2","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"0","type":"int","option":false},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"","type":null,"option":false},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))","type":"string","option":false},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"warmup_threshold":{"text":"warmup_threshold","type":"double","option":true},"warmup_duration":{"text":"warmup_dur","type":"long","option":true},"cooldown_duration":{"text":"","type":null,"option":false},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]},{"id":"d3b7781b-680b-4d6c-86f7-402076da00dd","internalID":"01f772a1-1d25-4ec0-8144-017a9205b8bb","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_event_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]},"priority":0,"fromState":"Warmup","toState":"Warmup","_id":"con_55","labelLoc":0.46},{"srcId":"d41c3e3e-316e-4f7b-8f39-1ed60ecb4e28","tgtId":"State","label":"Exceed Warmup","event":"","condition":{"text":"source1.low_threshold_rule or (source1.warmup_rule and (warmup_dur + anomaly_interval) &gt;= warmup_per)","type":"boolean","option":true},"action":{"statements":[{"id":"db69ebbf-4dd3-4c7d-8020-de521f32bb5e","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Create\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"a6ca6e49-174d-4d29-8519-c83c134c1b2a","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"state"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Active\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"1e7bec69-b518-46b9-8866-e0918541f766","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"start_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"65fc5238-8dc2-45c5-897e-bd4280e9a2c3","internalID":"ce7da8cf-c1e0-4044-8a88-e8196c07aa8a","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"date_key"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.date_key","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"6a4d669c-ce3f-47d3-8270-21ddbb5fdcc6","internalID":"a08846a6-30c7-4851-8262-eaa24916929c","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"warmup_dur"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"warmup_dur+source1.anomaly_interval","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"b3658b12-1a4a-4014-8406-ee83b6850e15","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=&apos;y&apos;","type":"boolean","option":true}}]},{"id":"06592eee-4b24-4261-8f74-e46ec32b2d4d","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"low_from_warmup"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"!source1.low_threshold_rule","type":"boolean","option":true}}]},{"id":"c87a172d-a38f-4fa7-8dd8-cae018f74877","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"0","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","type":"boolean","option":false}}]},{"id":"d9b21937-0408-43b4-8760-09f19beef415","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"1","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"1d4b7265-ac24-4e34-8175-3507ffc1f862","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"1","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_low) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_low)","type":"boolean","option":true}}]},{"id":"2c8d086e-1b34-40e8-8745-323b884d04e4","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"2","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_med) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_med)","type":"boolean","option":true}}]},{"id":"4578e93e-4db0-4ca4-8a8a-07fdd8809739","internalID":"40ae7084-ddbb-478e-8b9a-367cb26274d5","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"3","type":"int","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"(threshold_policy=&apos;above&apos; and source1.metric_measure &gt; threshold_high) or (threshold_policy=&apos;below&apos; and source1.metric_measure &lt; threshold_high)","type":"boolean","option":true}}]},{"id":"c24c6255-3100-419b-8247-ea03c44f25c4","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"severity","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"severity &gt; 2","type":"boolean","option":true}}]},{"id":"c0b7d8cd-4915-40da-8f34-bf1854fa1c6c","internalID":"28cc64f9-cbbc-4190-8178-b7bb8e8bcfc4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"max_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"derived_severity","type":"string","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"c55bb839-4322-40f0-8a86-4a26ecce7146","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_active_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"990f7a6c-bae2-4acc-8cc5-daf01918ff07","internalID":"fbc122da-d042-4be3-8698-1b327917ba85","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\n//accumulate metric history\nval metric_hist_per = ctx.getGlobalVar[Int](\"metric_hist_per\").getOrElse(0)\nval anomaly_interval = ctx.getGlobalVar[Int](\"anomaly_interval\").get\nval severity = ctx.getGlobalVar[Int](\"severity\").get\nval mv = MetricVal(source1.start_tm, severity)\nval mvh = MetricValHist(Seq(mv))\nctx.setGlobalVar(\"mv_hist\", mvh)\n// val mv = MetricVal(source1.start_tm, source1.metric_measure)\n// var mvh = ctx.getGlobalVar[MetricValHist](\"mv_hist\").get.list\n// mvh = mvh.:+(mv)\n// ctx.setGlobalVar(\"mv_hist\", MetricValHist(mvh.sortBy(_.tm).reverse.take(metric_hist_per/anomaly_interval)))\n//println(\"+=+=Start from Warmup Incidennt[\"+ctx.getGlobalVar[String](\"incident_id\").get+\"] hist size[\"+(+ctx.getGlobalVar[MetricValHist](\"mv_hist\").get.list.size)+\"]\")\n//println(\"+=+=Create from Warmup icndeint_id[\"+ctx.getGlobalVar[String](\"incident_id\").get+\"] low_threshold_rule[\"+source1.low_threshold_rule+\"] warmup_rule[\"+source1.warmup_rule+\"] low_from_warup[\"+ctx.getGlobalVar[Boolean](\"low_from_warmup\").get+\"]\")\nval SEV_LOW = 1\nval SEV_MED = 2\nval SEV_HIGH = 3\nvar msg: String = null\nvar action = IncidentActionMsg.INCIDENT_START + IncidentActionMsg.BEGIN_AT\nvar params: Seq[(String, Any)] = Seq()\nval low_threshold = source1.threshold_low\nval med_threshold = source1.threshold_med\nval high_threshold = source1.threshold_high\n\nif (severity == SEV_LOW) {\n  msg = SimpleThresholdMsg.BEGIN_STAY_LOW_REASON\n  params = Seq((MsgVars.var_low_threshold, low_threshold), (MsgVars.var_med_threshold, med_threshold))\n} else if (severity == SEV_MED) {\n  msg = SimpleThresholdMsg.BEGIN_STAY_MED_REASON\n  params = Seq((MsgVars.var_med_threshold, med_threshold), (MsgVars.var_high_threshold, high_threshold))\n} else if (severity == SEV_HIGH) {\n  msg = SimpleThresholdMsg.BEGIN_STAY_HIGH_REASON\n  params = Seq((MsgVars.var_high_threshold, high_threshold))\n} else {\n  msg = SimpleThresholdMsg.ESCALATE_TO_ARTIFICIAL_LOW_REASON\n  action = IncidentActionMsg.INCIDENT_START + IncidentActionMsg.ESCALATE\n  params = Seq((MsgVars.var_low_threshold, low_threshold),\n               (MsgVars.var_warmup_threshold,   ctx.getGlobalVar(\"warmup_threshold\")),\n               (MsgVars.var_max_warmup_periods, ctx.getGlobalVar(\"warmup_per\")))\n}\nval reason = IncidentMsgUtils.replaceVars(msg, params: _*)\nctx.setGlobalVar(\"reason\", reason)\nctx.setGlobalVar(\"action\", action)"}]},{"id":"ddf48990-79c2-462e-865c-b8042a3763eb","internalID":"f8d3ec67-03f2-487e-8d69-090c1a67f6c9","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"active_duration"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.end_tm - source1.start_tm","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"severity != 0","type":"boolean","option":true}}]},{"id":"b8170c1a-9a46-4dde-86bd-ee9338f2787a","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"0","type":"int","option":false},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"active_duration","type":"long","option":true},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))","type":"string","option":false},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"warmup_threshold":{"text":"warmup_threshold","type":"double","option":true},"warmup_duration":{"text":"warmup_dur","type":"long","option":true},"cooldown_duration":{"text":"","type":null,"option":false},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]},{"id":"a03fa381-bd1d-46bc-8245-d4be6f2db120","internalID":"4cedaac3-2a1e-4e13-8396-276a1bd567c4","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_derived_severity"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"derived_severity","type":"integer","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"43166cfe-ca7e-44bc-8616-0065de2647e0","internalID":"ed2b086d-3f2e-4584-8b60-0bb79db7c2a0","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"last_event_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm","type":"long","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]}]},"priority":0,"fromState":"Warmup","toState":"Active","_id":"con_67","labelLoc":0.4906832298136646},{"srcId":"d41c3e3e-316e-4f7b-8f39-1ed60ecb4e28","tgtId":"6e7ad0f0-25ba-4cf4-8e6b-8dca6d50fd8f","label":"Close Incident(Warmup)","event":"","condition":{"text":"!source1.warmup_rule","type":"boolean","option":true},"action":{"statements":[{"id":"df52b829-be25-40ee-8d08-ca1a1382423d","internalID":"d32638ea-1d00-47a2-8b0e-4bb07cc710d9","ref":"CancelTimer","desc":"Cancel timer {timer_event} on condition {condition}","bindings":[{"field":"timer_event","type":"timer_event","editorType":"select","value":"Timer"},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"73a361b8-73e3-4f19-8e0f-2d5529d02ffb","internalID":"923a0e60-6d98-4de1-8cb0-cdd9ce0be152","ref":"CancelTimer","desc":"Cancel timer {timer_event} on condition {condition}","bindings":[{"field":"timer_event","type":"timer_event","editorType":"select","value":" Late_Timer"},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"629375aa-c25f-4a1f-8796-a8901545c150","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Close\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"41f2f1f3-2277-4075-8802-d5e9c73b33a6","internalID":"ecf5f576-898e-425d-86d9-e17d62c85143","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"correlation_end_tm"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"source1.start_tm+correlation_time","type":"number","option":true}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"groupable=&apos;y&apos;","type":"boolean","option":true}}]},{"id":"eef2411a-124c-4f7e-8faf-9446c3cccc1c","internalID":"5967cc8a-9422-4a1d-8259-3c7e864e01c0","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val source1 = event.source1.get\r\nval reason = IncidentMsgUtils.replaceVars(SimpleThresholdMsg.ABORT_WARMUP, (MsgVars.var_warmup_threshold, source1.warmup_threshold))\r\nctx.setGlobalVar(\"reason\", reason)\r\nctx.setGlobalVar(\"action\", IncidentActionMsg.ABORT)"}]},{"id":"d7a4e965-9979-4d27-84d9-8408c8231a9c","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"source1.start_tm","type":"long","option":false},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"source1.start_tm","type":"long","option":false},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"","type":null,"option":false},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))","type":"string","option":false},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"warmup_threshold":{"text":"warmup_threshold","type":"double","option":true},"warmup_duration":{"text":"warmup_dur","type":"long","option":true},"cooldown_duration":{"text":"","type":null,"option":false},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"correlation_end_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]}]},"priority":0,"fromState":"Warmup","toState":"End","_id":"con_79"}],"events":[],"variables":[{"name":"_modelStartTime","type":"long","defaultValue":{"text":"","type":"string","option":false},"_deletable":false,"_disabled":true,"_id":"583f9214-6d13-4dec-86d0-1ca4c962899e"},{"name":"_latestEventTime","type":"long","defaultValue":{"text":"","type":"string","option":false},"_deletable":false,"_disabled":true,"_id":"bd9a6047-ffd8-49fc-89d9-f1d489e49ca2"},{"name":"_startEventTime","type":"long","defaultValue":{"text":"","type":"string","option":false},"_deletable":false,"_disabled":true,"_id":"6a64b96f-f549-41a4-88b5-bc2c27074375"},{"_id":"10283cf8-074c-4cff-8ac3-89b6f436234f","name":"metric_id","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"a85986f5-3f86-49a9-8bd2-4bbecfe07380","name":"window","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"b23328b7-43d4-4cef-8c2d-e37f8eebd42e","name":"algorithm","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"9483d6a0-e5aa-45eb-8254-f818007d6c99","name":"emit_notification","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"30e5c709-58f9-4dc8-8323-380651e4519b","name":"threshold_low","type":"double","defaultValue":{"text":"","type":"string","option":false}},{"_id":"07206cf2-48fe-4ce3-8d69-60ebad585aeb","name":"threshold_med","type":"double","defaultValue":{"text":"","type":"string","option":false}},{"_id":"b2f6acc1-6a6a-4ea6-878c-47a91baff09e","name":"threshold_high","type":"double","defaultValue":{"text":"","type":"string","option":false}},{"_id":"5f83a780-595a-4de7-880b-bda272c6b9c7","name":"cooldown_per","type":"long","defaultValue":{"text":"","type":"string","option":false}},{"_id":"6c01e2a7-7138-40d7-8ef4-22bb9122dffa","name":"operation","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"7d6668cf-dae5-4a71-82ff-a073b0829c6d","name":"state","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"f86ba69b-1c21-4699-8637-3dd10c4e0173","name":"start_tm","type":"long","defaultValue":{"text":"","type":"string","option":false}},{"_id":"53d84a39-5ebf-4f62-8404-7d07d7a7fea7","name":"date_key","type":"long","defaultValue":{"text":"","type":"string","option":false}},{"_id":"a40eae9c-9878-497a-888c-5d49331175ac","name":"severity","type":"integer","defaultValue":{"text":"","type":"string","option":false}},{"_id":"433799f0-06e4-4fb7-8b7a-0414e834e57d","name":"derived_severity","type":"integer","defaultValue":{"text":"","type":"string","option":false}},{"_id":"bf815df6-cd22-4e83-898a-4af6faa068de","name":"max_severity","type":"integer","defaultValue":{"text":"","type":"string","option":false}},{"_id":"52b4f672-e1fe-4583-86a7-5564b730c9a1","name":"incident_id","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"8bc7b2fc-85f4-4745-8a36-159750699c0d","name":"expire_tm","type":"long","defaultValue":{"text":"","type":"string","option":false}},{"_id":"7367f579-5cff-4b50-8055-e3c188c26ae2","name":"threshold_policy","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"6f77fab2-54da-499d-8a5d-268b62ff9b36","name":"warmup_dur","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"1cf7de68-3461-4220-8ca4-e19b4a25dbe4","name":"cooldown_dur","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"f6768409-ecf8-4135-8b59-0fff8180ec47","name":"dim_keys","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"878f1e4a-d533-44cc-805b-098045b6a874","name":"dim_values","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"8518865b-11f3-4980-8ad6-3681e5f5c613","name":"config_metric_id","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"8f1e51bc-ff2d-4a43-8f4c-72d16f587846","name":"last_active_end_tm","type":"long","defaultValue":{"text":"","type":"string","option":false}},{"_id":"d2050e16-59df-415e-8c37-16c5a3b89c6f","name":"dim_pattern","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"e1189d87-45c5-4747-82bf-b579bf3fa05a","name":"service_name","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"63807c8c-f0d5-40d1-833f-69897c4f27ff","name":"sub_service_name","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"1ed11aa7-1567-43ed-8158-e1747f36b71a","name":"correlation_time","type":"long","defaultValue":{"text":"","type":"string","option":false}},{"_id":"0ea5bb97-e2e7-479c-8f4d-8c620e0aa36b","name":"groupable","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"d4663320-172e-44ed-81e6-3f6ac2531704","name":"correlation_end_tm","type":"long","defaultValue":{"text":"","type":"string","option":false}},{"_id":"01707cf7-2b23-4764-8388-7e574b56dad4","name":"low_from_warmup","type":"boolean","defaultValue":{"text":"","type":"string","option":false}},{"_id":"90eda31f-2653-4a8b-85cb-c2de695cc9d3","name":"mv_hist","type":"MetricValHist","defaultValue":{"text":"","type":"string","option":false}},{"_id":"f5e0e36e-74fa-423c-8503-48fe1ed63e4c","name":"metric_hist_per","type":"integer","defaultValue":{"text":"","type":"string","option":false}},{"_id":"4d965439-5090-472a-8880-7f8b4f3fb232","name":"max_low_per","type":"integer","defaultValue":{"text":"","type":"string","option":false}},{"_id":"00b58935-93b3-478e-8f0f-0c34746ba468","name":"max_med_per","type":"integer","defaultValue":{"text":"","type":"string","option":false}},{"_id":"3f48a205-167f-4591-82ed-27f7f6e5f017","name":"tot_max_low_per","type":"integer","defaultValue":{"text":"","type":null,"option":false}},{"_id":"16473b6a-d506-4a18-8721-87b58d2eacb0","name":"tot_max_med_per","type":"integer","defaultValue":{"text":"","type":null,"option":false}},{"_id":"37604657-5252-4f26-85fc-b8194cb6ca24","name":"tot_over_low_per","type":"integer","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"5519667f-111c-4dd5-89fe-29aa7230f111","name":"tot_over_med_per","type":"integer","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"9d872bd8-3584-4673-85b9-46a027e936ec","name":"max_esc_severity","type":"integer","defaultValue":{"text":"","type":"string","option":false}},{"_id":"42e549d0-d038-4479-879f-f383fc17e663","name":"warmup_per","type":"long","defaultValue":{"text":"","type":"string","option":false}},{"_id":"12155426-5a34-425c-8b73-9dcb3e0ddc8d","name":"warmup_threshold","type":"double","defaultValue":{"text":"","type":"string","option":false}},{"_id":"7554bfa2-6cae-4e30-86b9-ab1eaf2c4e20","name":"anomaly_interval","type":"integer","defaultValue":{"text":"","type":"string","option":false}},{"_id":"f70b9ae7-00cc-4dc4-855e-5b5773436f3b","name":"active_duration","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"e9492340-9b39-4d49-880c-6014fd77de3c","name":"mode","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"10b77d68-5b8e-4d9a-8c69-638e6017ad6f","name":"last_derived_severity","type":"integer","defaultValue":{"text":"","type":"string","option":false}},{"_id":"88f5091b-855c-4ae2-8ab9-fdee95f2cbd4","name":"reason","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"94fc81d9-6eaf-4808-809c-d3357c0cdee4","name":"action","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"04eeaa94-5ec6-4ad6-809c-6295a83559cc","name":"expire_tm_duration","type":"long","defaultValue":{"text":"","type":"string","option":false}},{"_id":"6c47b556-2d30-46a0-8faa-54ddb86aa575","name":"late_tm_duration","type":"long","defaultValue":{"text":"86400","type":"int","option":false}},{"_id":"668a4e87-10b9-4be0-8931-f257ca011609","name":"contextual_metric_id","type":"string","defaultValue":{"text":"","type":"string","option":false}},{"_id":"5dd507e3-d12a-477c-839e-5aae5e1ec108","name":"last_event_tm","type":"long","defaultValue":{"text":"0","type":"int","option":false}},{"_id":"3ed1e3d0-28dc-4027-8bbf-92fb1476d4ae","name":"last_max_esc_severity","type":"integer","defaultValue":{"text":"0","type":"int","option":false}}],"aggregates":[],"globalTimers":[{"_id":"8ba0986a-fafb-422e-8aee-d20aea647cc8","timer":"Timer","spec":{"text":"ExpirationTimerSpec(86400,1)","type":"com.vitria.spark.sm.TimerSpec","option":false},"action":{"statements":[{"id":"91b16d41-c500-4e18-85da-3fde4da90a82","internalID":"0131dd03-eae9-47e6-8915-1a9d9133e38b","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Expire\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"ae3c8727-159f-4f96-8288-76d2e1932c4d","internalID":"b133f904-bb20-43d7-81ed-ca5726faed78","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val reason = IncidentMsgUtils.replaceVars(SimpleThresholdMsg.EXPIRED_REASON,\r\n                   (MsgVars.var_expired_tm_duration, ctx.getGlobalVar(\"expire_tm_duration\")))\r\nctx.setGlobalVar(\"reason\", reason)\r\n\r\nval action = if(\"Cooldown\".equals(ctx.currentStateName.trim)) \r\n                  IncidentActionMsg.CONTINUE\r\n             else if(\"Active\".equals(ctx.currentStateName.trim)) \r\n                  IncidentActionMsg.INCIDENT_END +  IncidentActionMsg.ABORT\r\n             else IncidentActionMsg.ABORT\r\n\r\nctx.setGlobalVar(\"action\", action)"}]},{"id":"ce9a172a-72fc-4f83-894f-302a7507020b","internalID":"928f0408-30fc-4762-8bb0-3aa165f3b65a","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"start_tm":{"text":"start_tm","type":"long","option":true},"id":{"text":"incident_id","type":"string","option":true},"event_tm":{"text":"expire_tm","type":"long","option":true},"date_key":{"text":"date_key","type":"long","option":true},"end_tm":{"text":"expire_tm","type":"long","option":true},"operation":{"text":"operation","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"score":{"text":"","type":null,"option":false},"severity":{"text":"severity","type":"string","option":true},"max_severity":{"text":"max_severity","type":"string","option":true},"metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"derived_severity":{"text":"derived_severity","type":"string","option":true},"expire_tm":{"text":"expire_tm","type":"long","option":true},"window":{"text":"window","type":"string","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"algorithm":{"text":"algorithm","type":"string","option":true},"active_duration":{"text":"active_duration","type":"long","option":true},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"expire_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"mode":{"text":"mode","type":"string","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","type":"boolean","option":false}}]},{"id":"a26b5f4f-17f7-4e85-8ca1-a8a7c9fb39b4","internalID":"ea71b892-5a27-48e4-88f6-e0b150da5af4","ref":"EndInstance","desc":"End instance on condition {condition}","bindings":[{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","option":"false","type":"boolean"}}]}]}},{"_id":"f25a052e-13d4-4c60-89d7-4ba84af4f596","timer":" Late_Timer","spec":{"text":"IdleTimerSpec(86400,1)","type":"com.vitria.spark.sm.TimerSpec","option":false},"action":{"statements":[{"id":"22f58e7b-d809-42d2-8480-0fe3a973b5ba","internalID":"e3b88c6c-df94-4493-836a-f3a40ca447f7","ref":"AssignVar","desc":"Assign variable {variable} from expression {expression} on condition {condition}","bindings":[{"field":"variable","type":"variable","editorType":"select","value":"operation"},{"field":"expression","type":"expression","editorType":"sle","literalValue":"$.text","value":{"text":"\"Close\"","type":"string","option":false}},{"field":"condition","type":"condition","editorType":"sle","defaultValue":{"text":"true","option":"false","type":"boolean"},"literalValue":"$.text","value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"9c97e4ee-79ac-42e3-858d-bef15ebf488a","internalID":"90d991ac-f7e3-4238-8ccc-e588e0ca5ddf","ref":"CustomCode","desc":"Custom code {scala_editor}","bindings":[{"field":"scala_editor","type":"scala_editor","editorType":"scripteditor","literalValue":"CODE","value":"val action = if(\"Cooldown\".equals(ctx.currentStateName.trim)) \n                  IncidentActionMsg.CONTINUE\n             else if(\"Active\".equals(ctx.currentStateName.trim)) \n                  IncidentActionMsg.INCIDENT_END +  IncidentActionMsg.ABORT\n             else IncidentActionMsg.ABORT\nval reason = IncidentMsgUtils.replaceVars(SimpleThresholdMsg.TIMEOUT_REASON, (MsgVars.var_max_data_interval, ctx.getGlobalVar(\"late_tm_duration\")))\nctx.setGlobalVar(\"reason\", reason)\nctx.setGlobalVar(\"action\", action)"}]},{"id":"05eaa520-a0f2-4d06-89e5-9557cde08d8a","internalID":"75c644ad-f3ff-4856-829f-30e5200ff250","ref":"OutputEvent","desc":"Output event to output port {output_port} with mapping {output_mapping} on condition {condition}","bindings":[{"field":"output_port","type":"output_port","editorType":"selectWithDynLabel","value":"0","label":"ip"},{"field":"output_mapping","type":"output_mapping","editorType":"outputmapping","literalValue":"DATA","value":{"algorithm":{"text":"algorithm","type":"string","option":true},"start_tm":{"text":"start_tm","type":"long","option":true},"end_tm":{"text":"last_event_tm + late_tm_duration","type":"number","option":true},"event_tm":{"text":"expire_tm","type":"long","option":true},"metric_id":{"text":"metric_id","type":"string","option":true},"id":{"text":"incident_id","type":"string","option":true},"state":{"text":"state","type":"string","option":true},"operation":{"text":"operation","type":"string","option":true},"window":{"text":"window","type":"string","option":true},"score":{"text":"","type":null,"option":false},"severity":{"text":"if(severity=1,\"Low\",if(severity=2,\"Medium\",if(severity=3,\"High\",\"\")))","type":"string","option":false},"derived_severity":{"text":"if(derived_severity=1,\"Low\",if(derived_severity=2,\"Medium\",if(derived_severity=3,\"High\",if(derived_severity=-1,\"Warmup\",if(derived_severity=-2,\"Cooldown\",\"\")))))\n","type":"string","option":false},"max_severity":{"text":"if(max_severity=1,\"Low\",if(max_severity=2,\"Medium\",if(max_severity=3,\"High\",if(max_severity=-1,\"Warmup\",if(max_severity=-2,\"Cooldown\",\"\")))))","type":"string","option":false},"metric_measure":{"text":"source1.metric_measure","type":"double","option":false},"metric_baseline":{"text":"","type":null,"option":false},"factor":{"text":"","type":null,"option":false},"metric_deviation":{"text":"","type":null,"option":false},"contextual_metric_id":{"text":"","type":null,"option":false},"contextual_metric_start_tm":{"text":"","type":null,"option":false},"contextual_metric_end_tm":{"text":"","type":null,"option":false},"contextual_metric_aggr":{"text":"","type":null,"option":false},"contextual_metric_baseline":{"text":"","type":null,"option":false},"contextual_metric_deviation":{"text":"","type":null,"option":false},"causation_measure":{"text":"","type":null,"option":false},"causation_top_count":{"text":"","type":null,"option":false},"causation_min_measure":{"text":"","type":null,"option":false},"causation_rule_name":{"text":"","type":null,"option":false},"causation_suppl_measure":{"text":"","type":null,"option":false},"expire_tm":{"text":"expire_tm","type":"long","option":true},"generated_tm":{"text":"unix_timestamp_millisec(now())/1000","type":"number","option":false},"date_key":{"text":"date_key","type":"long","option":true},"active_duration":{"text":"active_duration","type":"long","option":true},"threshold_policy":{"text":"threshold_policy","type":"string","option":true},"threshold_low":{"text":"threshold_low","type":"double","option":true},"threshold_med":{"text":"threshold_med","type":"double","option":true},"threshold_high":{"text":"threshold_high","type":"double","option":true},"reason":{"text":"reason","type":"string","option":true},"action":{"text":"action","type":"string","option":true},"dim_keys":{"text":"dim_keys","type":"string","option":true},"dim_values":{"text":"dim_values","type":"string","option":true},"config_metric_id":{"text":"config_metric_id","type":"string","option":true},"dim_pattern":{"text":"dim_pattern","type":"string","option":true},"service_name":{"text":"service_name","type":"string","option":true},"sub_service_name":{"text":"sub_service_name","type":"string","option":true},"correlation_end_tm":{"text":"expire_tm","type":"long","option":true},"groupable":{"text":"groupable","type":"string","option":true},"mode":{"text":"mode","type":"string","option":true},"peak_score":{"text":"","type":null,"option":false}}},{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","option":"false","type":"boolean"}}]},{"id":"d380fa32-9b3e-4cec-8de5-ce1c39886483","internalID":"7c828fe5-079a-4547-8c93-754bf8f459c7","ref":"EndInstance","desc":"End instance on condition {condition}","bindings":[{"field":"condition","type":"condition","editorType":"sle","literalValue":"$.text","defaultValue":{"text":"true","option":"false","type":"boolean"},"value":{"text":"true","option":"false","type":"boolean"}}]}]}}],"output":[{"_deletable":false,"uid":"0","output":"ip","type":{"name":"viaops.incident_out","kind":"caseclass"},"_id":"b55d219a-157c-4262-8473-a17f8d5a3e01","field":"type"}],"audit":{"name":"1","value":"false"},"outputLatest":{"enable":false,"uid":"","output":"Snapshots","type":{"name":"","kind":"caseclass"},"interval":{"number":"1","unit":"SECONDS"}},"persistState":{"enabled":false}}
</Properties>
                    </Model>
                </Node>
                <Node index="1016_3" uuid="6a0ebd25-3da5-496b-899e-2c9c3dd72633" type="inPort" label="In" x="80" y="80" width="70" height="40">
                    <Output name="Out" uid="0" outputType="DStream" dataType="class:viaops.raw_incident" referenceType="viaops.raw_incident">
                      <Field name="window_size" label="window_size" type="integer" clazz="" isArray="false" isOptional="false"/>
                      <Field name="anomaly_interval" label="anomaly_interval" type="integer" clazz="" isArray="false" isOptional="false"/>
                      <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
                      <Field name="aggr_metric" label="aggr_metric" type="double" clazz="" isArray="false" isOptional="false"/>
                      <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
                      <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false" column="metric_id" wrapName="metric_id"/>
                      <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" column="dim_keys" wrapName="dim_keys"/>
                      <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" column="dim_pattern" wrapName="dim_pattern"/>
                      <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" column="window" wrapName="window"/>
                      <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" column="threshold_policy" wrapName="threshold_policy"/>
                      <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" column="algorithm" wrapName="algorithm"/>
                      <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" column="generate" wrapName="generate"/>
                      <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" column="emit_notification" wrapName="emit_notification"/>
                      <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" column="threshold_high" wrapName="threshold_high"/>
                      <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" column="threshold_low" wrapName="threshold_low"/>
                      <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" column="threshold_med" wrapName="threshold_med"/>
                      <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" column="expire_after" wrapName="expire_after"/>
                      <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" column="cool_down_period" wrapName="cool_down_period"/>
                      <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" column="warmup_period" wrapName="warmup_period"/>
                      <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" column="warmup_threshold" wrapName="warmup_threshold"/>
                      <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" column="upd_dt" wrapName="upd_dt"/>
                      <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" column="service_name" wrapName="service_name"/>
                      <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" column="sub_service_name" wrapName="sub_service_name"/>
                      <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" column="correlation_time" wrapName="correlation_time"/>
                      <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" column="groupable" wrapName="groupable"/>
                      <Field name="metric_hist_per" label="metric_hist_per" type="integer" clazz="" isArray="false" isOptional="true" column="metric_hist_per" wrapName="metric_hist_per"/>
                      <Field name="max_low_per" label="max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_low_per" wrapName="max_low_per"/>
                      <Field name="max_med_per" label="max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_med_per" wrapName="max_med_per"/>
                      <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_low_per" wrapName="tot_max_low_per"/>
                      <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_med_per" wrapName="tot_max_med_per"/>
                      <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true"/>
                        <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    </Output>
                    <Model>
<Properties>
{"portType":"DStream","type":{"name":"viaops.raw_incident","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="1016_4" uuid="bfedb34a-1173-4b7f-80b5-8edc000613a3" type="outPort" label="incident" x="647" y="92" width="70" height="40">
                    <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_out">
                      <DataSource category="#OUTPUT" id="undefined" name="ip" nodeId="43cdd63f-e4f9-459f-81d4-50991c155d24">
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="event_tm" label="event_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="id" label="id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="state" label="state" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="operation" label="operation" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="peak_score" label="peak_score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="severity" label="severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="derived_severity" label="derived_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_severity" label="max_severity" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_top_count" label="causation_top_count" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="expire_tm" label="expire_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="generated_tm" label="generated_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_duration" label="active_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="reason" label="reason" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="action" label="action" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_duration" label="warmup_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="cooldown_duration" label="cooldown_duration" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="correlation_end_tm" label="correlation_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="alternate_id" label="alternate_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Model>
<Properties>
{"type":{"name":"viaops.incident_out","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Node index="1016_5" uuid="205611cc-0ba4-47c0-81ce-2e34dff471cb" type="outPort" label="audit" x="474" y="240" width="70" height="40">
                    <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.incident_in">
                      <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="514c0d2f-1eac-4cc6-865c-7be0bd6e9080">
                        <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="emit_notification" label="emit_notification" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_contextual_metric_time_skew" label="max_contextual_metric_time_skew" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="anomaly_interval" label="anomaly_interval" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="med_threshold_period" label="med_threshold_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="high_threshold_period" label="high_threshold_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="expire_after" label="expire_after" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="cool_down_period" label="cool_down_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_period" label="warmup_period" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="min_metric_vol" label="min_metric_vol" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="min_metric_deviation" label="min_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="med_metric_deviation" label="med_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="high_metric_deviation" label="high_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="min_contextual_metric_vol" label="min_contextual_metric_vol" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="min_contextual_metric_deviation" label="min_contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="med_contextual_metric_deviation" label="med_contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="high_contextual_metric_deviation" label="high_contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_measure" label="causation_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_top_count" label="causation_top_count" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_min_measure" label="causation_min_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_rule_name" label="causation_rule_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="causation_suppl_measure" label="causation_suppl_measure" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="factor" label="factor" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_measure" label="metric_measure" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_baseline" label="metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_id" label="contextual_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_start_tm" label="contextual_metric_start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_end_tm" label="contextual_metric_end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_aggr" label="contextual_metric_aggr" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_baseline" label="contextual_metric_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_median_baseline" label="contextual_metric_median_baseline" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="score" label="score" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="metric_deviation" label="metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_deviation" label="contextual_metric_deviation" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="low_threshold_rule" label="low_threshold_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="low_threshold_rule_expr" label="low_threshold_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="warmup_rule" label="warmup_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="warmup_rule_expr" label="warmup_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_metric_rule" label="active_metric_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="active_metric_rule_expr" label="active_metric_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="active_contextual_metric_rule" label="active_contextual_metric_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="active_contextual_metric_rule_expr" label="active_contextual_metric_rule_expr" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="contextual_metric_time_skew" label="contextual_metric_time_skew" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_time_skew_rule" label="contextual_metric_time_skew_rule" type="boolean" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="contextual_metric_time_skew_rule_text" label="contextual_metric_time_skew_rule_text" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="config_setting_tm" label="config_setting_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="correlation_time" label="correlation_time" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                        <Field name="metric_history_per" label="metric_history_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_low_per" label="max_low_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_med_per" label="max_med_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="tot_max_low_per" label="tot_max_low_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="tot_max_med_per" label="tot_max_med_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="max_warmup_per" label="max_warmup_per" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
                        <Field name="late_data_timer" label="late_data_timer" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                      </DataSource>
                    </Source>
                    <Model>
<Properties>
{"type":{"name":"viaops.incident_in","kind":"caseclass"}}
</Properties>
                    </Model>
                </Node>
                <Link srcId="514c0d2f-1eac-4cc6-865c-7be0bd6e9080" srcPort="out:0" tgtId="43cdd63f-e4f9-459f-81d4-50991c155d24" tgtPort="din:0"/>
                <Link srcId="6a0ebd25-3da5-496b-899e-2c9c3dd72633" srcPort="out:0" tgtId="514c0d2f-1eac-4cc6-865c-7be0bd6e9080" tgtPort="in:0"/>
                <Link srcId="43cdd63f-e4f9-459f-81d4-50991c155d24" srcPort="dout:0" tgtId="bfedb34a-1173-4b7f-80b5-8edc000613a3" tgtPort="in:0"/>
                <Link srcId="514c0d2f-1eac-4cc6-865c-7be0bd6e9080" srcPort="out:0" tgtId="205611cc-0ba4-47c0-81ce-2e34dff471cb" tgtPort="in:0"/>
      <Codes>
          <Imports><![CDATA[object IncidentMsgUtils {

  def replaceVars(template: String, vs: Tuple2[String, Any]*): String = {
    var replaced = template
    vs.foreach(x => {
      val key = "%{" + x._1 + "}"
      val v = x._2 match {
        case null => ""
        case None => ""
        case Some(x) => x.toString
        case _ => x._2.toString()
      }
      replaced = replaced.replace(key, v)
    })
    replaced
  }
}

object MsgVars {

  val var_low_threshold = "low_threshold"
  val var_med_threshold = "med_threshold"
  val var_high_threshold = "high_threshold"
  val var_warmup_threshold = "warmup_threshold"
  val var_max_warmup_periods = "max_warmup_periods"
  val var_max_data_interval = "max_data_interval"
  val var_max_cooldown_time = "max_cooldown_time"
  val var_expired_tm_duration = "expired_tm_duration"
// simple threshold
  val var_over_low_periods = "over_low_periods"
  val var_over_med_periods = "over_med_periods"
  val var_max_low_periods = "max_low_periods"
  val var_max_med_periods = "max_med_periods"
  val var_tot_over_low_periods = "tot_over_low_periods"
  val var_tot_over_med_periods = "tot_over_med_periods"

//only for deviation
  val var_max_med_time = "max_med_time"
  val var_max_high_time = "max_high_time"
  val var_min_metric_deviation = "min_metric_deviation"
  val var_warmup_period = "warmup_period"
  val var_min_metric_val = "min_metric_val"
  
  val var_cooldown_period = "cooldown_period"
  val var_anormally_interval = "anormally_interval"
}

object IncidentActionMsg {
  val BEGIN = "Begin"
  val INCIDENT_START = "Start of incident "
  val BEGIN_AT = "Begin at"
  val INCIDENT_END = "End of incident "
  val CONTINUE = "Continue"
  val ABORT = "Abort"
  val ESCALATE = "Escalate to"
  val STAY = "Stay at"
  val UPGRADE = "Upgrade to"
  val DOWNGRADE = "Downgrade to"
  val ABORT_AND_RESUME = "Abort Cooldown. Resume at"
  val COMPLETE = "Complete"

  // simple threshold
  val ABORT_AND_ESCALATE = "Abort Cooldown. Escalate to"
}

object SimpleThresholdMsg {

  val BEGIN_STAY_LOW_REASON = " Metric value greater than low, but less than medium threshold (%{low_threshold} < value <= %{med_threshold})."
  val BEGIN_STAY_MED_REASON = " Metric value greater than medium, but less than high threshold (%{med_threshold} < value <= %{high_threshold})."
  val BEGIN_STAY_HIGH_REASON = " Metric value greater than high threshold (value > %{high_threshold})."
  val UPGRADE_TO_MED_REASON = " Metric value greater than medium, but less than high threshold (%{med_threshold} < value <= %{high_threshold})."
  val UPGRADE_TO_HIGH_REASON = " Metric value greater than high threshold (value > %{high_threshold})."
  val ABORT_COOLDOWN_REASON_LOW = " Metric value greater than low threshold and warmup, if any, no longer valid. (metric value > %{low_threshold})."
  val ABORT_COOLDOWN_REASON_WARMUP = " Metric value greater than warmup threshold and warmup still valid. (metric value > %{warmup_threshold})."
  val DOWNGRADE_LOW_REASON = " Metric value greater than low, but less than medium threshold (%{low_threshold} < value <= %{med_threshold})."
  val DOWNGRADE_MED_REASON = " Metric value greater than medium, but less than high threshold (%{med_threshold} < value <= %{high_threshold})."
  val BEGIN_WARMUP_REASON = " Metric value above warmup threshold, but beneath low threshold. (%{warmup_threshold} < value <= %{low_threshold})."
  val STAY_WARMUP_REASON = " Metric value above warmup threshold and beneath low threshold, but warmup period not yet met. (%{warmup_threshold} < value <= %{low_threshold}, warmup time < %{max_warmup_periods})."
  val ESCALATE_TO_ARTIFICIAL_LOW_REASON = " Metric value above warmup threshold and beneath low threshold for warmup period. (%{warmup_threshold} < value <= %{low_threshold}, warmup time >= %{max_warmup_periods})."
  val ARTIFICIAL_LOW_REASON = ESCALATE_TO_ARTIFICIAL_LOW_REASON
  val ABORT_WARMUP = " Metric value less than warmup threshold. (value <= %{warmup_threshold})."
  val TIMEOUT_REASON = " No additional data received in the max data interval (time since last data > %{max_data_interval})."
  val EXPIRED_REASON = " Expired. Exceeded maximum incident lifetime (time > %{expired_tm_duration})"
  val STAY_RESUME_ESCALATE_MED = " Previously escalated to Medium."
  val STAY_RESUME_ESCALATE_HIGH = " Previously escalated to High."
  val BEGIN_STAY_COOLDOWN_REASON_LOW = " Metric value less than low threshold and warmup, if any, no longer valid. (metric value <= %{low_threshold})."
  val BEGIN_STAY_COOLDOWN_REASON_WARMUP = " Metric value less than warmup threshold and warmup still valid. (metric value <= %{warmup_threshold})."
  val COMPLETE_COOLDOWN_REASON = " Cooldown conditions met or no additional data received for more than cooldown period (cooldown time >=  %{max_cooldown_time})."
  val SKIP_COOLDOWN_REASON = " Metric value less than low threshold and warmup, if any, no longer valid and cooldown period is less than anormally interval (%{cooldown_period} <  %{anormally_interval})."
  val ESCALATE_TO_MED_REASON_RECENT = " Metric value greater than low for %{over_low_periods} of the last %{max_low_periods}."
  val ESCALATE_TO_MED_REASON_ALL_TIME = " Metric value greater than low for %{tot_over_low_periods} since incident start."
  val ESCALATE_TO_HIGH_REASON_RECENT = " Metric value greater than medium for %{over_med_periods} of the last %{max_med_periods}."
  val ESCALATE_TO_HIGH_REASON_ALL_TIME = " Metric value greater than medium for %{tot_over_med_periods} since incident start."
}
]]></Imports>
      </Codes>
      <Libraries>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[]</Properties>
      <Types>[{"name":"MetricVal","namespace":"","schema":[{"name":"tm","type":"long","_isOptional":false,"_isArray":false},{"name":"severity","type":"integer","_isOptional":false,"_isArray":false}]},{"name":"MetricValHist","namespace":"","schema":[{"name":"list","type":"MetricVal","_isOptional":false,"_isArray":true}]}]</Types>
              </Flow>
</__subflow__>
            </Model>
        </Node>
        <Node index="1007" uuid="275c1f75-2151-40b9-8855-119c3f62bfac" type="Filter" label="Exclude" x="240" y="370" width="130" height="75">
            <Source name="source" uid="0" outputType="DStream" dataType="class:viaops.raw_incident">
              <DataSource category="#OUTPUT" id="undefined" name="out" nodeId="8a4b65ec-0bc4-4b77-8ef0-66de94a7c6e3">
                <Field name="window_size" label="window_size" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="anomaly_interval" label="anomaly_interval" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="start_tm" label="start_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="end_tm" label="end_tm" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="metric_id" label="metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="dim_values" label="dim_values" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="aggr_metric" label="aggr_metric" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="date_key" label="date_key" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false"/>
                <Field name="config_metric_id" label="config_metric_id" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="metric_id" wrapName="metric_id"/>
                <Field name="dim_keys" label="dim_keys" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="dim_keys" wrapName="dim_keys"/>
                <Field name="dim_pattern" label="dim_pattern" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="dim_pattern" wrapName="dim_pattern"/>
                <Field name="window" label="window" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="window" wrapName="window"/>
                <Field name="threshold_policy" label="threshold_policy" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="threshold_policy" wrapName="threshold_policy"/>
                <Field name="algorithm" label="algorithm" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="algorithm" wrapName="algorithm"/>
                <Field name="mode" label="mode" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="generate" wrapName="generate"/>
                <Field name="emit_notification" label="emit_notification" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="emit_notification" wrapName="emit_notification"/>
                <Field name="threshold_high" label="threshold_high" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="threshold_high" wrapName="threshold_high"/>
                <Field name="threshold_low" label="threshold_low" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="threshold_low" wrapName="threshold_low"/>
                <Field name="threshold_med" label="threshold_med" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="threshold_med" wrapName="threshold_med"/>
                <Field name="expire_after" label="expire_after" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="expire_after" wrapName="expire_after"/>
                <Field name="cool_down_period" label="cool_down_period" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="cool_down_period" wrapName="cool_down_period"/>
                <Field name="warmup_period" label="warmup_period" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="warmup_period" wrapName="warmup_period"/>
                <Field name="warmup_threshold" label="warmup_threshold" type="double" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="warmup_threshold" wrapName="warmup_threshold"/>
                <Field name="upd_dt" label="upd_dt" type="datetime" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="upd_dt" wrapName="upd_dt"/>
                <Field name="service_name" label="service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="service_name" wrapName="service_name"/>
                <Field name="sub_service_name" label="sub_service_name" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="sub_service_name" wrapName="sub_service_name"/>
                <Field name="correlation_time" label="correlation_time" type="long" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="correlation_time" wrapName="correlation_time"/>
                <Field name="groupable" label="groupable" type="string" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="false" column="groupable" wrapName="groupable"/>
                <Field name="metric_hist_per" label="metric_hist_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="metric_hist_per" wrapName="metric_hist_per"/>
                <Field name="max_low_per" label="max_low_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="max_low_per" wrapName="max_low_per"/>
                <Field name="max_med_per" label="max_med_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="max_med_per" wrapName="max_med_per"/>
                <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="tot_max_low_per" wrapName="tot_max_low_per"/>
                <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true" column="tot_max_med_per" wrapName="tot_max_med_per"/>
                <Field name="late_data_timer" label="late_data_timer" type="integer" isDimension="false" isMeasure="false" clazz="" isArray="false" isOptional="true"/>
              </DataSource>
            </Source>
            <Output name="out" uid="0" outputType="DStream" dataType="class:viaops.raw_incident">
              <Field name="window_size" label="window_size" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="anomaly_interval" label="anomaly_interval" type="integer" clazz="" isArray="false" isOptional="false"/>
              <Field name="start_tm" label="start_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="end_tm" label="end_tm" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="metric_id" label="metric_id" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="dim_values" label="dim_values" type="string" clazz="" isArray="false" isOptional="false"/>
              <Field name="aggr_metric" label="aggr_metric" type="double" clazz="" isArray="false" isOptional="false"/>
              <Field name="date_key" label="date_key" type="long" clazz="" isArray="false" isOptional="false"/>
              <Field name="config_metric_id" label="config_metric_id" type="string" clazz="" isArray="false" isOptional="false" column="metric_id" wrapName="metric_id"/>
              <Field name="dim_keys" label="dim_keys" type="string" clazz="" isArray="false" isOptional="false" column="dim_keys" wrapName="dim_keys"/>
              <Field name="dim_pattern" label="dim_pattern" type="string" clazz="" isArray="false" isOptional="false" column="dim_pattern" wrapName="dim_pattern"/>
              <Field name="window" label="window" type="string" clazz="" isArray="false" isOptional="false" column="window" wrapName="window"/>
              <Field name="threshold_policy" label="threshold_policy" type="string" clazz="" isArray="false" isOptional="false" column="threshold_policy" wrapName="threshold_policy"/>
              <Field name="algorithm" label="algorithm" type="string" clazz="" isArray="false" isOptional="false" column="algorithm" wrapName="algorithm"/>
              <Field name="mode" label="mode" type="string" clazz="" isArray="false" isOptional="true" column="generate" wrapName="generate"/>
              <Field name="emit_notification" label="emit_notification" type="string" clazz="" isArray="false" isOptional="true" column="emit_notification" wrapName="emit_notification"/>
              <Field name="threshold_high" label="threshold_high" type="double" clazz="" isArray="false" isOptional="true" column="threshold_high" wrapName="threshold_high"/>
              <Field name="threshold_low" label="threshold_low" type="double" clazz="" isArray="false" isOptional="true" column="threshold_low" wrapName="threshold_low"/>
              <Field name="threshold_med" label="threshold_med" type="double" clazz="" isArray="false" isOptional="true" column="threshold_med" wrapName="threshold_med"/>
              <Field name="expire_after" label="expire_after" type="integer" clazz="" isArray="false" isOptional="true" column="expire_after" wrapName="expire_after"/>
              <Field name="cool_down_period" label="cool_down_period" type="integer" clazz="" isArray="false" isOptional="true" column="cool_down_period" wrapName="cool_down_period"/>
              <Field name="warmup_period" label="warmup_period" type="integer" clazz="" isArray="false" isOptional="true" column="warmup_period" wrapName="warmup_period"/>
              <Field name="warmup_threshold" label="warmup_threshold" type="double" clazz="" isArray="false" isOptional="true" column="warmup_threshold" wrapName="warmup_threshold"/>
              <Field name="upd_dt" label="upd_dt" type="datetime" clazz="" isArray="false" isOptional="true" column="upd_dt" wrapName="upd_dt"/>
              <Field name="service_name" label="service_name" type="string" clazz="" isArray="false" isOptional="false" column="service_name" wrapName="service_name"/>
              <Field name="sub_service_name" label="sub_service_name" type="string" clazz="" isArray="false" isOptional="false" column="sub_service_name" wrapName="sub_service_name"/>
              <Field name="correlation_time" label="correlation_time" type="long" clazz="" isArray="false" isOptional="true" column="correlation_time" wrapName="correlation_time"/>
              <Field name="groupable" label="groupable" type="string" clazz="" isArray="false" isOptional="false" column="groupable" wrapName="groupable"/>
              <Field name="metric_hist_per" label="metric_hist_per" type="integer" clazz="" isArray="false" isOptional="true" column="metric_hist_per" wrapName="metric_hist_per"/>
              <Field name="max_low_per" label="max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_low_per" wrapName="max_low_per"/>
              <Field name="max_med_per" label="max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="max_med_per" wrapName="max_med_per"/>
              <Field name="tot_max_low_per" label="tot_max_low_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_low_per" wrapName="tot_max_low_per"/>
              <Field name="tot_max_med_per" label="tot_max_med_per" type="integer" clazz="" isArray="false" isOptional="true" column="tot_max_med_per" wrapName="tot_max_med_per"/>
              <Field name="late_data_timer" label="late_data_timer" type="integer" clazz="" isArray="false" isOptional="true"/>
                <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            </Output>
            <Model filterModel="form">
              <Filters>
                <Filter field="" op="sleText" arg="" value="" sleText="mode != &apos;x&apos;"/>
              </Filters>
            </Model>
        </Node>
        <Link srcId="f756b743-d95d-4ab6-8279-4a1829b9f9a5" srcPort="dout:0" tgtId="55289f27-1fee-4571-8e46-4409d14fdb01" tgtPort="din:0"/>
        <Link srcId="f756b743-d95d-4ab6-8279-4a1829b9f9a5" srcPort="dout:0" tgtId="8a22e819-622f-47bb-8c24-473b4a150ba7" tgtPort="in:0"/>
        <Link srcId="f756b743-d95d-4ab6-8279-4a1829b9f9a5" srcPort="dout:0" tgtId="5e671a68-7040-486e-8e36-3dbd9713b6c6" tgtPort="in:0"/>
        <Link srcId="f756b743-d95d-4ab6-8279-4a1829b9f9a5" srcPort="dout:1" tgtId="a8f6dab4-83d5-4f61-86a5-65b765a139bf" tgtPort="in:0"/>
        <Link srcId="760de588-3a35-4c8e-8c33-c1206a816d19" srcPort="dout:0" tgtId="dca7e0e4-ec3f-4674-8613-8811866ccae3" tgtPort="in:0"/>
        <Link srcId="1cab09b2-64b5-4a11-87b1-7d02780829e9" srcPort="dout:0" tgtId="0ee586c9-b13f-4a8f-8bac-605db13f7258" tgtPort="din:0"/>
        <Link srcId="3bddb4b7-ab32-48b9-8513-ca68ae44cb53" srcPort="dout:0" tgtId="1cab09b2-64b5-4a11-87b1-7d02780829e9" tgtPort="in:0"/>
        <Link srcId="0ee586c9-b13f-4a8f-8bac-605db13f7258" srcPort="out:0" tgtId="8a4b65ec-0bc4-4b77-8ef0-66de94a7c6e3" tgtPort="in:0"/>
        <Link srcId="7d3e88d2-ebaf-46d7-86da-4fe4626fe090" srcPort="dout:0" tgtId="0ee586c9-b13f-4a8f-8bac-605db13f7258" tgtPort="din:1"/>
        <Link srcId="c394cdf3-5037-4d16-857e-755c9e537e65" srcPort="out:0" tgtId="760de588-3a35-4c8e-8c33-c1206a816d19" tgtPort="din:0"/>
        <Link srcId="5e671a68-7040-486e-8e36-3dbd9713b6c6" srcPort="out:0" tgtId="0805067f-70d5-49bc-8004-53520e41aeaf" tgtPort="in:0"/>
        <Link srcId="8a22e819-622f-47bb-8c24-473b4a150ba7" srcPort="out:0" tgtId="c394cdf3-5037-4d16-857e-755c9e537e65" tgtPort="in:0"/>
        <Link srcId="8a4b65ec-0bc4-4b77-8ef0-66de94a7c6e3" srcPort="out:0" tgtId="275c1f75-2151-40b9-8855-119c3f62bfac" tgtPort="in:0"/>
        <Link srcId="275c1f75-2151-40b9-8855-119c3f62bfac" srcPort="out:0" tgtId="f756b743-d95d-4ab6-8279-4a1829b9f9a5" tgtPort="din:0"/>
      <Codes>
          <Spark><![CDATA[########## The following properties are coming from UI configuration ###########
spark.master=${spark.master}
spark.cores.max=${spark.cores.max}
spark.executor.instances=${spark.executor.instances}
spark.executor.cores=${spark.executor.cores}
spark.executor.memory=${spark.executor.memory}
vitria.spark.driver.classpath=${vitria.spark.driver.classpath}
vitria.app.class=${vitria.app.class}
vitria.app.name=${vitria.app.name}
spark.sql.hive.thriftServer.singleSession=true
spark.serializer=org.apache.spark.serializer.KryoSerializer
spark.scheduler.minRegisteredResourcesRatio=1.0
vitria.spark.delete.checkpointdir=false
spark.sql.shuffle.partitions=4
spark.kryo.registrator=${spark.kryo.registrator}
spark.hadoop.cloneConf=true
vitria.sparkdriver.extraJavaOption=-Xss4m
spark.sql.hive.convertMetastoreParquet=false 
spark.driver.memory=6g
########### Add your spark properties here ###########################
# vitria.sparkdriver.extraJavaOption=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=18787

spark.port.maxRetries=30]]></Spark>
      </Codes>
      <Libraries>
          <Lib scope="system" systemPath="${VTBA_HOME}/wildfly/modules/com/vitria/driver/main/mysql-connector-java-*-bin.jar"/>
      </Libraries>
      <Resources>
      </Resources>
      <Properties>[{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_source","label":"Metric Source","type":"string","optional":false,"hidden":"false","disabled":false,"resolveProperty":false,"value":"hdfs://opsintel-prd-ncw-hahdfs/viaops/stream_anomaly","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_incident_table","label":"Incident Table","type":"string","optional":false,"hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_incident_history","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_audit_table","label":"Incident Audit Table","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_incident_audit","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_incident_plus_da","label":"Incident Plus DA Result","type":"string","optional":false,"hidden":"false","disabled":false,"resolveProperty":false,"value":"hdfs://opsintel-prd-ncw-hahdfs/viaops/incident_plus_da","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_output_prefix","label":"Output File Prefix","type":"string","optional":true,"hidden":"false","disabled":false,"resolveProperty":false,"value":"simple-threshold","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_summary_table","label":"Incident Summary Table","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"viaops_incident_summary","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_rest_uri","label":"REST URI","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"https://via1/vitria-oi/rest","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_svc_uri","label":"Manifest URI","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"/app/dbp/user/do_admin/dbpm/DO - Manifest/AnalyticServiceManifest","enumSource":"","runtimeControl":false},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"p_username","label":"Service Call User Name","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"do_admin","enumSource":"","runtimeControl":false},{"editorType":"password","*":{"label":"label","desc":"desc"},"group":"common","name":"p_password","label":"Service Call Password","type":"string","hidden":"false","disabled":false,"resolveProperty":false,"value":"&lt;KdTqEVMKNES7a0K7idKu7BB&gt;","runtimeControl":false,"constraints":"password"},{"editorType":"textInput","*":{"label":"label","desc":"desc"},"group":"common","name":"retry_times","label":"Number of Retry to Call REST","type":"long","hidden":"false","disabled":false,"resolveProperty":false,"value":3,"enumSource":"","runtimeControl":false}]</Properties>
      <Types>[{"name":"raw_incident","schema":[{"name":"window_size","label":"window_size","type":"integer","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false},{"name":"anomaly_interval","label":"anomaly_interval","type":"integer","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false},{"name":"start_tm","label":"start_tm","type":"long","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false},{"name":"end_tm","label":"end_tm","type":"long","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false},{"name":"metric_id","label":"metric_id","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false},{"name":"dim_values","type":"string","_isOptional":false,"_isArray":false},{"name":"aggr_metric","label":"aggr_metric","type":"double","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false},{"name":"date_key","label":"date_key","type":"long","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false},{"name":"config_metric_id","label":"config_metric_id","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false,"wrapName":"metric_id","column":"metric_id"},{"name":"dim_keys","label":"dim_keys","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false,"wrapName":"dim_keys","column":"dim_keys"},{"name":"dim_pattern","label":"dim_pattern","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false,"wrapName":"dim_pattern","column":"dim_pattern"},{"name":"window","label":"window","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false,"wrapName":"window","column":"window"},{"name":"threshold_policy","label":"threshold_policy","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false,"wrapName":"threshold_policy","column":"threshold_policy"},{"name":"algorithm","label":"algorithm","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false,"wrapName":"algorithm","column":"algorithm"},{"name":"mode","label":"generate","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"generate","column":"generate"},{"name":"emit_notification","label":"emit_notification","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"emit_notification","column":"emit_notification"},{"name":"threshold_high","label":"threshold_high","type":"double","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"threshold_high","column":"threshold_high"},{"name":"threshold_low","label":"threshold_low","type":"double","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"threshold_low","column":"threshold_low"},{"name":"threshold_med","label":"threshold_med","type":"double","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"threshold_med","column":"threshold_med"},{"name":"expire_after","label":"expire_after","type":"integer","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"expire_after","column":"expire_after"},{"name":"cool_down_period","label":"cool_down_period","type":"integer","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"cool_down_period","column":"cool_down_period"},{"name":"warmup_period","label":"warmup_period","type":"integer","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"warmup_period","column":"warmup_period"},{"name":"warmup_threshold","label":"warmup_threshold","type":"double","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"warmup_threshold","column":"warmup_threshold"},{"name":"upd_dt","label":"upd_dt","type":"datetime","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"upd_dt","column":"upd_dt"},{"name":"service_name","label":"service_name","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false,"wrapName":"service_name","column":"service_name"},{"name":"sub_service_name","label":"sub_service_name","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false,"wrapName":"sub_service_name","column":"sub_service_name"},{"name":"correlation_time","label":"correlation_time","type":"long","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"correlation_time","column":"correlation_time"},{"name":"groupable","label":"groupable","type":"string","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":false,"wrapName":"groupable","column":"groupable"},{"name":"metric_hist_per","label":"metric_hist_per","type":"integer","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"metric_hist_per","column":"metric_hist_per"},{"name":"max_low_per","label":"max_low_per","type":"integer","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"max_low_per","column":"max_low_per"},{"name":"max_med_per","label":"max_med_per","type":"integer","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"max_med_per","column":"max_med_per"},{"name":"tot_max_low_per","label":"tot_max_low_per","type":"integer","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"tot_max_low_per","column":"tot_max_low_per"},{"name":"tot_max_med_per","label":"tot_max_med_per","type":"integer","_isDimension":false,"_isMeasure":false,"clazz":"","_isArray":false,"_isOptional":true,"wrapName":"tot_max_med_per","column":"tot_max_med_per"},{"name":"late_data_timer","type":"integer","_isOptional":true,"_isArray":false}],"namespace":"viaops"}]</Types>
      </Flow>
    </Flows>
  </ModelInfo>
</DataPipeModel>